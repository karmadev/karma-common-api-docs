openapi: 3.0.3
info:
  title: Karma Common API
  description: |-
    # Introduction

    The Karma Common API is a centralized REST API for the Karma restaurant platform, providing secure access to core resources including inventory, orders, schedules, webhooks, and more.

    ## Features

    - **API Key Authentication**: Simple, long-lived access with bcrypt-hashed keys
    - **Comprehensive Access Control**: Fine-grained permissions for all resources
    - **Rate Limiting**: Automatic rate limiting based on your API key tier
    - **Webhook Support**: Real-time event notifications via webhooks
    - **TypeScript SDK**: Official SDK for JavaScript/TypeScript applications

    ## Get Started

    ### Installation

    Install the official TypeScript/JavaScript SDK:

    ```bash
    npm install @karmalicious/karma-api-js
    ```

    ### Quick Start

    ```typescript
    import { createKarmaClient } from '@karmalicious/karma-api-js'

    const client = createKarmaClient({
      apiKey: 'karma_live_your_api_key_here',
      baseUrl: 'https://common-api.karma.life' // optional, defaults to production
    })

    // Fetch inventory items
    const inventory = await client.inventory.getInventoryItems({
      locationId: 100,
      limit: 50
    })

    // Create an order
    const order = await client.orders.createOrder({
      locationId: 100,
      orderChannel: 'POS',
      orderType: 'DINE_IN',
      orderDestination: 'KITCHEN',
      items: [
        { itemId: 123, quantity: 2 }
      ]
    })
    ```

    ### NPM Package

    View the package on npm: [@karmalicious/karma-api-js](https://www.npmjs.com/package/@karmalicious/karma-api-js)

    ## Authentication

    All endpoints require an API key in the `X-API-Key` header:

    ```
    X-API-Key: karma_live_your_api_key_here
    ```

    API keys can be managed through the Karma Merchant Dashboard.

    ## Rate Limiting

    Rate limits are applied per API key based on your subscription tier:
    - **Standard**: 1,000 requests/hour
    - **Premium**: 10,000 requests/hour
    - **Unlimited**: 100,000 requests/hour

    Rate limit headers are included in all responses:
    - `X-RateLimit-Limit`: Total requests allowed
    - `X-RateLimit-Remaining`: Requests remaining
    - `X-RateLimit-Reset`: Unix timestamp when limit resets

    ## Support

    For questions or issues, contact the Karma team at hello@karma.life
  version: 20260123-1001-1
  contact:
    name: Karma Team
    email: hello@karma.life
components:
  securitySchemes:
    ApiKeyAuth:
      type: apiKey
      in: header
      name: X-API-Key
      description: "API key authentication. Format: `karma_live_*` or `karma_dev_*`"
  schemas: {}
paths:
  /health:
    get:
      tags:
        - Internal
      description: Simple health check endpoint. Returns basic status of database and
        Redis dependencies. Used for quick health verification.
      x-internal: true
      responses:
        "200":
          description: Service is healthy
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - healthy
                      - unhealthy
                    description: Overall service status
                  checks:
                    type: object
                    properties:
                      database:
                        type: boolean
                        description: Database connectivity
                      redis:
                        type: boolean
                        description: Redis connectivity
                    required:
                      - database
                      - redis
                  timestamp:
                    type: string
                    format: date-time
                    description: Check timestamp
                required:
                  - status
                  - checks
                  - timestamp
              example:
                status: healthy
                checks:
                  database: true
                  redis: true
                timestamp: 2025-01-15T10:30:00.000Z
        "503":
          description: Service is unhealthy
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - unhealthy
                  checks:
                    type: object
                    properties:
                      database:
                        type: boolean
                      redis:
                        type: boolean
                  timestamp:
                    type: string
                    format: date-time
              example:
                status: unhealthy
                checks:
                  database: true
                  redis: false
                timestamp: 2025-01-15T10:30:00.000Z
  /ready:
    get:
      tags:
        - Internal
      description: Kubernetes readiness probe with detailed dependency status. Returns
        response times and error details for each dependency. Use for
        determining if the service is ready to receive traffic.
      x-internal: true
      responses:
        "200":
          description: Service is ready to receive traffic
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - healthy
                      - degraded
                      - unhealthy
                    description: Overall status
                  timestamp:
                    type: string
                    format: date-time
                    description: Check timestamp
                  uptime:
                    type: number
                    description: Service uptime in seconds
                  dependencies:
                    type: object
                    properties:
                      database:
                        type: object
                        properties:
                          status:
                            type: string
                            enum:
                              - healthy
                              - unhealthy
                              - degraded
                            description: Dependency health status
                          responseTimeMs:
                            type: number
                            description: Response time to check dependency in milliseconds
                          error:
                            type: string
                            description: Error message if unhealthy
                        required:
                          - status
                      redis:
                        type: object
                        properties:
                          status:
                            type: string
                            enum:
                              - healthy
                              - unhealthy
                              - degraded
                            description: Dependency health status
                          responseTimeMs:
                            type: number
                            description: Response time to check dependency in milliseconds
                          error:
                            type: string
                            description: Error message if unhealthy
                        required:
                          - status
                    required:
                      - database
                      - redis
                required:
                  - status
                  - timestamp
                  - uptime
                  - dependencies
              example:
                status: healthy
                timestamp: 2025-01-15T10:30:00.000Z
                uptime: 3600
                dependencies:
                  database:
                    status: healthy
                    responseTimeMs: 5
                  redis:
                    status: healthy
                    responseTimeMs: 2
        "503":
          description: Service is not ready
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - degraded
                      - unhealthy
                  timestamp:
                    type: string
                    format: date-time
                  uptime:
                    type: number
                  dependencies:
                    type: object
                    properties:
                      database:
                        type: object
                        properties:
                          status:
                            type: string
                            enum:
                              - healthy
                              - unhealthy
                              - degraded
                            description: Dependency health status
                          responseTimeMs:
                            type: number
                            description: Response time to check dependency in milliseconds
                          error:
                            type: string
                            description: Error message if unhealthy
                        required:
                          - status
                      redis:
                        type: object
                        properties:
                          status:
                            type: string
                            enum:
                              - healthy
                              - unhealthy
                              - degraded
                            description: Dependency health status
                          responseTimeMs:
                            type: number
                            description: Response time to check dependency in milliseconds
                          error:
                            type: string
                            description: Error message if unhealthy
                        required:
                          - status
              example:
                status: unhealthy
                timestamp: 2025-01-15T10:30:00.000Z
                uptime: 3600
                dependencies:
                  database:
                    status: healthy
                    responseTimeMs: 5
                  redis:
                    status: unhealthy
                    responseTimeMs: 1000
                    error: Connection refused
  /live:
    get:
      tags:
        - Internal
      description: Kubernetes liveness probe. Lightweight check that the service
        process is running. Does not check external dependencies. Use to
        determine if the service should be restarted.
      x-internal: true
      responses:
        "200":
          description: Service is alive
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - alive
                    description: Process status
                  timestamp:
                    type: string
                    format: date-time
                    description: Check timestamp
                  uptime:
                    type: number
                    description: Service uptime in seconds
                required:
                  - status
                  - timestamp
                  - uptime
              example:
                status: alive
                timestamp: 2025-01-15T10:30:00.000Z
                uptime: 3600
  /api/v1/retailer/auth/login:
    post:
      summary: Retailer user login
      tags:
        - Retailer Authentication
      description: Authenticate a retailer (merchant) user with email and password.
        Returns a JWT token with location context that includes user_id,
        location_id, company_id, and role_id. The token is valid for 7 days.
        This endpoint is specifically for retailer/merchant users, not end
        customers.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - password
              properties:
                email:
                  type: string
                  format: email
                  description: Retailer user email address
                password:
                  type: string
                  description: Retailer user password
                  minLength: 1
        required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                        description: Whether login was successful
                      token:
                        type: string
                        description: JWT token containing user_id, location_id, company_id, and role_id.
                          Valid for 7 days. Use this token in the Authorization
                          header as "Bearer {token}" for subsequent requests.
                      userId:
                        type: number
                        description: Retailer user ID
                      email:
                        type: string
                        description: Retailer user email address
                      name:
                        type: string
                        nullable: true
                        description: Retailer user full name
                      activeLocationId:
                        type: number
                        nullable: true
                        description: ID of the retailer's currently active location/restaurant
                      activeCompanyId:
                        type: number
                        nullable: true
                        description: ID of the company associated with the active location
                      roleId:
                        type: number
                        nullable: true
                        description: ID of the retailer's role in the active location (e.g., Manager,
                          Staff, etc.)
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        description: Error code
                      message:
                        type: string
                        description: Human-readable error message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "401":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        description: Error code
                      message:
                        type: string
                        description: Human-readable error message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "500":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        description: Error code
                      message:
                        type: string
                        description: Human-readable error message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
  /api/v1/inventory:
    get:
      summary: List inventory items
      tags:
        - Inventory
      description: >-
        Retrieve a paginated list of inventory items with filtering and search
        capabilities


        **Permissions:** ðŸ”µ `inventory.read`
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: false
          description: Filter by location ID
        - schema:
            type: number
            minimum: 1
            default: 1
          in: query
          name: page
          required: false
          description: Page number
        - schema:
            type: number
            minimum: 1
            maximum: 100
            default: 20
          in: query
          name: limit
          required: false
          description: Items per page
        - schema:
            type: string
            default: title
          in: query
          name: sort
          required: false
          description: Field to sort by (title, basePrice, createdAt, etc.)
        - schema:
            type: string
            enum:
              - asc
              - desc
            default: asc
          in: query
          name: order
          required: false
          description: Sort order
        - schema:
            type: boolean
            default: false
          in: query
          name: deleted
          required: false
          description: Include deleted items
        - schema:
            type: string
          in: query
          name: search
          required: false
          description: Search term for title/description
        - schema:
            type: array
            items:
              type: string
          in: query
          name: tags
          required: false
          description: Filter by tags
        - schema:
            type: string
          in: query
          name: itemType
          required: false
          description: Filter by item type
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                              description: Unique inventory item ID
                            locationId:
                              type: number
                              description: Location ID this item belongs to
                            title:
                              type: string
                              description: Item title/name
                            description:
                              type: string
                              nullable: true
                              description: Item description
                            basePrice:
                              type: number
                              nullable: true
                              description: Base price in cents (deprecated - use calculatedPrice)
                            calculatedPrice:
                              type: number
                              description: Final calculated price in cents after applying all pricings
                            itemType:
                              type: string
                              nullable: true
                              description: Item type (food, beverage, etc.)
                            isAvailable:
                              type: boolean
                              description: Whether item is available for ordering
                            deleted:
                              type: boolean
                              description: Whether item is soft-deleted
                            madeToOrder:
                              type: boolean
                              description: Whether item is made to order
                            tags:
                              type: object
                              description: Item tags grouped by type
                            createdDate:
                              type: string
                              format: date-time
                              description: Creation timestamp
                            channelAvailability:
                              type: object
                              description: Channel availability flags
                              properties:
                                online:
                                  type: boolean
                                  description: Available on online channel
                                qr:
                                  type: boolean
                                  description: Available on QR channel
                                kiosk:
                                  type: boolean
                                  description: Available on kiosk channel
                                pos:
                                  type: boolean
                                  description: Available on POS channel
                          required:
                            - id
                            - locationId
                            - title
                            - deleted
                            - createdDate
                            - madeToOrder
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                            minimum: 1
                          limit:
                            type: number
                            minimum: 1
                            maximum: 100
                          total:
                            type: number
                            minimum: 0
                          totalPages:
                            type: number
                            minimum: 0
                        required:
                          - page
                          - limit
                          - total
                          - totalPages
                    required:
                      - items
                      - pagination
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    post:
      summary: Create inventory item
      tags:
        - Inventory
      description: |-
        Add a new menu item or product to the inventory

        **Permissions:** ðŸŸ¢ `inventory.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                locationId:
                  type: number
                  description: Location ID
                title:
                  type: string
                  minLength: 1
                  description: Item title
                description:
                  type: string
                  nullable: true
                  description: Item description
                basePrice:
                  type: number
                  minimum: 0
                  description: Base price in cents
                itemType:
                  type: string
                  description: Item type
                tags:
                  type: array
                  items:
                    type: string
                  description: Item tags
              required:
                - locationId
                - title
                - basePrice
                - itemType
        required: true
      responses:
        "201":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                        description: Unique inventory item ID
                      locationId:
                        type: number
                        description: Location ID this item belongs to
                      title:
                        type: string
                        description: Item title/name
                      description:
                        type: string
                        nullable: true
                        description: Item description
                      basePrice:
                        type: number
                        nullable: true
                        description: Base price in cents (deprecated - use calculatedPrice)
                      calculatedPrice:
                        type: number
                        description: Final calculated price in cents after applying all pricings
                      itemType:
                        type: string
                        nullable: true
                        description: Item type (food, beverage, etc.)
                      isAvailable:
                        type: boolean
                        description: Whether item is available for ordering
                      deleted:
                        type: boolean
                        description: Whether item is soft-deleted
                      madeToOrder:
                        type: boolean
                        description: Whether item is made to order
                      tags:
                        type: object
                        description: Item tags grouped by type
                      createdDate:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      channelAvailability:
                        type: object
                        description: Channel availability flags
                        properties:
                          online:
                            type: boolean
                            description: Available on online channel
                          qr:
                            type: boolean
                            description: Available on QR channel
                          kiosk:
                            type: boolean
                            description: Available on kiosk channel
                          pos:
                            type: boolean
                            description: Available on POS channel
                    required:
                      - id
                      - locationId
                      - title
                      - deleted
                      - createdDate
                      - madeToOrder
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/inventory/{id}:
    get:
      summary: Get inventory item
      tags:
        - Inventory
      description: |-
        Retrieve detailed information about a specific inventory item by its ID

        **Permissions:** ðŸ”µ `inventory.read`
      parameters:
        - schema:
            type: string
            pattern: ^[0-9]+$
          in: path
          name: id
          required: true
          description: Inventory item ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                        description: Unique inventory item ID
                      locationId:
                        type: number
                        description: Location ID this item belongs to
                      title:
                        type: string
                        description: Item title/name
                      description:
                        type: string
                        nullable: true
                        description: Item description
                      basePrice:
                        type: number
                        nullable: true
                        description: Base price in cents (deprecated - use calculatedPrice)
                      calculatedPrice:
                        type: number
                        description: Final calculated price in cents after applying all pricings
                      itemType:
                        type: string
                        nullable: true
                        description: Item type (food, beverage, etc.)
                      isAvailable:
                        type: boolean
                        description: Whether item is available for ordering
                      deleted:
                        type: boolean
                        description: Whether item is soft-deleted
                      madeToOrder:
                        type: boolean
                        description: Whether item is made to order
                      tags:
                        type: object
                        description: Item tags grouped by type
                      createdDate:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      channelAvailability:
                        type: object
                        description: Channel availability flags
                        properties:
                          online:
                            type: boolean
                            description: Available on online channel
                          qr:
                            type: boolean
                            description: Available on QR channel
                          kiosk:
                            type: boolean
                            description: Available on kiosk channel
                          pos:
                            type: boolean
                            description: Available on POS channel
                    required:
                      - id
                      - locationId
                      - title
                      - deleted
                      - createdDate
                      - madeToOrder
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    put:
      summary: Update inventory item
      tags:
        - Inventory
      description: |-
        Modify an existing inventory item's details

        **Permissions:** ðŸŸ  `inventory.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                  minLength: 1
                description:
                  type: string
                  nullable: true
                basePrice:
                  type: number
                  minimum: 0
                itemType:
                  type: string
                available:
                  type: boolean
              additionalProperties: true
      parameters:
        - schema:
            type: string
            pattern: ^[0-9]+$
          in: path
          name: id
          required: true
          description: Inventory item ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                        description: Unique inventory item ID
                      locationId:
                        type: number
                        description: Location ID this item belongs to
                      title:
                        type: string
                        description: Item title/name
                      description:
                        type: string
                        nullable: true
                        description: Item description
                      basePrice:
                        type: number
                        nullable: true
                        description: Base price in cents (deprecated - use calculatedPrice)
                      calculatedPrice:
                        type: number
                        description: Final calculated price in cents after applying all pricings
                      itemType:
                        type: string
                        nullable: true
                        description: Item type (food, beverage, etc.)
                      isAvailable:
                        type: boolean
                        description: Whether item is available for ordering
                      deleted:
                        type: boolean
                        description: Whether item is soft-deleted
                      madeToOrder:
                        type: boolean
                        description: Whether item is made to order
                      tags:
                        type: object
                        description: Item tags grouped by type
                      createdDate:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      channelAvailability:
                        type: object
                        description: Channel availability flags
                        properties:
                          online:
                            type: boolean
                            description: Available on online channel
                          qr:
                            type: boolean
                            description: Available on QR channel
                          kiosk:
                            type: boolean
                            description: Available on kiosk channel
                          pos:
                            type: boolean
                            description: Available on POS channel
                    required:
                      - id
                      - locationId
                      - title
                      - deleted
                      - createdDate
                      - madeToOrder
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    delete:
      summary: Delete inventory item
      tags:
        - Inventory
      description: >-
        Soft-delete an inventory item (marks as deleted without removing from
        database)


        **Permissions:** ðŸ”´ `inventory.delete`
      parameters:
        - schema:
            type: string
            pattern: ^[0-9]+$
          in: path
          name: id
          required: true
          description: Inventory item ID
      responses:
        "200":
          description: Item successfully deleted
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      deleted:
                        type: boolean
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/inventory/{itemId}/availability:
    post:
      summary: Toggle item availability
      tags:
        - Inventory
      description: |-
        Enable or disable an inventory item for customer ordering

        **Permissions:** ðŸŸ  `inventory.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                action:
                  type: string
                  enum:
                    - ACTIVATE
                    - DEACTIVATE
                  description: "Action to perform: ACTIVATE to make item available, DEACTIVATE to
                    hide it"
              required:
                - action
        required: true
      parameters:
        - schema:
            type: string
            pattern: ^[0-9]+$
          in: path
          name: itemId
          required: true
          description: Inventory item ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      itemId:
                        type: number
                        description: Inventory item ID
                      action:
                        type: string
                        enum:
                          - ACTIVATE
                          - DEACTIVATE
                        description: Action performed
                      isAvailable:
                        type: boolean
                        description: Current availability status
                    required:
                      - itemId
                      - action
                      - isAvailable
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/inventory/{id}/inheritance:
    put:
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
  /api/v1/inventory/{id}/overrides:
    get:
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
    put:
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
  /api/v1/inventory/validate:
    post:
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - locationId
                - items
              properties:
                locationId:
                  type: number
                  minimum: 1
                items:
                  type: array
                  minItems: 1
                  items:
                    type: object
                    required:
                      - itemId
                    properties:
                      itemId:
                        type: number
                        minimum: 1
                      variants:
                        type: array
                        items:
                          type: object
                          required:
                            - id
                          additionalProperties: true
                          properties:
                            id:
                              type: number
                              minimum: 1
                            quantity:
                              type: number
                              minimum: 0.01
                      quantity:
                        type: number
                        minimum: 1
                      menuId:
                        type: string
                validateMenu:
                  type: boolean
        required: true
      responses:
        "200":
          description: Validation response containing valid and invalid items with nested
            variant structures
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
                description: Validation response containing valid and invalid items with nested
                  variant structures
        "400":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                      executionTimeMs:
                        type: number
        "401":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                      executionTimeMs:
                        type: number
        "403":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                      executionTimeMs:
                        type: number
        "500":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                      executionTimeMs:
                        type: number
  /api/v1/stores/{slug}/information:
    get:
      summary: Get store information by slug
      tags:
        - stores
      description: >
        
        Fetches comprehensive store information for the storefront.


        This endpoint returns all data needed to render a store page, including:

        - Basic store information (name, address, contact)

        - Current sale status and times

        - Opening hours for each day of the week

        - Theme and branding configuration

        - Feature flags and settings

        - Loyalty program information


        **Note:** This endpoint requires API key authentication. The slug is the
        URL-friendly

        identifier for the store (e.g., "joes-pizza" for "Joe's Pizza").
      parameters:
        - schema:
            type: string
          in: path
          name: slug
          required: true
          description: Store URL slug (e.g., "joes-pizza")
      responses:
        "200":
          description: Store information retrieved successfully
          content:
            application/json:
              schema:
                description: Store information retrieved successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      locationId:
                        type: number
                        description: Unique location identifier
                      name:
                        type: string
                        description: Store name
                      description:
                        type: string
                        nullable: true
                        description: Store description
                      latitude:
                        type: number
                        description: Latitude coordinate
                      longitude:
                        type: number
                        description: Longitude coordinate
                      streetAdress:
                        type: string
                        nullable: true
                        description: Street address
                      zip:
                        type: string
                        nullable: true
                        description: ZIP/postal code
                      city:
                        type: string
                        nullable: true
                        description: City
                      website:
                        type: string
                        nullable: true
                        description: Website URL
                      phone:
                        type: string
                        nullable: true
                        description: Phone number
                      currencyCode:
                        type: string
                        enum:
                          - SEK
                          - GBP
                          - EUR
                          - DKK
                          - NOK
                          - ISK
                          - JPY
                        description: Currency code
                      logoImageUrl:
                        type: string
                        nullable: true
                        description: Logo image URL
                      featureImageUrl:
                        type: string
                        nullable: true
                        description: Feature image URL
                      pickupInformation:
                        type: string
                        nullable: true
                        description: Pickup instructions
                      openingHours:
                        type: object
                        nullable: true
                        properties:
                          monday:
                            type: object
                            properties:
                              open:
                                type: string
                                description: Opening time (HH:mm)
                              close:
                                type: string
                                description: Closing time (HH:mm)
                              pickup_start:
                                type: string
                                description: Pickup start time (HH:mm)
                              pickup_end:
                                type: string
                                description: Pickup end time (HH:mm)
                              closed:
                                type: boolean
                                description: Whether the store is closed on this day
                            required:
                              - open
                              - close
                              - pickup_start
                              - pickup_end
                              - closed
                          tuesday:
                            type: object
                            properties:
                              open:
                                type: string
                                description: Opening time (HH:mm)
                              close:
                                type: string
                                description: Closing time (HH:mm)
                              pickup_start:
                                type: string
                                description: Pickup start time (HH:mm)
                              pickup_end:
                                type: string
                                description: Pickup end time (HH:mm)
                              closed:
                                type: boolean
                                description: Whether the store is closed on this day
                            required:
                              - open
                              - close
                              - pickup_start
                              - pickup_end
                              - closed
                          wednesday:
                            type: object
                            properties:
                              open:
                                type: string
                                description: Opening time (HH:mm)
                              close:
                                type: string
                                description: Closing time (HH:mm)
                              pickup_start:
                                type: string
                                description: Pickup start time (HH:mm)
                              pickup_end:
                                type: string
                                description: Pickup end time (HH:mm)
                              closed:
                                type: boolean
                                description: Whether the store is closed on this day
                            required:
                              - open
                              - close
                              - pickup_start
                              - pickup_end
                              - closed
                          thursday:
                            type: object
                            properties:
                              open:
                                type: string
                                description: Opening time (HH:mm)
                              close:
                                type: string
                                description: Closing time (HH:mm)
                              pickup_start:
                                type: string
                                description: Pickup start time (HH:mm)
                              pickup_end:
                                type: string
                                description: Pickup end time (HH:mm)
                              closed:
                                type: boolean
                                description: Whether the store is closed on this day
                            required:
                              - open
                              - close
                              - pickup_start
                              - pickup_end
                              - closed
                          friday:
                            type: object
                            properties:
                              open:
                                type: string
                                description: Opening time (HH:mm)
                              close:
                                type: string
                                description: Closing time (HH:mm)
                              pickup_start:
                                type: string
                                description: Pickup start time (HH:mm)
                              pickup_end:
                                type: string
                                description: Pickup end time (HH:mm)
                              closed:
                                type: boolean
                                description: Whether the store is closed on this day
                            required:
                              - open
                              - close
                              - pickup_start
                              - pickup_end
                              - closed
                          saturday:
                            type: object
                            properties:
                              open:
                                type: string
                                description: Opening time (HH:mm)
                              close:
                                type: string
                                description: Closing time (HH:mm)
                              pickup_start:
                                type: string
                                description: Pickup start time (HH:mm)
                              pickup_end:
                                type: string
                                description: Pickup end time (HH:mm)
                              closed:
                                type: boolean
                                description: Whether the store is closed on this day
                            required:
                              - open
                              - close
                              - pickup_start
                              - pickup_end
                              - closed
                          sunday:
                            type: object
                            properties:
                              open:
                                type: string
                                description: Opening time (HH:mm)
                              close:
                                type: string
                                description: Closing time (HH:mm)
                              pickup_start:
                                type: string
                                description: Pickup start time (HH:mm)
                              pickup_end:
                                type: string
                                description: Pickup end time (HH:mm)
                              closed:
                                type: boolean
                                description: Whether the store is closed on this day
                            required:
                              - open
                              - close
                              - pickup_start
                              - pickup_end
                              - closed
                      averageRating:
                        type: number
                        nullable: true
                        description: Average customer rating
                      saleStatus:
                        type: string
                        enum:
                          - open
                          - closed
                          - delivering
                          - paused
                          - undecided
                          - waiting
                        description: Current sale status
                      saleStart:
                        type: string
                        nullable: true
                        format: date-time
                        description: Sale start time
                      saleEnd:
                        type: string
                        nullable: true
                        format: date-time
                        description: Sale end time
                      salePickupStart:
                        type: string
                        nullable: true
                        format: date-time
                        description: Pickup window start
                      salePickupEnd:
                        type: string
                        nullable: true
                        format: date-time
                        description: Pickup window end
                      defaultPreparationTimeSeconds:
                        type: number
                        description: Default order prep time in seconds
                      timeSlotDurationInMinutes:
                        type: number
                        nullable: true
                        description: Time slot duration
                      psp:
                        type: string
                        enum:
                          - adyen
                        description: Payment service provider
                      extendedWaitingTime:
                        type: object
                        nullable: true
                        properties:
                          id:
                            type: number
                          locationId:
                            type: number
                          endsAt:
                            type: string
                            format: date-time
                          delayInMinutes:
                            type: number
                            nullable: true
                        required:
                          - id
                          - locationId
                          - endsAt
                      isItemCommentAllowed:
                        type: boolean
                        description: Whether item comments are allowed
                      takeawayEnabled:
                        type: boolean
                        description: Whether takeaway is enabled
                      isMigratedToPurchase:
                        type: boolean
                        description: Whether migrated to purchase payments
                      isDiscountsEnabled:
                        type: boolean
                        description: Whether discounts are enabled
                      isScanToTabEnabled:
                        type: boolean
                        description: Whether scan-to-tab is enabled
                      isSplitItemEnabled:
                        type: boolean
                        description: Whether split item is enabled
                      isUserSessionsEnabled:
                        type: boolean
                        description: Whether user sessions are enabled
                      orderPlacements:
                        type: object
                        additionalProperties:
                          type: string
                        description: Order placement configuration
                      timezone:
                        type: string
                        description: Timezone (e.g., Europe/Stockholm)
                      context:
                        type: string
                        nullable: true
                        description: Location context JSON string
                      smsNotifications:
                        type: boolean
                        description: Whether SMS notifications are enabled
                      swishConfig:
                        type: object
                        nullable: true
                        properties:
                          number:
                            type: number
                            description: Swish number
                      themes:
                        type: array
                        nullable: true
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                            name:
                              type: string
                              nullable: true
                            logo:
                              type: string
                              nullable: true
                            brandPrimaryColor:
                              type: string
                              nullable: true
                            brandColorTextOnPrimary:
                              type: string
                              nullable: true
                            brandFontPath:
                              type: string
                              nullable: true
                            brandFontFamily:
                              type: string
                              nullable: true
                          required:
                            - id
                        description: Location themes
                      locationCenters:
                        type: array
                        nullable: true
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                            name:
                              type: string
                            logo:
                              type: string
                              nullable: true
                            visibleMenuGroups:
                              type: array
                              items:
                                type: number
                            themeId:
                              type: number
                              nullable: true
                          required:
                            - id
                            - name
                            - visibleMenuGroups
                        description: Location centers
                      tip:
                        type: boolean
                        description: Whether tipping is enabled
                      externalName:
                        type: string
                        nullable: true
                        description: External display name
                      externalTos:
                        type: array
                        nullable: true
                        items:
                          type: object
                          properties:
                            name:
                              type: string
                            link:
                              type: string
                          required:
                            - name
                            - link
                        description: External terms of service links
                      loyaltyProgram:
                        type: object
                        properties:
                          programId:
                            type: number
                          name:
                            type: string
                          slug:
                            type: string
                          baseColor:
                            type: string
                          pointConversion:
                            type: object
                            nullable: true
                            properties:
                              everyXCents:
                                type: number
                              earnYPoints:
                                type: number
                        required:
                          - programId
                          - name
                          - slug
                          - baseColor
                        description: Loyalty program information
                    required:
                      - locationId
                      - name
                      - latitude
                      - longitude
                      - currencyCode
                      - averageRating
                      - saleStatus
                      - defaultPreparationTimeSeconds
                      - psp
                      - isItemCommentAllowed
                      - takeawayEnabled
                      - isMigratedToPurchase
                      - isDiscountsEnabled
                      - isScanToTabEnabled
                      - isSplitItemEnabled
                      - orderPlacements
                      - timezone
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/translations/inventory:
    get:
      tags:
        - translations
      description: Get translated inventory items by location and locale with ID-keyed
        response for simple client merging
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: true
          description: Location ID
        - schema:
            type: string
            enum:
              - en
              - sv
              - no
              - fi
              - es
              - de
              - fr
              - ar
              - pl
              - ru
              - zh
              - ja
          in: query
          name: locale
          required: true
          description: Target language code
        - schema:
            type: boolean
            default: false
          in: query
          name: includeVariants
          required: false
          description: Include variant group translations
        - schema:
            type: number
            default: 1
            minimum: 1
          in: query
          name: page
          required: false
          description: Page number for pagination
        - schema:
            type: number
            default: 100
            minimum: 1
            maximum: 1000
          in: query
          name: limit
          required: false
          description: Items per page (max 1000)
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      inventory:
                        type: object
                        description: ID-keyed inventory translations (item ID â†’ translations)
                        additionalProperties:
                          type: object
                          properties:
                            title:
                              type: string
                              description: Translated item title
                            description:
                              type: string
                              description: Translated item description
                            ingredients:
                              type: string
                              description: Translated item ingredients
                          required:
                            - title
                      variants:
                        type: object
                        description: ID-keyed variant group translations (variant group ID â†’
                          translations)
                        additionalProperties:
                          type: object
                          properties:
                            title:
                              type: string
                              description: Translated variant group title
                            choices:
                              type: object
                              description: ID-keyed choice translations (choice ID â†’ translations)
                              additionalProperties:
                                type: object
                                properties:
                                  title:
                                    type: string
                                    description: Translated choice title
                                required:
                                  - title
                          required:
                            - title
                            - choices
                      metadata:
                        type: object
                        properties:
                          totalItems:
                            type: number
                            description: Total number of items translated
                          uniqueStrings:
                            type: number
                            description: Number of unique strings (after deduplication)
                          cacheHits:
                            type: number
                            description: Number of translations served from cache
                          cacheMisses:
                            type: number
                            description: Number of translations fetched from Google Translate
                          executionTimeMs:
                            type: number
                            description: Total execution time in milliseconds
                        required:
                          - totalItems
                          - uniqueStrings
                          - cacheHits
                          - cacheMisses
                          - executionTimeMs
                    required:
                      - inventory
                      - variants
                      - metadata
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid parameters
          content:
            application/json:
              schema:
                type: object
                description: Bad Request - Invalid parameters
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                description: Forbidden - Insufficient permissions
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                description: Internal Server Error
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
  /api/v1/locations/{locationId}:
    get:
      summary: Get a location by ID
      tags:
        - Locations
      description: >-
        Get detailed information about a specific location, including its
        feature toggles.


        **Features:**

        By default, the response includes all available features and their
        status for this location.

        Set `includeFeatures=false` to exclude features from the response.


        **Response includes:**

        - Location details (name, address, timezone, currency, etc.)

        - Feature toggles with enabled status and optional metadata

        - Hierarchy information if applicable


        **Permissions:** ðŸ”µ `locations.read`
      parameters:
        - schema:
            type: boolean
          in: query
          name: includeFeatures
          required: false
          description: "Include feature toggles in response (default: true)"
        - schema:
            type: string
          in: path
          name: locationId
          required: true
          description: Location ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      location:
                        type: object
                        properties:
                          id:
                            type: number
                            description: Unique location ID
                          name:
                            type: string
                            description: Location name
                          companyId:
                            type: number
                            description: Company ID this location belongs to
                          address:
                            type: string
                            nullable: true
                            description: Street address
                          city:
                            type: string
                            nullable: true
                            description: City name
                          zip:
                            type: string
                            nullable: true
                            description: ZIP/postal code
                          country:
                            type: string
                            nullable: true
                            description: Country code (SE, NO, etc.)
                          timezone:
                            type: string
                            nullable: true
                            description: Timezone name (e.g., Europe/Stockholm)
                          currency:
                            type: string
                            nullable: true
                            description: Currency code (e.g., SEK)
                          parentLocationId:
                            type: number
                            nullable: true
                            description: Parent location ID for hierarchy
                          locationType:
                            type: string
                            enum:
                              - company_hq
                              - division
                              - region
                              - area
                              - city
                              - store
                              - warehouse
                              - kitchen
                              - office
                              - other
                            description: Type of location in the hierarchy
                            nullable: true
                          isRootCompany:
                            type: boolean
                            nullable: true
                            description: Whether this is a root company location
                          hierarchyMetadata:
                            type: object
                            nullable: true
                            description: Hierarchy metadata (level, path, etc.)
                          createdAt:
                            type: string
                            format: date-time
                            description: Creation timestamp
                          updatedAt:
                            type: string
                            format: date-time
                            description: Last update timestamp
                          features:
                            type: array
                            items:
                              type: object
                              properties:
                                key:
                                  type: string
                                  description: Feature key identifier
                                category:
                                  type: string
                                  enum:
                                    - ordering
                                    - kitchen
                                    - loyalty
                                    - payments
                                    - inventory
                                    - integrations
                                    - storefront
                                    - operations
                                  description: Feature category
                                enabled:
                                  type: boolean
                                  description: Whether the feature is enabled for this location
                                metadata:
                                  type: object
                                  nullable: true
                                  description: Optional feature configuration metadata
                              required:
                                - key
                                - category
                                - enabled
                            description: List of features and their status for this location
                        required:
                          - id
                          - name
                          - companyId
                          - createdAt
                          - updatedAt
                    required:
                      - location
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/locations:
    post:
      summary: Create a new location
      tags:
        - Locations
      description: >-
        Create a new location for the merchant. The location will be linked to
        the same company as the user's current active location.


        **Hierarchy Options:**

        - **Standalone** (default): Independent location with no parent

        - **Parent**: Set `isRootCompany: true` to mark as a parent/root
        location

        - **Child**: Provide `parentLocationId` to create as a child of another
        location


        **Payout Account:**

        A payout account will be created with the specified PSP (STRIPE or
        ADYEN). For Adyen, `billingEmail` is required.


        **Required Fields:**

        - `name`: Location name (1-255 characters)

        - `address`: Street address

        - `city`: City name

        - `country`: Country code (e.g., SE, NO)

        - `psp`: Payment Service Provider (STRIPE or ADYEN)


        **Permissions:** ðŸŸ¢ `locations.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  minLength: 1
                  maxLength: 255
                  description: Location name (1-255 characters)
                address:
                  type: string
                  minLength: 1
                  description: Street address
                city:
                  type: string
                  minLength: 1
                  description: City name
                country:
                  type: string
                  minLength: 2
                  maxLength: 2
                  description: Country code (e.g., SE, NO, DK)
                psp:
                  type: string
                  enum:
                    - STRIPE
                    - ADYEN
                  description: Payment Service Provider for payout account (STRIPE or ADYEN)
                parentLocationId:
                  type: number
                  description: Parent location ID (required for child locations)
                locationType:
                  type: string
                  enum:
                    - company_hq
                    - division
                    - region
                    - area
                    - city
                    - store
                    - warehouse
                    - kitchen
                    - office
                    - other
                  description: Type of location in the organization hierarchy
                isRootCompany:
                  type: boolean
                  description: Set to true to mark this as a parent/root company location
                timezone:
                  type: string
                  description: Timezone name (e.g., Europe/Stockholm). Defaults to parent location
                    or company default.
                currency:
                  type: string
                  description: Currency code (e.g., SEK). Defaults to parent location or company
                    default.
                zip:
                  type: string
                  description: ZIP/postal code
                billingEmail:
                  type: string
                  format: email
                  description: Billing email address (required if psp is ADYEN)
              required:
                - name
                - address
                - city
                - country
                - psp
        required: true
      responses:
        "201":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      location:
                        type: object
                        properties:
                          id:
                            type: number
                            description: Unique location ID
                          name:
                            type: string
                            description: Location name
                          companyId:
                            type: number
                            description: Company ID this location belongs to
                          address:
                            type: string
                            nullable: true
                            description: Street address
                          city:
                            type: string
                            nullable: true
                            description: City name
                          zip:
                            type: string
                            nullable: true
                            description: ZIP/postal code
                          country:
                            type: string
                            nullable: true
                            description: Country code (SE, NO, etc.)
                          timezone:
                            type: string
                            nullable: true
                            description: Timezone name (e.g., Europe/Stockholm)
                          currency:
                            type: string
                            nullable: true
                            description: Currency code (e.g., SEK)
                          parentLocationId:
                            type: number
                            nullable: true
                            description: Parent location ID for hierarchy
                          locationType:
                            type: string
                            enum:
                              - company_hq
                              - division
                              - region
                              - area
                              - city
                              - store
                              - warehouse
                              - kitchen
                              - office
                              - other
                            description: Type of location in the hierarchy
                            nullable: true
                          isRootCompany:
                            type: boolean
                            nullable: true
                            description: Whether this is a root company location
                          hierarchyMetadata:
                            type: object
                            nullable: true
                            description: Hierarchy metadata (level, path, etc.)
                          createdAt:
                            type: string
                            format: date-time
                            description: Creation timestamp
                          updatedAt:
                            type: string
                            format: date-time
                            description: Last update timestamp
                        required:
                          - id
                          - name
                          - companyId
                          - createdAt
                          - updatedAt
                      payoutAccount:
                        type: object
                        properties:
                          id:
                            type: string
                            nullable: true
                            description: Payout account ID
                          psp:
                            type: string
                            enum:
                              - STRIPE
                              - ADYEN
                            description: Payment Service Provider for payout account
                        required:
                          - id
                          - psp
                    required:
                      - location
                      - payoutAccount
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/locations/{locationId}/hierarchy:
    get:
      tags:
        - Locations
      description: >-
        Get the location hierarchy tree starting from a specific location.
        Returns the location and all its descendants in a tree structure.


        **Permissions:** ðŸ”µ `locations.read`
      parameters:
        - schema:
            type: string
          in: path
          name: locationId
          required: true
          description: Root location ID to get hierarchy for
      responses:
        "200":
          description: Location hierarchy retrieved
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                        description: Location ID
                      name:
                        type: string
                        description: Location name
                      type:
                        type: string
                        nullable: true
                        description: Location type (restaurant, kitchen, etc.)
                      level:
                        type: number
                        description: Hierarchy level (0 = root)
                      children:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                            name:
                              type: string
                            type:
                              type: string
                              nullable: true
                            level:
                              type: number
                        description: Child locations
                    required:
                      - id
                      - name
                      - level
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
              example:
                status: success
                data:
                  id: 100
                  name: Main Restaurant
                  type: restaurant
                  level: 0
                  children:
                    - id: 101
                      name: Kitchen 1
                      type: kitchen
                      level: 1
                    - id: 102
                      name: Bar
                      type: bar
                      level: 1
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 15
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/locations/{locationId}/set-parent:
    post:
      tags:
        - Locations
      description: >-
        Set or change the parent location for a location. This updates the
        location hierarchy and refreshes the materialized access view.


        **Permissions:** ðŸŸ  `locations.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                parentLocationId:
                  type: number
                  nullable: true
                  description: Parent location ID (null to make root location)
              required:
                - parentLocationId
        required: true
      parameters:
        - schema:
            type: string
          in: path
          name: locationId
          required: true
          description: Location ID to update
      responses:
        "200":
          description: Location parent updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                        description: Location ID
                      name:
                        type: string
                        description: Location name
                      parentLocationId:
                        type: number
                        nullable: true
                        description: New parent location ID
                      hierarchyMetadata:
                        type: object
                        properties:
                          level:
                            type: number
                            description: Hierarchy level
                          path:
                            type: array
                            items:
                              type: number
                            description: Array of location IDs from root to this location
                          is_root:
                            type: boolean
                            description: Whether this is a root location
                        description: Updated hierarchy metadata
                    required:
                      - id
                      - name
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
              example:
                status: success
                data:
                  id: 101
                  name: Kitchen 1
                  parentLocationId: 100
                  hierarchyMetadata:
                    level: 1
                    path:
                      - 100
                      - 101
                    is_root: false
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 25
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/orders/create:
    post:
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - locationId
                - order_channel
                - order_type
                - order_destination
                - items
              properties:
                locationId:
                  type: number
                order_channel:
                  type: string
                  enum:
                    - ONLINE
                    - QR
                    - KIOSK
                    - POS
                  description: Source of the order
                order_type:
                  type: string
                  enum:
                    - TAKEAWAY
                    - OTC
                    - QR
                  description: Service model - TAKEAWAY, OTC (over the counter), QR (customer
                    scanned QR code or POS table order)
                order_destination:
                  type: string
                  enum:
                    - QR
                    - TAB
                    - KD
                    - NONE
                  description: Where the order should be routed
                order_destination_id:
                  type: string
                  nullable: true
                  format: uuid
                  description: UUID of the destination (QR code, tab, or kitchen dispatch)
                tab_member:
                  type: object
                  nullable: true
                  description: User identification for the order
                  properties:
                    id:
                      type: number
                      description: User ID (highest priority)
                    email:
                      type: string
                      description: Email address
                    phone:
                      type: string
                      description: Phone number
                    identifier:
                      type: string
                      description: Device identifier
                items:
                  type: array
                  minItems: 1
                  description: Items to include in the order
                  items:
                    type: object
                    required:
                      - id
                      - quantity_cents
                      - variants
                      - comments
                    properties:
                      id:
                        type: number
                        description: Inventory item ID (renamed from item_id)
                      quantity_cents:
                        type: number
                        minimum: 1
                        description: Quantity in cents (e.g., 250 = 2.5 items)
                      price_cents:
                        type: number
                        nullable: true
                        description: Price override in cents (POS only, renamed from price)
                      variants:
                        type: array
                        description: Variant modifications (supports recursive structure for item-based
                          variants)
                        items:
                          type: object
                          required:
                            - id
                          properties:
                            id:
                              type: number
                              description: Variant ID
                            quantity_cents:
                              type: number
                              description: "Quantity in cents for this variant (default: 100 = 1x)"
                              default: 100
                            price_cents:
                              type: number
                              nullable: true
                              description: Price override in cents (POS only, renamed from price)
                            comments:
                              type: array
                              items:
                                type: string
                              description: Variant-specific comments
                            variants:
                              type: array
                              description: Sub-variants (recursive for item-based variants)
                              items:
                                type: object
                                required:
                                  - id
                      comments:
                        type: array
                        items:
                          type: string
                        description: Special instructions
                vouchers:
                  type: array
                  items:
                    type: string
                  description: Voucher codes to apply
                desiredPickupTime:
                  type: number
                  nullable: true
                  description: Unix timestamp for desired pickup time
                hold:
                  type: boolean
                  description: If true, order will be held (not_sent) and not sent to kitchen
                    automatically
        required: true
      responses:
        "200":
          description: Order created successfully
          content:
            application/json:
              schema:
                description: Order created successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      kitchenDispatchId:
                        type: string
                        format: uuid
                      dailyOrderNumber:
                        type: number
                      tabId:
                        type: string
                        format: uuid
                      tabMemberId:
                        type: string
                        format: uuid
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            kitchen_dispatch_item_id:
                              type: string
                              format: uuid
                            item_id:
                              type: number
                            quantity_cents:
                              type: number
                              description: Quantity in cents (100 = 1x)
                            price_cents:
                              type: number
                              description: Total price for this item in cents
                            variants:
                              type: array
                              description: Variants applied to this item
                              items:
                                type: object
                                properties:
                                  id:
                                    type: number
                                    description: Variant ID
                                  quantity_cents:
                                    type: number
                                    description: Variant quantity in cents
                                  price_cents:
                                    type: number
                                    nullable: true
                                    description: Price override in cents (null if not overridden)
                            status:
                              type: string
                              nullable: true
                              description: Item status (null for new items)
                      totalAmount:
                        type: number
                      discountAmount:
                        type: number
                      finalAmount:
                        type: number
                      appliedVouchers:
                        type: array
                        items:
                          type: object
                          properties:
                            voucherCode:
                              type: string
                            discountAmountCents:
                              type: number
                            discountType:
                              type: string
                      invalidVouchers:
                        type: array
                        items:
                          type: string
                      estimatedReadyTime:
                        type: number
                        nullable: true
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
  /api/v1/orders/{kitchenDispatchId}/cancel:
    post:
      summary: Cancel order
      tags:
        - Orders
      description: >-
        Cancel a kitchen dispatch (order) by setting its state to aborted. Only
        early-stage orders can be cancelled.


        **Permissions:** ðŸŸ  `inventory.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                reason:
                  type: string
                  description: Optional cancellation reason (for audit trail)
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: kitchenDispatchId
          required: true
          description: Kitchen dispatch UUID to cancel
      responses:
        "200":
          description: Order cancelled successfully
          content:
            application/json:
              schema:
                description: Order cancelled successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      kitchenDispatchId:
                        type: string
                        format: uuid
                        description: Kitchen dispatch UUID
                      previousState:
                        type: string
                        description: State before cancellation
                      newState:
                        type: string
                        enum:
                          - aborted
                        description: New state after cancellation
                      cancelledAt:
                        type: string
                        format: date-time
                        description: ISO 8601 timestamp of cancellation
                      cancelledBy:
                        type: number
                        description: User ID who cancelled the order
                      reason:
                        type: string
                        nullable: true
                        description: Cancellation reason (if provided)
                      tabId:
                        type: string
                        format: uuid
                        description: Tab UUID that the order belongs to
                    required:
                      - kitchenDispatchId
                      - previousState
                      - newState
                      - cancelledAt
                      - cancelledBy
                      - reason
                      - tabId
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Invalid state - Order cannot be cancelled in current state
          content:
            application/json:
              schema:
                description: Invalid state - Order cannot be cancelled in current state
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        enum:
                          - INVALID_STATE
                      message:
                        type: string
                      details:
                        type: object
                        properties:
                          currentState:
                            type: string
                          cancellableStates:
                            type: array
                            items:
                              type: string
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "401":
          description: Unauthorized - Missing or invalid authentication
          content:
            application/json:
              schema:
                description: Unauthorized - Missing or invalid authentication
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        enum:
                          - MISSING_AUTH_CONTEXT
                          - INVALID_API_KEY
                      message:
                        type: string
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "403":
          description: Forbidden - Insufficient permissions or scope violation
          content:
            application/json:
              schema:
                description: Forbidden - Insufficient permissions or scope violation
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        enum:
                          - INSUFFICIENT_PERMISSIONS
                          - SCOPE_VIOLATION
                      message:
                        type: string
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "404":
          description: Kitchen dispatch not found
          content:
            application/json:
              schema:
                description: Kitchen dispatch not found
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        enum:
                          - RESOURCE_NOT_FOUND
                      message:
                        type: string
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                description: Internal Server Error
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        enum:
                          - INTERNAL_SERVER_ERROR
                      message:
                        type: string
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
  /api/v1/orders/{orderId}/state:
    post:
      summary: Update order state
      tags:
        - Orders
      description: >-
        Update the state of an order (kitchen dispatch).


        **Event Sourcing:**

        - Inserts an event into kitchen_dispatch_events table

        - PostgreSQL trigger automatically updates
        kitchen_dispatches.latest_state

        - Emits order.updated webhook for real-time UI updates


        **Valid State Transitions:**

        - `not_sent` â†’ pending, delivered, aborted

        - `pending` â†’ accepted, rejected, aborted

        - `scheduled` â†’ accepted, pending, aborted

        - `accepted` â†’ in_preparation, ready_to_deliver, aborted

        - `in_preparation` â†’ ready_to_deliver

        - `ready_to_deliver` â†’ delivered

        - `rejected` â†’ rejected_and_acknowledged

        - `staged_awaiting_payment` â†’ pending, aborted


        **Terminal States (no transitions):**

        - delivered, rejected_and_acknowledged, aborted


        **Idempotency:**

        - Calling with current state returns 200 success (no-op)

        - Safe for retries in distributed systems


        **Permissions:** ðŸŸ  `orders.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                state:
                  type: string
                  enum:
                    - not_sent
                    - pending
                    - accepted
                    - in_preparation
                    - ready_to_deliver
                    - delivered
                    - rejected
                    - rejected_and_acknowledged
                    - staged_awaiting_payment
                    - scheduled
                    - aborted
                  description: The new state to transition to
              required:
                - state
        required: true
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: orderId
          required: true
          description: Order ID (kitchen_dispatch.uuid)
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      orderId:
                        type: string
                        format: uuid
                        description: Order ID (kitchen_dispatch.uuid)
                      previousState:
                        type: string
                        description: State before the update
                      newState:
                        type: string
                        description: State after the update
                      tabId:
                        type: string
                        format: uuid
                        description: Associated tab ID
                      updatedAt:
                        type: string
                        format: date-time
                        description: Update timestamp
                      updatedBy:
                        type: number
                        description: User ID who made the update
                    required:
                      - orderId
                      - previousState
                      - newState
                      - tabId
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/orders:
    get:
      summary: List orders
      tags:
        - Orders
      description: >-
        Retrieve a paginated list of orders with filtering capabilities.


        **Hybrid Dual-Fetch Architecture:**

        - PostgreSQL for recent orders (<30 minutes old) - ensures freshness

        - BigQuery for historical orders (>30 minutes old) - scalability

        - Automatic merge when date range spans both sources


        **KDS/Real-Time Mode:**

        - Use `forcePostgres=true` to always query PostgreSQL only

        - This ensures fresh state data for Kitchen Display Systems

        - Recommended for any real-time display needing immediate state updates


        **Default Behavior:**

        - Returns last 24 hours if no date filters specified

        - Sorted by created_at descending (newest first)

        - Items not included by default (use includeItems=true)


        **Performance Notes:**

        - BigQuery queries typically take 1-3 seconds

        - For real-time displays, use forcePostgres=true or
        /api/v1/orders/stream endpoint


        **Permissions:** ðŸ”µ `orders.read`
      parameters:
        - schema:
            type: number
            minimum: 1
            default: 1
          in: query
          name: page
          required: false
          description: Page number
        - schema:
            type: number
            minimum: 1
            maximum: 1000
            default: 50
          in: query
          name: limit
          required: false
          description: Items per page (max 1000)
        - schema:
            type: boolean
            default: false
          in: query
          name: includeItems
          required: false
          description: Include order items in response. Items are returned FLAT with
            parentKitchenDispatchItemId for hierarchy building.
        - schema:
            type: boolean
            default: false
          in: query
          name: forcePostgres
          required: false
          description: Force PostgreSQL only (skip BigQuery). Use for KDS/real-time
            displays where state must be fresh.
        - schema:
            type: number
          in: query
          name: dailyOrderNumber
          required: false
          description: Filter by daily order number
        - schema:
            anyOf:
              - type: string
              - type: array
                items:
                  type: string
          in: query
          name: state
          required: false
          description: Filter by state(s)
        - schema:
            anyOf:
              - type: string
              - type: array
                items:
                  type: string
          in: query
          name: tabType
          required: false
          description: Filter by tab type(s)
        - schema:
            type: string
          in: query
          name: tableId
          required: false
          description: Filter by table/QR code ID
        - schema:
            type: string
          in: query
          name: tabMemberEmail
          required: false
          description: Filter by tab member email (partial match)
        - schema:
            type: number
          in: query
          name: minPrice
          required: false
          description: Minimum total price in cents
        - schema:
            type: number
          in: query
          name: maxPrice
          required: false
          description: Maximum total price in cents
        - schema:
            type: string
            format: date-time
          in: query
          name: startDate
          required: false
          description: "Filter orders created after this date (default: 24 hours ago)"
        - schema:
            type: string
            format: date-time
          in: query
          name: endDate
          required: false
          description: "Filter orders created before this date (default: now)"
        - schema:
            type: string
            enum:
              - created_at
              - daily_ordinal_number
              - updated_at
            default: created_at
          in: query
          name: sort
          required: false
          description: Field to sort by
        - schema:
            type: string
            enum:
              - asc
              - desc
            default: desc
          in: query
          name: order
          required: false
          description: Sort order
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            uuid:
                              type: string
                              format: uuid
                              description: Unique order ID (kitchen_dispatch.uuid)
                            locationId:
                              type: number
                              description: Location ID
                            tabId:
                              type: string
                              format: uuid
                              nullable: true
                              description: Associated tab ID
                            dailyOrderNumber:
                              type: number
                              nullable: true
                              description: Daily order number for the location
                            state:
                              type: string
                              enum:
                                - not_sent
                                - pending
                                - accepted
                                - in_preparation
                                - ready_to_deliver
                                - delivered
                                - rejected
                                - rejected_and_acknowledged
                                - staged_awaiting_payment
                                - scheduled
                                - aborted
                              description: Current order state
                            orderType:
                              type: string
                              enum:
                                - TAKEAWAY
                                - OTC
                                - QR
                                - TABLE
                              nullable: true
                              description: Order type
                            orderChannel:
                              type: string
                              enum:
                                - ONLINE
                                - QR
                                - KIOSK
                                - POS
                              nullable: true
                              description: Order channel
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              description: Last update timestamp
                            completedAt:
                              type: string
                              format: date-time
                              nullable: true
                              description: Completion timestamp
                            tabType:
                              type: string
                              nullable: true
                              description: Tab type (table, takeaway, etc.)
                            storefrontQrCodeId:
                              type: string
                              nullable: true
                              description: Table UUID (storefront QR code ID) - frontend maps to name
                            tabMemberEmail:
                              type: string
                              format: email
                              nullable: true
                              description: Tab member email
                            tabMemberName:
                              type: string
                              nullable: true
                              description: Tab member name
                            totalPrice:
                              type: number
                              nullable: true
                              description: Total price in cents
                            itemCount:
                              type: number
                              nullable: true
                              description: Number of items in order
                            message:
                              type: string
                              nullable: true
                              description: Order message/notes
                            source:
                              type: string
                              nullable: true
                              description: Order source
                            items:
                              type: array
                              nullable: true
                              items:
                                type: object
                                additionalProperties: true
                                properties:
                                  uuid:
                                    type: string
                                    format: uuid
                                    description: Unique order item ID
                                  itemId:
                                    type: number
                                    nullable: true
                                    description: Inventory item ID
                                  title:
                                    type: string
                                    nullable: true
                                    description: Item title
                                  titlePrep:
                                    type: string
                                    nullable: true
                                    description: Kitchen prep title for KDS display - use instead of title if set
                                  quantity:
                                    type: number
                                    description: Quantity (integer)
                                  quantityCents:
                                    type: number
                                    description: Quantity in cents (e.g., 200 = 2x)
                                  price:
                                    type: number
                                    description: Total price in cents
                                  basePrice:
                                    type: number
                                    description: Base price in cents before discounts
                                  discount:
                                    type: number
                                    nullable: true
                                    description: Discount amount in cents
                                  status:
                                    type: string
                                    nullable: true
                                    description: Item status
                                  comments: {}
                                  variants:
                                    type: array
                                    nullable: true
                                    description: Variant/modification data for this item
                                    items:
                                      type: object
                                      properties:
                                        id:
                                          type: number
                                          description: Variant ID
                                        name:
                                          type: string
                                          description: Variant name
                                        price:
                                          type: number
                                          nullable: true
                                          description: Variant price in cents
                                        quantityCents:
                                          type: number
                                          nullable: true
                                          description: Quantity in cents
                                        priceCents:
                                          type: number
                                          nullable: true
                                          description: Price in cents
                                        modification_id:
                                          type: number
                                          description: Modification ID for completion tracking
                                        status:
                                          type: string
                                          nullable: true
                                          description: Modification status
                                  tabMemberId:
                                    type: string
                                    format: uuid
                                    nullable: true
                                    description: Tab member who owns this item
                                  createdAt:
                                    type: string
                                    format: date-time
                                    description: Creation timestamp
                                  servingCenterId:
                                    type: number
                                    nullable: true
                                    description: Serving center ID for this item
                                  tabMemberEmail:
                                    type: string
                                    format: email
                                    nullable: true
                                    description: Tab member email
                                  tabMemberName:
                                    type: string
                                    nullable: true
                                    description: Tab member name
                                  parentKitchenDispatchItemId:
                                    type: string
                                    format: uuid
                                    nullable: true
                                    description: Parent item UUID - if set, this is a child/modifier item. Use this
                                      to build hierarchy in frontend.
                                required:
                                  - uuid
                                  - quantity
                                  - quantityCents
                                  - price
                                  - basePrice
                                  - createdAt
                              description: Order items (only when includeItems=true)
                            events:
                              type: array
                              description: Order state change history
                              items:
                                type: object
                                properties:
                                  event:
                                    type: string
                                    description: Event/state name
                                  created_at:
                                    type: string
                                    format: date-time
                                    description: Event timestamp
                                required:
                                  - event
                                  - created_at
                            desiredPickupTime:
                              type: string
                              format: date-time
                              nullable: true
                              description: Desired pickup time for scheduled orders
                            storeCommitmentTimeout:
                              type: string
                              format: date-time
                              nullable: true
                              description: Store commitment timeout for acceptance
                          required:
                            - uuid
                            - locationId
                            - state
                            - createdAt
                            - updatedAt
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                            minimum: 1
                          limit:
                            type: number
                            minimum: 1
                            maximum: 100
                          total:
                            type: number
                            minimum: 0
                          totalPages:
                            type: number
                            minimum: 0
                        required:
                          - page
                          - limit
                          - total
                          - totalPages
                    required:
                      - items
                      - pagination
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/orders/stream:
    get:
      summary: Stream orders (SSE)
      tags:
        - Orders
      description: >-
        Stream orders using Server-Sent Events for real-time displays.


        **Use Case:** Kitchen Display Systems (KDS) and real-time dashboards
        where latency matters.


        **How It Works:**

        1. PostgreSQL results are sent first (~100ms) - recent orders

        2. BigQuery results follow when ready (~1-3 seconds) - historical orders

        3. Completion event sent when all data is received


        **SSE Events:**

        - `postgres`: Orders from PostgreSQL (recent data)

        - `bigquery`: Orders from BigQuery (historical data)

        - `error`: Error from a specific source

        - `complete`: All data has been sent


        **Client Example:**

        ```javascript

        const eventSource = new EventSource('/api/v1/orders/stream?limit=1000')


        eventSource.addEventListener('postgres', (e) => {
          const { orders } = JSON.parse(e.data)
          // Show recent orders immediately!
          setOrders(prev => mergeAndSort([...prev, ...orders]))
        })


        eventSource.addEventListener('bigquery', (e) => {
          const { orders } = JSON.parse(e.data)
          // Fill in historical orders
          setOrders(prev => mergeAndSort([...prev, ...orders]))
        })


        eventSource.addEventListener('complete', () => {
          eventSource.close()
        })

        ```


        **Headers Required:**

        - `Accept: text/event-stream`

        - `X-Location-Id: {locationId}`


        **Permissions:** ðŸ”µ `orders.read`
      parameters:
        - schema:
            type: number
            minimum: 1
            default: 1
          in: query
          name: page
          required: false
          description: Page number
        - schema:
            type: number
            minimum: 1
            maximum: 1000
            default: 50
          in: query
          name: limit
          required: false
          description: Items per page (max 1000)
        - schema:
            type: boolean
            default: false
          in: query
          name: includeItems
          required: false
          description: Include order items in response. Items are returned FLAT with
            parentKitchenDispatchItemId for hierarchy building.
        - schema:
            type: boolean
            default: false
          in: query
          name: forcePostgres
          required: false
          description: Force PostgreSQL only (skip BigQuery). Use for KDS/real-time
            displays where state must be fresh.
        - schema:
            type: number
          in: query
          name: dailyOrderNumber
          required: false
          description: Filter by daily order number
        - schema:
            anyOf:
              - type: string
              - type: array
                items:
                  type: string
          in: query
          name: state
          required: false
          description: Filter by state(s)
        - schema:
            anyOf:
              - type: string
              - type: array
                items:
                  type: string
          in: query
          name: tabType
          required: false
          description: Filter by tab type(s)
        - schema:
            type: string
          in: query
          name: tableId
          required: false
          description: Filter by table/QR code ID
        - schema:
            type: string
          in: query
          name: tabMemberEmail
          required: false
          description: Filter by tab member email (partial match)
        - schema:
            type: number
          in: query
          name: minPrice
          required: false
          description: Minimum total price in cents
        - schema:
            type: number
          in: query
          name: maxPrice
          required: false
          description: Maximum total price in cents
        - schema:
            type: string
            format: date-time
          in: query
          name: startDate
          required: false
          description: "Filter orders created after this date (default: 24 hours ago)"
        - schema:
            type: string
            format: date-time
          in: query
          name: endDate
          required: false
          description: "Filter orders created before this date (default: now)"
        - schema:
            type: string
            enum:
              - created_at
              - daily_ordinal_number
              - updated_at
            default: created_at
          in: query
          name: sort
          required: false
          description: Field to sort by
        - schema:
            type: string
            enum:
              - asc
              - desc
            default: desc
          in: query
          name: order
          required: false
          description: Sort order
      responses:
        "200":
          description: Server-Sent Events stream (text/event-stream)
          content:
            application/json:
              schema:
                type: string
                description: Server-Sent Events stream (text/event-stream)
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/orders/{orderId}:
    get:
      summary: Get order by ID
      tags:
        - Orders
      description: >-
        Retrieve detailed information about a specific order including all
        items.


        Items are always included in the response for single order queries.


        **Permissions:** ðŸ”µ `orders.read`
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: orderId
          required: true
          description: Order ID (kitchen_dispatch.uuid)
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      uuid:
                        type: string
                        format: uuid
                        description: Unique order ID (kitchen_dispatch.uuid)
                      locationId:
                        type: number
                        description: Location ID
                      tabId:
                        type: string
                        format: uuid
                        nullable: true
                        description: Associated tab ID
                      dailyOrderNumber:
                        type: number
                        nullable: true
                        description: Daily order number for the location
                      state:
                        type: string
                        enum:
                          - not_sent
                          - pending
                          - accepted
                          - in_preparation
                          - ready_to_deliver
                          - delivered
                          - rejected
                          - rejected_and_acknowledged
                          - staged_awaiting_payment
                          - scheduled
                          - aborted
                        description: Current order state
                      orderType:
                        type: string
                        enum:
                          - TAKEAWAY
                          - OTC
                          - QR
                          - TABLE
                        nullable: true
                        description: Order type
                      orderChannel:
                        type: string
                        enum:
                          - ONLINE
                          - QR
                          - KIOSK
                          - POS
                        nullable: true
                        description: Order channel
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Last update timestamp
                      completedAt:
                        type: string
                        format: date-time
                        nullable: true
                        description: Completion timestamp
                      tabType:
                        type: string
                        nullable: true
                        description: Tab type (table, takeaway, etc.)
                      storefrontQrCodeId:
                        type: string
                        nullable: true
                        description: Table UUID (storefront QR code ID) - frontend maps to name
                      tabMemberEmail:
                        type: string
                        format: email
                        nullable: true
                        description: Tab member email
                      tabMemberName:
                        type: string
                        nullable: true
                        description: Tab member name
                      totalPrice:
                        type: number
                        nullable: true
                        description: Total price in cents
                      itemCount:
                        type: number
                        nullable: true
                        description: Number of items in order
                      message:
                        type: string
                        nullable: true
                        description: Order message/notes
                      source:
                        type: string
                        nullable: true
                        description: Order source
                      items:
                        type: array
                        nullable: true
                        items:
                          type: object
                          additionalProperties: true
                          properties:
                            uuid:
                              type: string
                              format: uuid
                              description: Unique order item ID
                            itemId:
                              type: number
                              nullable: true
                              description: Inventory item ID
                            title:
                              type: string
                              nullable: true
                              description: Item title
                            titlePrep:
                              type: string
                              nullable: true
                              description: Kitchen prep title for KDS display - use instead of title if set
                            quantity:
                              type: number
                              description: Quantity (integer)
                            quantityCents:
                              type: number
                              description: Quantity in cents (e.g., 200 = 2x)
                            price:
                              type: number
                              description: Total price in cents
                            basePrice:
                              type: number
                              description: Base price in cents before discounts
                            discount:
                              type: number
                              nullable: true
                              description: Discount amount in cents
                            status:
                              type: string
                              nullable: true
                              description: Item status
                            comments: {}
                            variants:
                              type: array
                              nullable: true
                              description: Variant/modification data for this item
                              items:
                                type: object
                                properties:
                                  id:
                                    type: number
                                    description: Variant ID
                                  name:
                                    type: string
                                    description: Variant name
                                  price:
                                    type: number
                                    nullable: true
                                    description: Variant price in cents
                                  quantityCents:
                                    type: number
                                    nullable: true
                                    description: Quantity in cents
                                  priceCents:
                                    type: number
                                    nullable: true
                                    description: Price in cents
                                  modification_id:
                                    type: number
                                    description: Modification ID for completion tracking
                                  status:
                                    type: string
                                    nullable: true
                                    description: Modification status
                            tabMemberId:
                              type: string
                              format: uuid
                              nullable: true
                              description: Tab member who owns this item
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                            servingCenterId:
                              type: number
                              nullable: true
                              description: Serving center ID for this item
                            tabMemberEmail:
                              type: string
                              format: email
                              nullable: true
                              description: Tab member email
                            tabMemberName:
                              type: string
                              nullable: true
                              description: Tab member name
                            parentKitchenDispatchItemId:
                              type: string
                              format: uuid
                              nullable: true
                              description: Parent item UUID - if set, this is a child/modifier item. Use this
                                to build hierarchy in frontend.
                          required:
                            - uuid
                            - quantity
                            - quantityCents
                            - price
                            - basePrice
                            - createdAt
                        description: Order items (only when includeItems=true)
                      events:
                        type: array
                        description: Order state change history
                        items:
                          type: object
                          properties:
                            event:
                              type: string
                              description: Event/state name
                            created_at:
                              type: string
                              format: date-time
                              description: Event timestamp
                          required:
                            - event
                            - created_at
                      desiredPickupTime:
                        type: string
                        format: date-time
                        nullable: true
                        description: Desired pickup time for scheduled orders
                      storeCommitmentTimeout:
                        type: string
                        format: date-time
                        nullable: true
                        description: Store commitment timeout for acceptance
                    required:
                      - uuid
                      - locationId
                      - state
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/orders/{orderId}/items/{itemId}/status:
    post:
      tags:
        - orders
      description: Update the status of a kitchen dispatch item or modification
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - status
              properties:
                status:
                  type: string
                  nullable: true
                  enum:
                    - COMPLETED
                    - UNAVAILABLE
                    - null
                  description: "Item status: COMPLETED, UNAVAILABLE, or null (reset)"
                modificationId:
                  type: number
                  description: If provided, update this modification (variant) instead of the item
                retailerUserId:
                  type: number
                  description: User ID making the change (for audit trail)
        required: true
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: orderId
          required: true
          description: Kitchen dispatch (order) UUID
        - schema:
            type: string
            format: uuid
          in: path
          name: itemId
          required: true
          description: Kitchen dispatch item UUID
      responses:
        "200":
          description: Status updated successfully
          content:
            application/json:
              schema:
                description: Status updated successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                      itemId:
                        type: string
                        format: uuid
                      status:
                        type: string
                        nullable: true
                        enum:
                          - COMPLETED
                          - UNAVAILABLE
                          - null
                        description: "Item status: COMPLETED, UNAVAILABLE, or null (reset)"
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/orders/{orderId}/items/status:
    post:
      tags:
        - orders
      description: Batch update the status of multiple kitchen dispatch items and/or
        modifications
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - updates
              properties:
                updates:
                  type: array
                  minItems: 1
                  description: Array of status updates
                  items:
                    type: object
                    required:
                      - id
                      - status
                    properties:
                      id:
                        type: string
                        description: Item UUID or modification ID (as string)
                      status:
                        type: string
                        nullable: true
                        enum:
                          - COMPLETED
                          - UNAVAILABLE
                          - null
                        description: "Item status: COMPLETED, UNAVAILABLE, or null (reset)"
                      isModification:
                        type: boolean
                        description: True if this is a modification (variant), not an item
                retailerUserId:
                  type: number
                  description: User ID making the changes (for audit trail)
        required: true
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: orderId
          required: true
          description: Kitchen dispatch (order) UUID
      responses:
        "200":
          description: Batch update completed
          content:
            application/json:
              schema:
                description: Batch update completed
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                        description: True if all updates succeeded
                      updatedCount:
                        type: number
                        description: Number of successfully updated items
                      failedItems:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: Item or modification ID
                            isModification:
                              type: boolean
                              description: True if this is a modification (variant)
                            error:
                              type: string
                              description: Error message
                        description: Items that failed to update
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/orders/{orderId}/items/{itemId}/status/logs:
    get:
      tags:
        - orders
      description: Get the status change history for a kitchen dispatch item
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: orderId
          required: true
          description: Kitchen dispatch (order) UUID
        - schema:
            type: string
            format: uuid
          in: path
          name: itemId
          required: true
          description: Kitchen dispatch item UUID
      responses:
        "200":
          description: Status logs retrieved successfully
          content:
            application/json:
              schema:
                description: Status logs retrieved successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      logs:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                              description: Log entry ID
                            itemId:
                              type: string
                              description: Item or modification ID
                            status:
                              type: string
                              nullable: true
                              enum:
                                - COMPLETED
                                - UNAVAILABLE
                                - null
                              description: "Item status: COMPLETED, UNAVAILABLE, or null (reset)"
                            isModification:
                              type: boolean
                              description: True if this was a modification update
                            retailerUserId:
                              type: string
                              nullable: true
                              description: User who made the change
                            createdAt:
                              type: string
                              format: date-time
                              description: When the status was changed
                            updatedAt:
                              type: string
                              format: date-time
                              nullable: true
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/purchases:
    get:
      tags:
        - purchases
      description: List purchases with automatic BigQuery routing for historical data
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: true
          description: Location ID to filter purchases (required for permissions)
        - schema:
            type: string
            format: date-time
          in: query
          name: startDate
          required: false
          description: Start date for date range filter (ISO 8601)
        - schema:
            type: string
            format: date-time
          in: query
          name: endDate
          required: false
          description: End date for date range filter (ISO 8601)
        - schema:
            type: number
          in: query
          name: userId
          required: false
          description: Filter by user ID
        - schema:
            type: number
          in: query
          name: minAmount
          required: false
          description: Minimum amount in cents
        - schema:
            type: number
          in: query
          name: maxAmount
          required: false
          description: Maximum amount in cents
        - schema:
            type: string
          in: query
          name: paymentMethod
          required: false
          description: Filter by payment method
        - schema:
            type: string
          in: query
          name: status
          required: false
          description: Filter by payment status
        - schema:
            type: number
            minimum: 1
            default: 1
          in: query
          name: page
          required: false
          description: Page number for pagination
        - schema:
            type: number
            minimum: 1
            maximum: 1000
            default: 50
          in: query
          name: limit
          required: false
          description: Number of results per page (max 1000)
      responses:
        "200":
          description: Purchases retrieved successfully
          content:
            application/json:
              schema:
                description: Purchases retrieved successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      purchases:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                              description: Purchase ID
                            locationId:
                              type: number
                              description: Location ID
                            userId:
                              type: number
                              nullable: true
                              description: User ID who made the purchase
                            amount:
                              type: number
                              description: Total amount in cents
                            currency:
                              type: string
                              description: Currency code (e.g., SEK, EUR)
                            paymentMethod:
                              type: string
                              nullable: true
                              description: Payment method used
                            paymentProvider:
                              type: string
                              nullable: true
                              description: Payment provider (e.g., stripe, adyen)
                            status:
                              type: string
                              description: Payment status (pending, completed, failed, etc.)
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              description: Last update timestamp
                            tabId:
                              type: string
                              nullable: true
                              format: uuid
                              description: Tab ID if part of a tab
                            lineItems:
                              type: array
                              items:
                                type: object
                                properties:
                                  id:
                                    type: number
                                    description: Line item ID
                                  inventoryItemId:
                                    type: number
                                    description: Inventory item ID
                                  quantityCents:
                                    type: number
                                    description: Quantity in cents (100 = 1x)
                                  unitPriceCents:
                                    type: number
                                    description: Price per unit in cents
                                  totalPriceCents:
                                    type: number
                                    description: Total price in cents
                                  title:
                                    type: string
                                    description: Item title
                                  category:
                                    type: string
                                    nullable: true
                                    description: Item category
                                  createdAt:
                                    type: string
                                    format: date-time
                                    description: Creation timestamp
                              description: Purchased items
                            metadata:
                              type: object
                              nullable: true
                              description: Additional metadata
                              additionalProperties: true
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                            minimum: 1
                          limit:
                            type: number
                            minimum: 1
                            maximum: 100
                          total:
                            type: number
                            minimum: 0
                          totalPages:
                            type: number
                            minimum: 0
                        required:
                          - page
                          - limit
                          - total
                          - totalPages
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/purchases/{id}:
    get:
      tags:
        - purchases
      description: Get a single purchase by ID
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: true
          description: Location ID for permission validation
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: Purchase ID
      responses:
        "200":
          description: Purchase retrieved successfully
          content:
            application/json:
              schema:
                description: Purchase retrieved successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      purchase:
                        type: object
                        properties:
                          id:
                            type: number
                            description: Purchase ID
                          locationId:
                            type: number
                            description: Location ID
                          userId:
                            type: number
                            nullable: true
                            description: User ID who made the purchase
                          amount:
                            type: number
                            description: Total amount in cents
                          currency:
                            type: string
                            description: Currency code (e.g., SEK, EUR)
                          paymentMethod:
                            type: string
                            nullable: true
                            description: Payment method used
                          paymentProvider:
                            type: string
                            nullable: true
                            description: Payment provider (e.g., stripe, adyen)
                          status:
                            type: string
                            description: Payment status (pending, completed, failed, etc.)
                          createdAt:
                            type: string
                            format: date-time
                            description: Creation timestamp
                          updatedAt:
                            type: string
                            format: date-time
                            description: Last update timestamp
                          tabId:
                            type: string
                            nullable: true
                            format: uuid
                            description: Tab ID if part of a tab
                          lineItems:
                            type: array
                            items:
                              type: object
                              properties:
                                id:
                                  type: number
                                  description: Line item ID
                                inventoryItemId:
                                  type: number
                                  description: Inventory item ID
                                quantityCents:
                                  type: number
                                  description: Quantity in cents (100 = 1x)
                                unitPriceCents:
                                  type: number
                                  description: Price per unit in cents
                                totalPriceCents:
                                  type: number
                                  description: Total price in cents
                                title:
                                  type: string
                                  description: Item title
                                category:
                                  type: string
                                  nullable: true
                                  description: Item category
                                createdAt:
                                  type: string
                                  format: date-time
                                  description: Creation timestamp
                            description: Purchased items
                          metadata:
                            type: object
                            nullable: true
                            description: Additional metadata
                            additionalProperties: true
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/purchases/by-intent/{intentId}:
    get:
      tags:
        - purchases
      description: Get a single purchase by intent ID (UUID)
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: true
          description: Location ID for permission validation
        - schema:
            type: string
            format: uuid
          in: path
          name: intentId
          required: true
          description: Purchase intent ID (UUID)
      responses:
        "200":
          description: Purchase retrieved successfully
          content:
            application/json:
              schema:
                description: Purchase retrieved successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      purchase:
                        type: object
                        properties:
                          id:
                            type: number
                            description: Purchase ID
                          locationId:
                            type: number
                            description: Location ID
                          userId:
                            type: number
                            nullable: true
                            description: User ID who made the purchase
                          amount:
                            type: number
                            description: Total amount in cents
                          currency:
                            type: string
                            description: Currency code (e.g., SEK, EUR)
                          paymentMethod:
                            type: string
                            nullable: true
                            description: Payment method used
                          paymentProvider:
                            type: string
                            nullable: true
                            description: Payment provider (e.g., stripe, adyen)
                          status:
                            type: string
                            description: Payment status (pending, completed, failed, etc.)
                          createdAt:
                            type: string
                            format: date-time
                            description: Creation timestamp
                          updatedAt:
                            type: string
                            format: date-time
                            description: Last update timestamp
                          tabId:
                            type: string
                            nullable: true
                            format: uuid
                            description: Tab ID if part of a tab
                          lineItems:
                            type: array
                            items:
                              type: object
                              properties:
                                id:
                                  type: number
                                  description: Line item ID
                                inventoryItemId:
                                  type: number
                                  description: Inventory item ID
                                quantityCents:
                                  type: number
                                  description: Quantity in cents (100 = 1x)
                                unitPriceCents:
                                  type: number
                                  description: Price per unit in cents
                                totalPriceCents:
                                  type: number
                                  description: Total price in cents
                                title:
                                  type: string
                                  description: Item title
                                category:
                                  type: string
                                  nullable: true
                                  description: Item category
                                createdAt:
                                  type: string
                                  format: date-time
                                  description: Creation timestamp
                            description: Purchased items
                          metadata:
                            type: object
                            nullable: true
                            description: Additional metadata
                            additionalProperties: true
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/purchases/{purchaseIntentId}/order-details:
    get:
      tags:
        - purchases
      description: Get unified order purchase details by purchase intent ID (matches
        storefront-web format)
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: true
          description: Location ID for permission validation
        - schema:
            type: string
            format: uuid
          in: path
          name: purchaseIntentId
          required: true
          description: Purchase intent UUID
      responses:
        "200":
          description: Order purchase details retrieved successfully
          content:
            application/json:
              schema:
                description: Order purchase details retrieved successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      orderInfo:
                        type: object
                        nullable: true
                        properties:
                          orderState:
                            type: string
                            enum:
                              - initial
                              - sent_to_kitchen
                              - accepted
                              - ready_to_deliver
                              - delivered
                              - cancelled
                            description: Current order state
                          deliveryKind:
                            type: string
                            enum:
                              - takeaway
                              - table
                              - room
                            nullable: true
                            description: Order delivery type
                          orderNumber:
                            type: number
                            nullable: true
                            description: Daily order number for kitchen display
                          tableName:
                            type: string
                            nullable: true
                            description: Table name if order is for table service
                          paymentFlow:
                            type: string
                            enum:
                              - instant
                              - open_tab
                            nullable: true
                            description: Payment timing (instant = pay now, open_tab = pay later)
                          tabId:
                            type: string
                            format: uuid
                            nullable: true
                            description: Tab UUID if order is part of a tab
                          hasBeenScheduled:
                            type: boolean
                            description: Whether order has been scheduled for future preparation
                          desiredPickupTime:
                            type: number
                            nullable: true
                            description: Desired pickup time (Unix timestamp)
                          phoneNumber:
                            type: string
                            nullable: true
                            description: Customer phone number
                      purchaseInfo:
                        type: object
                        nullable: true
                        properties:
                          purchasedAtEpochSeconds:
                            type: number
                            description: Purchase timestamp (Unix seconds)
                          lineItems:
                            type: array
                            items:
                              type: object
                              properties:
                                type:
                                  type: string
                                  enum:
                                    - product
                                    - tip
                                  description: Line item type
                                title:
                                  type: string
                                  description: Item title
                                amountCents:
                                  type: number
                                  description: Total item amount in cents
                                appliedTotalDiscountAmountCents:
                                  type: number
                                  nullable: true
                                  description: Total discount applied to this line item in cents
                                quantity:
                                  type: number
                                  description: Quantity of this item
                                appliedModifications:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      title:
                                        type: string
                                        description: Modification name (e.g., "Extra cheese")
                                      priceAdjustmentCents:
                                        type: number
                                        description: Price adjustment in cents (positive for surcharge, negative for
                                          discount)
                                  description: Applied modifications (extras, options, etc.)
                            description: Purchased items with quantities and modifications
                          vatBreakdown:
                            type: object
                            properties:
                              vatPercentage:
                                type: number
                                description: VAT percentage (e.g., 12 for 12%)
                              vatAmountCents:
                                type: number
                                description: VAT amount in cents
                              netAmountCents:
                                type: number
                                description: Net amount (excluding VAT) in cents
                              grossAmountCents:
                                type: number
                                description: Gross amount (including VAT) in cents
                            description: VAT calculation breakdown
                          currency:
                            type: string
                            description: Currency code (e.g., SEK, EUR)
                      tabInfo:
                        type: object
                        nullable: true
                        properties:
                          tabId:
                            type: string
                            format: uuid
                            description: Tab UUID
                          remainingAmountCents:
                            type: number
                            nullable: true
                            description: Remaining unpaid amount on the tab in cents
                          qrCodeId:
                            type: string
                            format: uuid
                            nullable: true
                            description: QR code UUID associated with this tab
                    description: Unified order purchase data (matches storefront-service response
                      format)
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/purchases/{purchaseIntentId}/receipt:
    get:
      tags:
        - purchases
      description: Get receipt data for email generation with hierarchical line items
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: true
          description: Location ID for permission validation
        - schema:
            type: string
            format: uuid
          in: path
          name: purchaseIntentId
          required: true
          description: Purchase intent UUID
      responses:
        "200":
          description: Receipt email data retrieved successfully
          content:
            application/json:
              schema:
                description: Receipt email data retrieved successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      purchaseIntentId:
                        type: string
                        format: uuid
                        description: Purchase intent UUID
                      purchasedAt:
                        type: string
                        format: date-time
                        description: Purchase timestamp
                      currency:
                        type: string
                        description: Currency code (e.g., SEK)
                      orderNumber:
                        type: number
                        nullable: true
                        description: Daily order number
                      location:
                        type: object
                        properties:
                          name:
                            type: string
                            description: Location/restaurant name
                          address:
                            type: string
                            nullable: true
                            description: Full address
                          phone:
                            type: string
                            nullable: true
                            description: Contact phone number
                          vatId:
                            type: string
                            nullable: true
                            description: Organization number (organisationsnummer)
                          logoUrl:
                            type: string
                            nullable: true
                            description: Location logo URL
                          storefrontSlug:
                            type: string
                            nullable: true
                            description: Storefront URL slug
                      lineItems:
                        type: array
                        items:
                          type: object
                          properties:
                            type:
                              type: string
                              enum:
                                - product
                                - tip
                              description: Item type
                            title:
                              type: string
                              description: Item title
                            quantity:
                              type: number
                              description: Quantity
                            unitPriceCents:
                              type: number
                              description: Unit price in cents
                            totalPriceCents:
                              type: number
                              description: Total price including children in cents
                            appliedDiscountCents:
                              type: number
                              nullable: true
                              description: Discount amount in cents
                            appliedModifications:
                              type: array
                              items:
                                type: object
                                properties:
                                  title:
                                    type: string
                                    description: Modification name (e.g., "Extra cheese")
                                  priceAdjustmentCents:
                                    type: number
                                    description: Price adjustment in cents
                              description: Applied modifications (extras, sizes, etc.)
                            children:
                              type: array
                              items:
                                type: object
                                properties:
                                  title:
                                    type: string
                                    description: Child item title
                                  quantity:
                                    type: number
                                    description: Quantity
                                  unitPriceCents:
                                    type: number
                                    nullable: true
                                    description: Unit price in cents (null for zero-priced included variants)
                                  totalPriceCents:
                                    type: number
                                    nullable: true
                                    description: Total price in cents (null for zero-priced included variants)
                                  appliedModifications:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        title:
                                          type: string
                                          description: Modification name (e.g., "Extra cheese")
                                        priceAdjustmentCents:
                                          type: number
                                          description: Price adjustment in cents
                                    description: Applied modifications
                              description: Child items (product variants, bundle items)
                        description: Hierarchical line items with children
                      subtotalCents:
                        type: number
                        description: Subtotal before VAT in cents
                      totalDiscountCents:
                        type: number
                        description: Total discounts in cents
                      vatBreakdown:
                        type: array
                        items:
                          type: object
                          properties:
                            rate:
                              type: number
                              description: VAT rate percentage (e.g., 12, 25)
                            baseAmountCents:
                              type: number
                              description: Base amount before VAT in cents
                            vatAmountCents:
                              type: number
                              description: VAT amount in cents
                        description: VAT breakdown by rate
                      totalCents:
                        type: number
                        description: Total amount in cents
                      appliedVouchers:
                        type: array
                        items:
                          type: object
                          properties:
                            code:
                              type: string
                              description: Voucher code
                            appliedAmountCents:
                              type: number
                              description: Amount discounted in cents
                        description: Applied vouchers/discounts
                      customerEmail:
                        type: string
                        nullable: true
                        description: Customer email address
                      paymentMethod:
                        type: string
                        nullable: true
                        description: Payment method (e.g., "visa 4242")
                      paymentBrand:
                        type: string
                        nullable: true
                        description: Payment brand (e.g., "visa")
                      paymentLast4:
                        type: string
                        nullable: true
                        description: Last 4 digits of card
                      tableName:
                        type: string
                        nullable: true
                        description: Table name if applicable
                      deliveryKind:
                        type: string
                        nullable: true
                        description: Delivery type (takeaway, table, counter)
                      cashRegister:
                        type: object
                        nullable: true
                        description: Cash register receipt data (SKV required fields). Null if not
                          registered with cash register.
                        properties:
                          receiptNumber:
                            type: number
                            description: LÃ¶pnummer - running receipt number from unbroken ascending series
                          registerId:
                            type: string
                            description: Kassabeteckning - cash register designation/ID
                          controlUnit:
                            type: string
                            nullable: true
                            description: Kontrollenhetens tillverkningsnummer - control unit serial number
                    description: Receipt email data with hierarchical line items
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/purchase/lookup-session/{sessionId}:
    get:
      parameters:
        - schema:
            type: string
          in: path
          name: sessionId
          required: true
      responses:
        "200":
          description: Default Response
  /api/v1/purchases/{purchaseIntentId}/cash-register/fetch:
    post:
      parameters:
        - schema:
            type: string
          in: path
          name: purchaseIntentId
          required: true
      responses:
        "200":
          description: Default Response
  /api/v1/purchases/{purchaseIntentId}/cash-register/register:
    post:
      parameters:
        - schema:
            type: string
          in: path
          name: purchaseIntentId
          required: true
      responses:
        "200":
          description: Default Response
  /api/v1/purchases/{purchaseIntentId}/connect-customer:
    post:
      tags:
        - purchases
      description: Connect a customer to a purchase by email. Optionally enroll in
        loyalty and award retroactive points.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - email
              properties:
                email:
                  type: string
                  format: email
                  description: Customer email address (used to find or create user)
                name:
                  type: string
                  description: Customer name (optional, used to update user profile)
                phone:
                  type: string
                  description: Customer phone number (optional)
                enrollInLoyalty:
                  type: boolean
                  description: Enroll customer in location loyalty program and award retroactive
                    points
        required: true
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: true
          description: Location ID for permission validation
        - schema:
            type: string
            format: uuid
          in: path
          name: purchaseIntentId
          required: true
          description: Purchase intent UUID
      responses:
        "200":
          description: Customer connected successfully
          content:
            application/json:
              schema:
                description: Customer connected successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                        description: Whether the connection was successful
                      userId:
                        type: number
                        description: The user ID of the connected customer
                      isNewUser:
                        type: boolean
                        description: Whether a new user was created
                      loyaltyEnrolled:
                        type: boolean
                        description: Whether the user was enrolled in loyalty program
                      pointsAwarded:
                        type: number
                        description: Total loyalty points awarded (welcome + purchase)
                      message:
                        type: string
                        description: Human-readable result message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/menu-layouts:
    get:
      summary: List menu layouts
      tags:
        - Menu Layouts
      description: >-
        List menu layouts with optional filtering by location, schedule, and
        channels


        **Permissions:** ðŸ”µ `menu_layouts.read`
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: false
          description: Filter by location ID
        - schema:
            type: number
            minimum: 1
            default: 1
          in: query
          name: page
          required: false
          description: Page number
        - schema:
            type: number
            minimum: 1
            maximum: 100
            default: 20
          in: query
          name: limit
          required: false
          description: Items per page
        - schema:
            type: string
          in: query
          name: availableOnly
          required: false
          description: Filter by schedule availability (ISO timestamp or "true")
        - schema:
            type: string
          in: query
          name: channels
          required: false
          description: Filter by channels (comma-separated channel types)
        - schema:
            type: string
            enum:
              - "true"
              - "false"
          in: query
          name: templatesOnly
          required: false
          description: Filter to only return templates
        - schema:
            type: string
            enum:
              - "true"
              - "false"
          in: query
          name: excludeTemplates
          required: false
          description: Exclude templates from results
        - schema:
            type: string
            enum:
              - "true"
              - "false"
          in: query
          name: resolveReferences
          required: false
          description: Resolve linked template references in the context
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      layouts:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: Unique menu layout ID
                            locationId:
                              type: number
                              description: Location ID this layout belongs to
                            context:
                              type: object
                              description: JSON object storing the POS screen configuration and layout
                                structure
                              additionalProperties: true
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              nullable: true
                              description: Last update timestamp
                            sortOrder:
                              type: number
                              nullable: true
                              description: Display order for menu layouts (lower values first)
                            isTemplate:
                              type: boolean
                              nullable: true
                              description: Whether this layout is a reusable template
                            templateName:
                              type: string
                              nullable: true
                              description: Display name for the template
                            usageCount:
                              type: number
                              description: Number of menus using this template (only for templates)
                            scheduleRules:
                              type: array
                              description: Schedule rules for time-based availability
                              items:
                                type: object
                                properties:
                                  id:
                                    type: string
                                    description: Rule ID
                                  dayOfWeek:
                                    type: number
                                    minimum: 0
                                    maximum: 6
                                    description: Day of week (0=Sunday, 6=Saturday)
                                  startTime:
                                    type: string
                                    pattern: ^[0-2][0-9]:[0-5][0-9]$
                                    description: Start time (HH:MM)
                                  endTime:
                                    type: string
                                    pattern: ^[0-2][0-9]:[0-5][0-9]$
                                    description: End time (HH:MM)
                                  active:
                                    type: boolean
                                    description: Whether item is available during this time
                            channelAvailability:
                              type: object
                              description: Channel availability flags
                              properties:
                                online:
                                  type: boolean
                                  description: Available on online channel
                                qr:
                                  type: boolean
                                  description: Available on QR channel
                                kiosk:
                                  type: boolean
                                  description: Available on kiosk channel
                                pos:
                                  type: boolean
                                  description: Available on POS channel
                          required:
                            - id
                            - locationId
                            - context
                            - createdAt
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                            minimum: 1
                          limit:
                            type: number
                            minimum: 1
                            maximum: 100
                          total:
                            type: number
                            minimum: 0
                          totalPages:
                            type: number
                            minimum: 0
                        required:
                          - page
                          - limit
                          - total
                          - totalPages
                    required:
                      - layouts
                      - pagination
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    post:
      summary: Create menu layout
      tags:
        - Menu Layouts
      description: |-
        Create a new menu layout

        **Permissions:** ðŸŸ¢ `menu_layouts.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                locationId:
                  type: number
                  description: Location ID
                context:
                  type: object
                  description: JSON object with POS screen layout configuration
                  additionalProperties: true
                isTemplate:
                  type: boolean
                  description: Whether this layout should be a reusable template
                templateName:
                  type: string
                  description: Display name for the template (required if isTemplate is true)
              required:
                - locationId
                - context
        required: true
      responses:
        "201":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Unique menu layout ID
                      locationId:
                        type: number
                        description: Location ID this layout belongs to
                      context:
                        type: object
                        description: JSON object storing the POS screen configuration and layout
                          structure
                        additionalProperties: true
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        nullable: true
                        description: Last update timestamp
                      sortOrder:
                        type: number
                        nullable: true
                        description: Display order for menu layouts (lower values first)
                      isTemplate:
                        type: boolean
                        nullable: true
                        description: Whether this layout is a reusable template
                      templateName:
                        type: string
                        nullable: true
                        description: Display name for the template
                      usageCount:
                        type: number
                        description: Number of menus using this template (only for templates)
                      scheduleRules:
                        type: array
                        description: Schedule rules for time-based availability
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: Rule ID
                            dayOfWeek:
                              type: number
                              minimum: 0
                              maximum: 6
                              description: Day of week (0=Sunday, 6=Saturday)
                            startTime:
                              type: string
                              pattern: ^[0-2][0-9]:[0-5][0-9]$
                              description: Start time (HH:MM)
                            endTime:
                              type: string
                              pattern: ^[0-2][0-9]:[0-5][0-9]$
                              description: End time (HH:MM)
                            active:
                              type: boolean
                              description: Whether item is available during this time
                      channelAvailability:
                        type: object
                        description: Channel availability flags
                        properties:
                          online:
                            type: boolean
                            description: Available on online channel
                          qr:
                            type: boolean
                            description: Available on QR channel
                          kiosk:
                            type: boolean
                            description: Available on kiosk channel
                          pos:
                            type: boolean
                            description: Available on POS channel
                    required:
                      - id
                      - locationId
                      - context
                      - createdAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/menu-layouts/{id}:
    get:
      summary: Get menu layout
      tags:
        - Menu Layouts
      description: >-
        Get a single menu layout by ID. Use resolveReferences=true to expand
        linked template references.


        **Permissions:** ðŸ”µ `menu_layouts.read`
      parameters:
        - schema:
            type: string
            enum:
              - "true"
              - "false"
          in: query
          name: resolveReferences
          required: false
          description: Resolve linked template references in the context
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: Menu layout ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Unique menu layout ID
                      locationId:
                        type: number
                        description: Location ID this layout belongs to
                      context:
                        type: object
                        description: JSON object storing the POS screen configuration and layout
                          structure
                        additionalProperties: true
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        nullable: true
                        description: Last update timestamp
                      sortOrder:
                        type: number
                        nullable: true
                        description: Display order for menu layouts (lower values first)
                      isTemplate:
                        type: boolean
                        nullable: true
                        description: Whether this layout is a reusable template
                      templateName:
                        type: string
                        nullable: true
                        description: Display name for the template
                      usageCount:
                        type: number
                        description: Number of menus using this template (only for templates)
                      scheduleRules:
                        type: array
                        description: Schedule rules for time-based availability
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: Rule ID
                            dayOfWeek:
                              type: number
                              minimum: 0
                              maximum: 6
                              description: Day of week (0=Sunday, 6=Saturday)
                            startTime:
                              type: string
                              pattern: ^[0-2][0-9]:[0-5][0-9]$
                              description: Start time (HH:MM)
                            endTime:
                              type: string
                              pattern: ^[0-2][0-9]:[0-5][0-9]$
                              description: End time (HH:MM)
                            active:
                              type: boolean
                              description: Whether item is available during this time
                      channelAvailability:
                        type: object
                        description: Channel availability flags
                        properties:
                          online:
                            type: boolean
                            description: Available on online channel
                          qr:
                            type: boolean
                            description: Available on QR channel
                          kiosk:
                            type: boolean
                            description: Available on kiosk channel
                          pos:
                            type: boolean
                            description: Available on POS channel
                    required:
                      - id
                      - locationId
                      - context
                      - createdAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    put:
      summary: Update menu layout
      tags:
        - Menu Layouts
      description: |-
        Update an existing menu layout

        **Permissions:** ðŸŸ  `menu_layouts.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  type: object
                  description: Updated JSON object with POS screen layout configuration
                  additionalProperties: true
                isTemplate:
                  type: boolean
                  description: Whether this layout should be a reusable template
                templateName:
                  type: string
                  description: Display name for the template
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: Menu layout ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Unique menu layout ID
                      locationId:
                        type: number
                        description: Location ID this layout belongs to
                      context:
                        type: object
                        description: JSON object storing the POS screen configuration and layout
                          structure
                        additionalProperties: true
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        nullable: true
                        description: Last update timestamp
                      sortOrder:
                        type: number
                        nullable: true
                        description: Display order for menu layouts (lower values first)
                      isTemplate:
                        type: boolean
                        nullable: true
                        description: Whether this layout is a reusable template
                      templateName:
                        type: string
                        nullable: true
                        description: Display name for the template
                      usageCount:
                        type: number
                        description: Number of menus using this template (only for templates)
                      scheduleRules:
                        type: array
                        description: Schedule rules for time-based availability
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: Rule ID
                            dayOfWeek:
                              type: number
                              minimum: 0
                              maximum: 6
                              description: Day of week (0=Sunday, 6=Saturday)
                            startTime:
                              type: string
                              pattern: ^[0-2][0-9]:[0-5][0-9]$
                              description: Start time (HH:MM)
                            endTime:
                              type: string
                              pattern: ^[0-2][0-9]:[0-5][0-9]$
                              description: End time (HH:MM)
                            active:
                              type: boolean
                              description: Whether item is available during this time
                      channelAvailability:
                        type: object
                        description: Channel availability flags
                        properties:
                          online:
                            type: boolean
                            description: Available on online channel
                          qr:
                            type: boolean
                            description: Available on QR channel
                          kiosk:
                            type: boolean
                            description: Available on kiosk channel
                          pos:
                            type: boolean
                            description: Available on POS channel
                    required:
                      - id
                      - locationId
                      - context
                      - createdAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    delete:
      summary: Delete menu layout
      tags:
        - Menu Layouts
      description: >-
        Delete a menu layout. If the layout is a template that is being used,
        set force=true to delete anyway.


        **Permissions:** ðŸ”´ `menu_layouts.delete`
      parameters:
        - schema:
            type: string
            enum:
              - "true"
              - "false"
          in: query
          name: force
          required: false
          description: Force delete a template even if it is being used in menus
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: Menu layout ID
      responses:
        "200":
          description: Menu layout successfully deleted
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      deleted:
                        type: boolean
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/menu-layouts/reorder:
    post:
      summary: Reorder menu layouts
      tags:
        - Menu Layouts
      description: |-
        Reorder menu layouts by updating their sort order

        **Permissions:** ðŸŸ  `menu_layouts.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                layoutIds:
                  type: array
                  items:
                    type: string
                  description: Array of menu layout IDs in the desired display order
              required:
                - layoutIds
        required: true
      responses:
        "200":
          description: Menu layouts successfully reordered
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                      layoutIds:
                        type: array
                        items:
                          type: string
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/menu-layouts/{id}/usage:
    get:
      summary: Get template usage
      tags:
        - Menu Layouts
      description: |-
        Get information about which menus are using a template

        **Permissions:** ðŸ”µ `menu_layouts.read`
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: Menu layout ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      templateId:
                        type: string
                        description: The template ID
                      usageCount:
                        type: number
                        description: Number of menus using this template
                      usedIn:
                        type: array
                        items:
                          type: object
                          properties:
                            menuId:
                              type: string
                              description: Menu ID
                            menuTitle:
                              type: string
                              description: Menu title
                            linked:
                              type: boolean
                              description: Whether the reference is linked (auto-updates) or copied
                        description: List of menus using this template
                    required:
                      - templateId
                      - usageCount
                      - usedIn
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/variant-groups:
    get:
      summary: List variant groups
      tags:
        - Variant Groups
      description: |-
        List variant groups with optional filtering

        **Permissions:** ðŸ”µ `variant_groups.read`
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: false
          description: Filter by location ID
        - schema:
            type: string
            enum:
              - EXTRA
              - VARIANT
          in: query
          name: type
          required: false
          description: Filter by group type
        - schema:
            type: boolean
            default: true
          in: query
          name: includeVariants
          required: false
          description: Include variants in response
        - schema:
            type: number
            minimum: 1
            default: 1
          in: query
          name: page
          required: false
          description: Page number
        - schema:
            type: number
            minimum: 1
            maximum: 100
            default: 20
          in: query
          name: limit
          required: false
          description: Items per page
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      variantGroups:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                              description: Unique variant group ID
                            locationId:
                              type: number
                              description: Location ID this group belongs to
                            name:
                              type: string
                              description: Variant group name
                            type:
                              type: string
                              enum:
                                - EXTRA
                                - VARIANT
                              description: "Group type (EXTRA: add-ons, VARIANT: alternatives)"
                            description:
                              type: string
                              nullable: true
                              description: Group description
                            min:
                              type: number
                              minimum: 0
                              description: Minimum number of variants that must be selected (0 = optional)
                            max:
                              type: number
                              nullable: true
                              description: Maximum number of variants that can be selected (null = unlimited)
                            isVisible:
                              type: boolean
                              description: Whether the variant group is visible in UI
                            variants:
                              type: array
                              items:
                                type: object
                                properties:
                                  id:
                                    type: number
                                    description: Unique variant ID
                                  variantGroupId:
                                    type: number
                                    description: Variant group ID this belongs to
                                  name:
                                    type: string
                                    description: Variant name
                                  price:
                                    type: number
                                    nullable: true
                                    description: Price modifier in cents (null for item-based variants)
                                  defaultSelection:
                                    type: boolean
                                    description: Whether this is selected by default
                                  description:
                                    type: string
                                    nullable: true
                                    description: Variant description
                                  rank:
                                    type: number
                                    nullable: true
                                    description: Display order rank
                                  itemId:
                                    type: number
                                    nullable: true
                                    description: Reference to inventory item (for item-based variants)
                                  quantity:
                                    type: number
                                    description: Default quantity for this variant
                                  allowQuantityChange:
                                    type: boolean
                                    description: Whether guests can change the quantity
                                required:
                                  - id
                                  - variantGroupId
                                  - name
                                  - defaultSelection
                                  - quantity
                                  - allowQuantityChange
                              description: Variants in this group
                          required:
                            - id
                            - locationId
                            - name
                            - type
                            - min
                            - isVisible
                            - variants
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                            minimum: 1
                          limit:
                            type: number
                            minimum: 1
                            maximum: 100
                          total:
                            type: number
                            minimum: 0
                          totalPages:
                            type: number
                            minimum: 0
                        required:
                          - page
                          - limit
                          - total
                          - totalPages
                    required:
                      - variantGroups
                      - pagination
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    post:
      summary: Create variant group
      tags:
        - Variant Groups
      description: |-
        Create a new variant group with variants

        **Permissions:** ðŸŸ¢ `variant_groups.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                locationId:
                  type: number
                  description: Location ID
                name:
                  type: string
                  minLength: 1
                  description: Group name
                type:
                  type: string
                  enum:
                    - EXTRA
                    - VARIANT
                description:
                  type: string
                  nullable: true
                min:
                  type: number
                  minimum: 0
                  default: 0
                max:
                  type: number
                  nullable: true
                  minimum: 1
                isVisible:
                  type: boolean
                  default: true
                variants:
                  type: array
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                        minLength: 1
                        description: Variant name
                      price:
                        type: number
                        nullable: true
                        description: Price modifier in cents
                      defaultSelection:
                        type: boolean
                        default: false
                      description:
                        type: string
                        nullable: true
                      rank:
                        type: number
                        nullable: true
                      itemId:
                        type: number
                        nullable: true
                        description: Reference to inventory item
                      quantity:
                        type: number
                        default: 1
                        minimum: 1
                      allowQuantityChange:
                        type: boolean
                        default: false
                    required:
                      - name
                  description: Initial variants for this group
              required:
                - locationId
                - name
                - type
                - variants
        required: true
      responses:
        "201":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                        description: Unique variant group ID
                      locationId:
                        type: number
                        description: Location ID this group belongs to
                      name:
                        type: string
                        description: Variant group name
                      type:
                        type: string
                        enum:
                          - EXTRA
                          - VARIANT
                        description: "Group type (EXTRA: add-ons, VARIANT: alternatives)"
                      description:
                        type: string
                        nullable: true
                        description: Group description
                      min:
                        type: number
                        minimum: 0
                        description: Minimum number of variants that must be selected (0 = optional)
                      max:
                        type: number
                        nullable: true
                        description: Maximum number of variants that can be selected (null = unlimited)
                      isVisible:
                        type: boolean
                        description: Whether the variant group is visible in UI
                      variants:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                              description: Unique variant ID
                            variantGroupId:
                              type: number
                              description: Variant group ID this belongs to
                            name:
                              type: string
                              description: Variant name
                            price:
                              type: number
                              nullable: true
                              description: Price modifier in cents (null for item-based variants)
                            defaultSelection:
                              type: boolean
                              description: Whether this is selected by default
                            description:
                              type: string
                              nullable: true
                              description: Variant description
                            rank:
                              type: number
                              nullable: true
                              description: Display order rank
                            itemId:
                              type: number
                              nullable: true
                              description: Reference to inventory item (for item-based variants)
                            quantity:
                              type: number
                              description: Default quantity for this variant
                            allowQuantityChange:
                              type: boolean
                              description: Whether guests can change the quantity
                          required:
                            - id
                            - variantGroupId
                            - name
                            - defaultSelection
                            - quantity
                            - allowQuantityChange
                        description: Variants in this group
                    required:
                      - id
                      - locationId
                      - name
                      - type
                      - min
                      - isVisible
                      - variants
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/variant-groups/{id}:
    get:
      summary: Get variant group
      tags:
        - Variant Groups
      description: |-
        Get a single variant group by ID with its variants

        **Permissions:** ðŸ”µ `variant_groups.read`
      parameters:
        - schema:
            type: string
            pattern: ^[0-9]+$
          in: path
          name: id
          required: true
          description: Variant group ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                        description: Unique variant group ID
                      locationId:
                        type: number
                        description: Location ID this group belongs to
                      name:
                        type: string
                        description: Variant group name
                      type:
                        type: string
                        enum:
                          - EXTRA
                          - VARIANT
                        description: "Group type (EXTRA: add-ons, VARIANT: alternatives)"
                      description:
                        type: string
                        nullable: true
                        description: Group description
                      min:
                        type: number
                        minimum: 0
                        description: Minimum number of variants that must be selected (0 = optional)
                      max:
                        type: number
                        nullable: true
                        description: Maximum number of variants that can be selected (null = unlimited)
                      isVisible:
                        type: boolean
                        description: Whether the variant group is visible in UI
                      variants:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                              description: Unique variant ID
                            variantGroupId:
                              type: number
                              description: Variant group ID this belongs to
                            name:
                              type: string
                              description: Variant name
                            price:
                              type: number
                              nullable: true
                              description: Price modifier in cents (null for item-based variants)
                            defaultSelection:
                              type: boolean
                              description: Whether this is selected by default
                            description:
                              type: string
                              nullable: true
                              description: Variant description
                            rank:
                              type: number
                              nullable: true
                              description: Display order rank
                            itemId:
                              type: number
                              nullable: true
                              description: Reference to inventory item (for item-based variants)
                            quantity:
                              type: number
                              description: Default quantity for this variant
                            allowQuantityChange:
                              type: boolean
                              description: Whether guests can change the quantity
                          required:
                            - id
                            - variantGroupId
                            - name
                            - defaultSelection
                            - quantity
                            - allowQuantityChange
                        description: Variants in this group
                    required:
                      - id
                      - locationId
                      - name
                      - type
                      - min
                      - isVisible
                      - variants
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    put:
      summary: Update variant group
      tags:
        - Variant Groups
      description: |-
        Update an existing variant group

        **Permissions:** ðŸŸ  `variant_groups.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  minLength: 1
                description:
                  type: string
                  nullable: true
                min:
                  type: number
                  minimum: 0
                max:
                  type: number
                  nullable: true
                  minimum: 1
                isVisible:
                  type: boolean
      parameters:
        - schema:
            type: string
            pattern: ^[0-9]+$
          in: path
          name: id
          required: true
          description: Variant group ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                        description: Unique variant group ID
                      locationId:
                        type: number
                        description: Location ID this group belongs to
                      name:
                        type: string
                        description: Variant group name
                      type:
                        type: string
                        enum:
                          - EXTRA
                          - VARIANT
                        description: "Group type (EXTRA: add-ons, VARIANT: alternatives)"
                      description:
                        type: string
                        nullable: true
                        description: Group description
                      min:
                        type: number
                        minimum: 0
                        description: Minimum number of variants that must be selected (0 = optional)
                      max:
                        type: number
                        nullable: true
                        description: Maximum number of variants that can be selected (null = unlimited)
                      isVisible:
                        type: boolean
                        description: Whether the variant group is visible in UI
                      variants:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                              description: Unique variant ID
                            variantGroupId:
                              type: number
                              description: Variant group ID this belongs to
                            name:
                              type: string
                              description: Variant name
                            price:
                              type: number
                              nullable: true
                              description: Price modifier in cents (null for item-based variants)
                            defaultSelection:
                              type: boolean
                              description: Whether this is selected by default
                            description:
                              type: string
                              nullable: true
                              description: Variant description
                            rank:
                              type: number
                              nullable: true
                              description: Display order rank
                            itemId:
                              type: number
                              nullable: true
                              description: Reference to inventory item (for item-based variants)
                            quantity:
                              type: number
                              description: Default quantity for this variant
                            allowQuantityChange:
                              type: boolean
                              description: Whether guests can change the quantity
                          required:
                            - id
                            - variantGroupId
                            - name
                            - defaultSelection
                            - quantity
                            - allowQuantityChange
                        description: Variants in this group
                    required:
                      - id
                      - locationId
                      - name
                      - type
                      - min
                      - isVisible
                      - variants
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    delete:
      summary: Delete variant group
      tags:
        - Variant Groups
      description: |-
        Delete a variant group and its variants

        **Permissions:** ðŸ”´ `variant_groups.delete`
      parameters:
        - schema:
            type: string
            pattern: ^[0-9]+$
          in: path
          name: id
          required: true
          description: Variant group ID
      responses:
        "200":
          description: Variant group successfully deleted
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      deleted:
                        type: boolean
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tables:
    get:
      summary: List tables
      tags:
        - Tables
      description: |-
        List tables with optional filtering

        **Permissions:** ðŸ”µ `tables.read`
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: false
          description: Filter by location ID
        - schema:
            type: string
            enum:
              - live
              - paused
              - deleted
          in: query
          name: status
          required: false
          description: Filter by status
        - schema:
            type: number
          in: query
          name: tableGroupId
          required: false
          description: Filter by table group ID
        - schema:
            type: string
          in: query
          name: search
          required: false
          description: Search by name or description
        - schema:
            type: number
            minimum: 1
            default: 1
          in: query
          name: page
          required: false
          description: Page number
        - schema:
            type: number
            minimum: 1
            maximum: 999
            default: 20
          in: query
          name: limit
          required: false
          description: Items per page
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      tables:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              format: uuid
                              description: Unique table ID (UUID)
                            name:
                              type: string
                              description: Table name/number
                            description:
                              type: string
                              nullable: true
                              description: Table description
                            contextParams:
                              type: object
                              additionalProperties: true
                              description: Custom context parameters
                            locationId:
                              type: number
                              description: Location ID
                            storefrontUrl:
                              type: string
                              format: uri
                              nullable: true
                              description: Full storefront URL for this table
                            tableGroupId:
                              type: number
                              nullable: true
                              description: Table group ID (if grouped)
                            status:
                              type: string
                              enum:
                                - live
                                - paused
                                - deleted
                              description: Table status
                            qrCodeImageUrl:
                              type: string
                              format: uri
                              nullable: true
                              description: QR code image URL
                            activeTabs:
                              type: array
                              items:
                                type: object
                                properties:
                                  id:
                                    type: string
                                    description: Tab UUID
                                  state:
                                    type: string
                                    description: Tab state (started, initiated, etc.)
                                  orderTotal:
                                    type: number
                                    description: Total order amount in cents (legacy field)
                                  paidTotal:
                                    type: number
                                    description: Total paid amount in cents (legacy field)
                                  tipsTotal:
                                    type: number
                                    description: Total tips in cents
                                  selectedPaymentFlow:
                                    type: string
                                    nullable: true
                                    description: Selected payment flow
                                  coursingOrder:
                                    type: number
                                    nullable: true
                                    description: Current coursing level for the tab (items below this level cannot
                                      be sent)
                                  totalAmountCents:
                                    type: number
                                    description: Total order amount in cents (from tabs table)
                                  paidAmountCents:
                                    type: number
                                    description: Total paid amount in cents (from tabs table)
                                  remainingBalanceCents:
                                    type: number
                                    description: Remaining balance in cents
                                  paymentMode:
                                    type: string
                                    enum:
                                      - ITEM
                                      - AMOUNT
                                    description: Payment mode
                                  storefrontQrCodeId:
                                    type: string
                                    format: uuid
                                    nullable: true
                                    description: Table/QR code UUID
                                  createdAt:
                                    type: string
                                    format: date-time
                                    description: Tab creation timestamp
                                  updatedAt:
                                    type: string
                                    format: date-time
                                    nullable: true
                                    description: Tab last update timestamp
                                  extras:
                                    type: array
                                    items:
                                      type: object
                                      additionalProperties: true
                                    description: Tab extras (only in single table endpoint)
                                  kitchenDispatches:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        id:
                                          type: string
                                          description: Kitchen dispatch UUID
                                        createdAt:
                                          type: string
                                          format: date-time
                                          description: Creation timestamp
                                        dailyOrderNumber:
                                          type: number
                                          nullable: true
                                          description: Daily order number
                                        state:
                                          type: string
                                          description: Dispatch state
                                        tabUUID:
                                          type: string
                                          description: Tab UUID
                                        tabType:
                                          type: string
                                          description: Tab type (table, takeaway, etc.)
                                        tableName:
                                          type: string
                                          nullable: true
                                          description: Table name if applicable
                                        tabState:
                                          type: string
                                          description: Current tab state
                                        source:
                                          type: string
                                          nullable: true
                                          description: Source channel that created the dispatch (POS, QR, KIOSK, ONLINE,
                                            TAKEAWAY, MOVE, MERGE, SPLIT,
                                            SYSTEM)
                                        message:
                                          type: string
                                          nullable: true
                                          description: Optional contextual message (e.g., "Moved from Table 5")
                                        comments:
                                          type: array
                                          items:
                                            type: object
                                            properties:
                                              comment:
                                                type: string
                                                description: Comment text
                                              createdAt:
                                                type: string
                                                format: date-time
                                                description: Comment timestamp
                                              tabMemberUUID:
                                                type: string
                                                nullable: true
                                                description: Tab member UUID who made the comment
                                              uuid:
                                                type: string
                                                description: Comment UUID
                                            additionalProperties: true
                                          description: Dispatch comments
                                        kitchenDispatchItems:
                                          type: array
                                          items:
                                            type: object
                                            properties:
                                              id:
                                                type: string
                                                description: Kitchen dispatch item UUID
                                              itemId:
                                                type: number
                                                nullable: true
                                                description: Item ID from inventory
                                              saleItemId:
                                                type: number
                                                nullable: true
                                                description: Sale item ID
                                              price:
                                                type: number
                                                description: Item price in cents
                                              basePrice:
                                                type: number
                                                description: Base price before modifications
                                              quantityCents:
                                                type: number
                                                nullable: true
                                                description: Item quantity in cents (e.g., 100 = 1.0, 50 = 0.5)
                                              coursingOrder:
                                                type: number
                                                nullable: true
                                                description: Coursing level for this item (e.g., 1=appetizer, 2=main, 3=dessert)
                                              isNonSurplus:
                                                type: boolean
                                                description: Whether item is non-surplus
                                              settlementState:
                                                type: string
                                                nullable: true
                                                description: Settlement state
                                              title:
                                                type: string
                                                nullable: true
                                                description: Item title
                                              tabMember:
                                                type: object
                                                properties:
                                                  uuid:
                                                    type: string
                                                    nullable: true
                                                    description: Tab member UUID
                                                  name:
                                                    type: string
                                                    description: Member name
                                                  email:
                                                    type: string
                                                    description: Member email
                                                additionalProperties: true
                                              comments:
                                                type: array
                                                items:
                                                  type: object
                                                  properties:
                                                    comment:
                                                      type: string
                                                      description: Comment text
                                                    createdAt:
                                                      type: string
                                                      format: date-time
                                                      description: Comment timestamp
                                                    tabMemberUUID:
                                                      type: string
                                                      nullable: true
                                                      description: Tab member UUID who made the comment
                                                    uuid:
                                                      type: string
                                                      description: Comment UUID
                                                  additionalProperties: true
                                                description: Item comments
                                              variants:
                                                type: array
                                                items:
                                                  type: object
                                                  properties:
                                                    id:
                                                      type: number
                                                      description: Variant ID
                                                    name:
                                                      type: string
                                                      description: Variant name
                                                    price:
                                                      type: number
                                                      description: Variant price (positive or negative)
                                                    quantityCents:
                                                      type: number
                                                      nullable: true
                                                      description: Quantity in cents (100 = 1.0). NULL = default 1.0
                                                    priceCents:
                                                      type: number
                                                      nullable: true
                                                      description: Price at time of order in cents. NULL = look up from variants table
                                                  additionalProperties: true
                                                description: Item variants/modifications
                                            additionalProperties: true
                                          description: Items in this dispatch
                                      additionalProperties: true
                                    description: Kitchen dispatches (only in single table endpoint)
                                required:
                                  - id
                                  - state
                                additionalProperties: true
                              description: Active tabs on this table
                            totalOrderAmountOnActiveTables:
                              type: number
                              description: Total order amount across active tabs
                            totalPaidAmountOnActiveTables:
                              type: number
                              description: Total paid amount across active tabs
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              nullable: true
                              description: Last update timestamp
                          required:
                            - id
                            - name
                            - contextParams
                            - locationId
                            - status
                            - activeTabs
                            - createdAt
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                            minimum: 1
                          limit:
                            type: number
                            minimum: 1
                            maximum: 100
                          total:
                            type: number
                            minimum: 0
                          totalPages:
                            type: number
                            minimum: 0
                        required:
                          - page
                          - limit
                          - total
                          - totalPages
                    required:
                      - tables
                      - pagination
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    post:
      summary: Create table
      tags:
        - Tables
      description: |-
        Create a new table

        **Permissions:** ðŸŸ¢ `tables.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  minLength: 1
                  description: Table name/number
                description:
                  type: string
                  description: Table description
                locationId:
                  type: number
                  description: Location ID
                tableGroupId:
                  type: number
                  description: Table group ID
                contextParams:
                  type: object
                  additionalProperties: true
                  description: Custom context parameters
              required:
                - name
                - locationId
        required: true
      responses:
        "201":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Unique table ID (UUID)
                      name:
                        type: string
                        description: Table name/number
                      description:
                        type: string
                        nullable: true
                        description: Table description
                      contextParams:
                        type: object
                        additionalProperties: true
                        description: Custom context parameters
                      locationId:
                        type: number
                        description: Location ID
                      storefrontUrl:
                        type: string
                        format: uri
                        nullable: true
                        description: Full storefront URL for this table
                      tableGroupId:
                        type: number
                        nullable: true
                        description: Table group ID (if grouped)
                      status:
                        type: string
                        enum:
                          - live
                          - paused
                          - deleted
                        description: Table status
                      qrCodeImageUrl:
                        type: string
                        format: uri
                        nullable: true
                        description: QR code image URL
                      activeTabs:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: Tab UUID
                            state:
                              type: string
                              description: Tab state (started, initiated, etc.)
                            orderTotal:
                              type: number
                              description: Total order amount in cents (legacy field)
                            paidTotal:
                              type: number
                              description: Total paid amount in cents (legacy field)
                            tipsTotal:
                              type: number
                              description: Total tips in cents
                            selectedPaymentFlow:
                              type: string
                              nullable: true
                              description: Selected payment flow
                            coursingOrder:
                              type: number
                              nullable: true
                              description: Current coursing level for the tab (items below this level cannot
                                be sent)
                            totalAmountCents:
                              type: number
                              description: Total order amount in cents (from tabs table)
                            paidAmountCents:
                              type: number
                              description: Total paid amount in cents (from tabs table)
                            remainingBalanceCents:
                              type: number
                              description: Remaining balance in cents
                            paymentMode:
                              type: string
                              enum:
                                - ITEM
                                - AMOUNT
                              description: Payment mode
                            storefrontQrCodeId:
                              type: string
                              format: uuid
                              nullable: true
                              description: Table/QR code UUID
                            createdAt:
                              type: string
                              format: date-time
                              description: Tab creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              nullable: true
                              description: Tab last update timestamp
                            extras:
                              type: array
                              items:
                                type: object
                                additionalProperties: true
                              description: Tab extras (only in single table endpoint)
                            kitchenDispatches:
                              type: array
                              items:
                                type: object
                                properties:
                                  id:
                                    type: string
                                    description: Kitchen dispatch UUID
                                  createdAt:
                                    type: string
                                    format: date-time
                                    description: Creation timestamp
                                  dailyOrderNumber:
                                    type: number
                                    nullable: true
                                    description: Daily order number
                                  state:
                                    type: string
                                    description: Dispatch state
                                  tabUUID:
                                    type: string
                                    description: Tab UUID
                                  tabType:
                                    type: string
                                    description: Tab type (table, takeaway, etc.)
                                  tableName:
                                    type: string
                                    nullable: true
                                    description: Table name if applicable
                                  tabState:
                                    type: string
                                    description: Current tab state
                                  source:
                                    type: string
                                    nullable: true
                                    description: Source channel that created the dispatch (POS, QR, KIOSK, ONLINE,
                                      TAKEAWAY, MOVE, MERGE, SPLIT, SYSTEM)
                                  message:
                                    type: string
                                    nullable: true
                                    description: Optional contextual message (e.g., "Moved from Table 5")
                                  comments:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        comment:
                                          type: string
                                          description: Comment text
                                        createdAt:
                                          type: string
                                          format: date-time
                                          description: Comment timestamp
                                        tabMemberUUID:
                                          type: string
                                          nullable: true
                                          description: Tab member UUID who made the comment
                                        uuid:
                                          type: string
                                          description: Comment UUID
                                      additionalProperties: true
                                    description: Dispatch comments
                                  kitchenDispatchItems:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        id:
                                          type: string
                                          description: Kitchen dispatch item UUID
                                        itemId:
                                          type: number
                                          nullable: true
                                          description: Item ID from inventory
                                        saleItemId:
                                          type: number
                                          nullable: true
                                          description: Sale item ID
                                        price:
                                          type: number
                                          description: Item price in cents
                                        basePrice:
                                          type: number
                                          description: Base price before modifications
                                        quantityCents:
                                          type: number
                                          nullable: true
                                          description: Item quantity in cents (e.g., 100 = 1.0, 50 = 0.5)
                                        coursingOrder:
                                          type: number
                                          nullable: true
                                          description: Coursing level for this item (e.g., 1=appetizer, 2=main, 3=dessert)
                                        isNonSurplus:
                                          type: boolean
                                          description: Whether item is non-surplus
                                        settlementState:
                                          type: string
                                          nullable: true
                                          description: Settlement state
                                        title:
                                          type: string
                                          nullable: true
                                          description: Item title
                                        tabMember:
                                          type: object
                                          properties:
                                            uuid:
                                              type: string
                                              nullable: true
                                              description: Tab member UUID
                                            name:
                                              type: string
                                              description: Member name
                                            email:
                                              type: string
                                              description: Member email
                                          additionalProperties: true
                                        comments:
                                          type: array
                                          items:
                                            type: object
                                            properties:
                                              comment:
                                                type: string
                                                description: Comment text
                                              createdAt:
                                                type: string
                                                format: date-time
                                                description: Comment timestamp
                                              tabMemberUUID:
                                                type: string
                                                nullable: true
                                                description: Tab member UUID who made the comment
                                              uuid:
                                                type: string
                                                description: Comment UUID
                                            additionalProperties: true
                                          description: Item comments
                                        variants:
                                          type: array
                                          items:
                                            type: object
                                            properties:
                                              id:
                                                type: number
                                                description: Variant ID
                                              name:
                                                type: string
                                                description: Variant name
                                              price:
                                                type: number
                                                description: Variant price (positive or negative)
                                              quantityCents:
                                                type: number
                                                nullable: true
                                                description: Quantity in cents (100 = 1.0). NULL = default 1.0
                                              priceCents:
                                                type: number
                                                nullable: true
                                                description: Price at time of order in cents. NULL = look up from variants table
                                            additionalProperties: true
                                          description: Item variants/modifications
                                      additionalProperties: true
                                    description: Items in this dispatch
                                additionalProperties: true
                              description: Kitchen dispatches (only in single table endpoint)
                          required:
                            - id
                            - state
                          additionalProperties: true
                        description: Active tabs on this table
                      totalOrderAmountOnActiveTables:
                        type: number
                        description: Total order amount across active tabs
                      totalPaidAmountOnActiveTables:
                        type: number
                        description: Total paid amount across active tabs
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        nullable: true
                        description: Last update timestamp
                    required:
                      - id
                      - name
                      - contextParams
                      - locationId
                      - status
                      - activeTabs
                      - createdAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tables/{id}:
    get:
      summary: Get table details
      tags:
        - Tables
      description: |-
        Get a single table by ID with active tabs

        **Permissions:** ðŸ”µ `tables.read`
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
          description: Table UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Unique table ID (UUID)
                      name:
                        type: string
                        description: Table name/number
                      description:
                        type: string
                        nullable: true
                        description: Table description
                      contextParams:
                        type: object
                        additionalProperties: true
                        description: Custom context parameters
                      locationId:
                        type: number
                        description: Location ID
                      storefrontUrl:
                        type: string
                        format: uri
                        nullable: true
                        description: Full storefront URL for this table
                      tableGroupId:
                        type: number
                        nullable: true
                        description: Table group ID (if grouped)
                      status:
                        type: string
                        enum:
                          - live
                          - paused
                          - deleted
                        description: Table status
                      qrCodeImageUrl:
                        type: string
                        format: uri
                        nullable: true
                        description: QR code image URL
                      activeTabs:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: Tab UUID
                            state:
                              type: string
                              description: Tab state (started, initiated, etc.)
                            orderTotal:
                              type: number
                              description: Total order amount in cents (legacy field)
                            paidTotal:
                              type: number
                              description: Total paid amount in cents (legacy field)
                            tipsTotal:
                              type: number
                              description: Total tips in cents
                            selectedPaymentFlow:
                              type: string
                              nullable: true
                              description: Selected payment flow
                            coursingOrder:
                              type: number
                              nullable: true
                              description: Current coursing level for the tab (items below this level cannot
                                be sent)
                            totalAmountCents:
                              type: number
                              description: Total order amount in cents (from tabs table)
                            paidAmountCents:
                              type: number
                              description: Total paid amount in cents (from tabs table)
                            remainingBalanceCents:
                              type: number
                              description: Remaining balance in cents
                            paymentMode:
                              type: string
                              enum:
                                - ITEM
                                - AMOUNT
                              description: Payment mode
                            storefrontQrCodeId:
                              type: string
                              format: uuid
                              nullable: true
                              description: Table/QR code UUID
                            createdAt:
                              type: string
                              format: date-time
                              description: Tab creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              nullable: true
                              description: Tab last update timestamp
                            extras:
                              type: array
                              items:
                                type: object
                                additionalProperties: true
                              description: Tab extras (only in single table endpoint)
                            kitchenDispatches:
                              type: array
                              items:
                                type: object
                                properties:
                                  id:
                                    type: string
                                    description: Kitchen dispatch UUID
                                  createdAt:
                                    type: string
                                    format: date-time
                                    description: Creation timestamp
                                  dailyOrderNumber:
                                    type: number
                                    nullable: true
                                    description: Daily order number
                                  state:
                                    type: string
                                    description: Dispatch state
                                  tabUUID:
                                    type: string
                                    description: Tab UUID
                                  tabType:
                                    type: string
                                    description: Tab type (table, takeaway, etc.)
                                  tableName:
                                    type: string
                                    nullable: true
                                    description: Table name if applicable
                                  tabState:
                                    type: string
                                    description: Current tab state
                                  source:
                                    type: string
                                    nullable: true
                                    description: Source channel that created the dispatch (POS, QR, KIOSK, ONLINE,
                                      TAKEAWAY, MOVE, MERGE, SPLIT, SYSTEM)
                                  message:
                                    type: string
                                    nullable: true
                                    description: Optional contextual message (e.g., "Moved from Table 5")
                                  comments:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        comment:
                                          type: string
                                          description: Comment text
                                        createdAt:
                                          type: string
                                          format: date-time
                                          description: Comment timestamp
                                        tabMemberUUID:
                                          type: string
                                          nullable: true
                                          description: Tab member UUID who made the comment
                                        uuid:
                                          type: string
                                          description: Comment UUID
                                      additionalProperties: true
                                    description: Dispatch comments
                                  kitchenDispatchItems:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        id:
                                          type: string
                                          description: Kitchen dispatch item UUID
                                        itemId:
                                          type: number
                                          nullable: true
                                          description: Item ID from inventory
                                        saleItemId:
                                          type: number
                                          nullable: true
                                          description: Sale item ID
                                        price:
                                          type: number
                                          description: Item price in cents
                                        basePrice:
                                          type: number
                                          description: Base price before modifications
                                        quantityCents:
                                          type: number
                                          nullable: true
                                          description: Item quantity in cents (e.g., 100 = 1.0, 50 = 0.5)
                                        coursingOrder:
                                          type: number
                                          nullable: true
                                          description: Coursing level for this item (e.g., 1=appetizer, 2=main, 3=dessert)
                                        isNonSurplus:
                                          type: boolean
                                          description: Whether item is non-surplus
                                        settlementState:
                                          type: string
                                          nullable: true
                                          description: Settlement state
                                        title:
                                          type: string
                                          nullable: true
                                          description: Item title
                                        tabMember:
                                          type: object
                                          properties:
                                            uuid:
                                              type: string
                                              nullable: true
                                              description: Tab member UUID
                                            name:
                                              type: string
                                              description: Member name
                                            email:
                                              type: string
                                              description: Member email
                                          additionalProperties: true
                                        comments:
                                          type: array
                                          items:
                                            type: object
                                            properties:
                                              comment:
                                                type: string
                                                description: Comment text
                                              createdAt:
                                                type: string
                                                format: date-time
                                                description: Comment timestamp
                                              tabMemberUUID:
                                                type: string
                                                nullable: true
                                                description: Tab member UUID who made the comment
                                              uuid:
                                                type: string
                                                description: Comment UUID
                                            additionalProperties: true
                                          description: Item comments
                                        variants:
                                          type: array
                                          items:
                                            type: object
                                            properties:
                                              id:
                                                type: number
                                                description: Variant ID
                                              name:
                                                type: string
                                                description: Variant name
                                              price:
                                                type: number
                                                description: Variant price (positive or negative)
                                              quantityCents:
                                                type: number
                                                nullable: true
                                                description: Quantity in cents (100 = 1.0). NULL = default 1.0
                                              priceCents:
                                                type: number
                                                nullable: true
                                                description: Price at time of order in cents. NULL = look up from variants table
                                            additionalProperties: true
                                          description: Item variants/modifications
                                      additionalProperties: true
                                    description: Items in this dispatch
                                additionalProperties: true
                              description: Kitchen dispatches (only in single table endpoint)
                          required:
                            - id
                            - state
                          additionalProperties: true
                        description: Active tabs on this table
                      totalOrderAmountOnActiveTables:
                        type: number
                        description: Total order amount across active tabs
                      totalPaidAmountOnActiveTables:
                        type: number
                        description: Total paid amount across active tabs
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        nullable: true
                        description: Last update timestamp
                    required:
                      - id
                      - name
                      - contextParams
                      - locationId
                      - status
                      - activeTabs
                      - createdAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    put:
      summary: Update table
      tags:
        - Tables
      description: |-
        Update an existing table

        **Permissions:** ðŸŸ  `tables.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  minLength: 1
                description:
                  type: string
                  nullable: true
                tableGroupId:
                  type: number
                  nullable: true
                status:
                  type: string
                  enum:
                    - live
                    - paused
                    - deleted
                contextParams:
                  type: object
                  additionalProperties: true
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
          description: Table UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Unique table ID (UUID)
                      name:
                        type: string
                        description: Table name/number
                      description:
                        type: string
                        nullable: true
                        description: Table description
                      contextParams:
                        type: object
                        additionalProperties: true
                        description: Custom context parameters
                      locationId:
                        type: number
                        description: Location ID
                      storefrontUrl:
                        type: string
                        format: uri
                        nullable: true
                        description: Full storefront URL for this table
                      tableGroupId:
                        type: number
                        nullable: true
                        description: Table group ID (if grouped)
                      status:
                        type: string
                        enum:
                          - live
                          - paused
                          - deleted
                        description: Table status
                      qrCodeImageUrl:
                        type: string
                        format: uri
                        nullable: true
                        description: QR code image URL
                      activeTabs:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: Tab UUID
                            state:
                              type: string
                              description: Tab state (started, initiated, etc.)
                            orderTotal:
                              type: number
                              description: Total order amount in cents (legacy field)
                            paidTotal:
                              type: number
                              description: Total paid amount in cents (legacy field)
                            tipsTotal:
                              type: number
                              description: Total tips in cents
                            selectedPaymentFlow:
                              type: string
                              nullable: true
                              description: Selected payment flow
                            coursingOrder:
                              type: number
                              nullable: true
                              description: Current coursing level for the tab (items below this level cannot
                                be sent)
                            totalAmountCents:
                              type: number
                              description: Total order amount in cents (from tabs table)
                            paidAmountCents:
                              type: number
                              description: Total paid amount in cents (from tabs table)
                            remainingBalanceCents:
                              type: number
                              description: Remaining balance in cents
                            paymentMode:
                              type: string
                              enum:
                                - ITEM
                                - AMOUNT
                              description: Payment mode
                            storefrontQrCodeId:
                              type: string
                              format: uuid
                              nullable: true
                              description: Table/QR code UUID
                            createdAt:
                              type: string
                              format: date-time
                              description: Tab creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              nullable: true
                              description: Tab last update timestamp
                            extras:
                              type: array
                              items:
                                type: object
                                additionalProperties: true
                              description: Tab extras (only in single table endpoint)
                            kitchenDispatches:
                              type: array
                              items:
                                type: object
                                properties:
                                  id:
                                    type: string
                                    description: Kitchen dispatch UUID
                                  createdAt:
                                    type: string
                                    format: date-time
                                    description: Creation timestamp
                                  dailyOrderNumber:
                                    type: number
                                    nullable: true
                                    description: Daily order number
                                  state:
                                    type: string
                                    description: Dispatch state
                                  tabUUID:
                                    type: string
                                    description: Tab UUID
                                  tabType:
                                    type: string
                                    description: Tab type (table, takeaway, etc.)
                                  tableName:
                                    type: string
                                    nullable: true
                                    description: Table name if applicable
                                  tabState:
                                    type: string
                                    description: Current tab state
                                  source:
                                    type: string
                                    nullable: true
                                    description: Source channel that created the dispatch (POS, QR, KIOSK, ONLINE,
                                      TAKEAWAY, MOVE, MERGE, SPLIT, SYSTEM)
                                  message:
                                    type: string
                                    nullable: true
                                    description: Optional contextual message (e.g., "Moved from Table 5")
                                  comments:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        comment:
                                          type: string
                                          description: Comment text
                                        createdAt:
                                          type: string
                                          format: date-time
                                          description: Comment timestamp
                                        tabMemberUUID:
                                          type: string
                                          nullable: true
                                          description: Tab member UUID who made the comment
                                        uuid:
                                          type: string
                                          description: Comment UUID
                                      additionalProperties: true
                                    description: Dispatch comments
                                  kitchenDispatchItems:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        id:
                                          type: string
                                          description: Kitchen dispatch item UUID
                                        itemId:
                                          type: number
                                          nullable: true
                                          description: Item ID from inventory
                                        saleItemId:
                                          type: number
                                          nullable: true
                                          description: Sale item ID
                                        price:
                                          type: number
                                          description: Item price in cents
                                        basePrice:
                                          type: number
                                          description: Base price before modifications
                                        quantityCents:
                                          type: number
                                          nullable: true
                                          description: Item quantity in cents (e.g., 100 = 1.0, 50 = 0.5)
                                        coursingOrder:
                                          type: number
                                          nullable: true
                                          description: Coursing level for this item (e.g., 1=appetizer, 2=main, 3=dessert)
                                        isNonSurplus:
                                          type: boolean
                                          description: Whether item is non-surplus
                                        settlementState:
                                          type: string
                                          nullable: true
                                          description: Settlement state
                                        title:
                                          type: string
                                          nullable: true
                                          description: Item title
                                        tabMember:
                                          type: object
                                          properties:
                                            uuid:
                                              type: string
                                              nullable: true
                                              description: Tab member UUID
                                            name:
                                              type: string
                                              description: Member name
                                            email:
                                              type: string
                                              description: Member email
                                          additionalProperties: true
                                        comments:
                                          type: array
                                          items:
                                            type: object
                                            properties:
                                              comment:
                                                type: string
                                                description: Comment text
                                              createdAt:
                                                type: string
                                                format: date-time
                                                description: Comment timestamp
                                              tabMemberUUID:
                                                type: string
                                                nullable: true
                                                description: Tab member UUID who made the comment
                                              uuid:
                                                type: string
                                                description: Comment UUID
                                            additionalProperties: true
                                          description: Item comments
                                        variants:
                                          type: array
                                          items:
                                            type: object
                                            properties:
                                              id:
                                                type: number
                                                description: Variant ID
                                              name:
                                                type: string
                                                description: Variant name
                                              price:
                                                type: number
                                                description: Variant price (positive or negative)
                                              quantityCents:
                                                type: number
                                                nullable: true
                                                description: Quantity in cents (100 = 1.0). NULL = default 1.0
                                              priceCents:
                                                type: number
                                                nullable: true
                                                description: Price at time of order in cents. NULL = look up from variants table
                                            additionalProperties: true
                                          description: Item variants/modifications
                                      additionalProperties: true
                                    description: Items in this dispatch
                                additionalProperties: true
                              description: Kitchen dispatches (only in single table endpoint)
                          required:
                            - id
                            - state
                          additionalProperties: true
                        description: Active tabs on this table
                      totalOrderAmountOnActiveTables:
                        type: number
                        description: Total order amount across active tabs
                      totalPaidAmountOnActiveTables:
                        type: number
                        description: Total paid amount across active tabs
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        nullable: true
                        description: Last update timestamp
                    required:
                      - id
                      - name
                      - contextParams
                      - locationId
                      - status
                      - activeTabs
                      - createdAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    delete:
      summary: Delete table
      tags:
        - Tables
      description: |-
        Delete a table (soft delete - sets status to deleted)

        **Permissions:** ðŸ”´ `tables.delete`
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
          description: Table UUID
      responses:
        "200":
          description: Table successfully deleted
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      deleted:
                        type: boolean
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tables/bulk:
    put:
      summary: Bulk update tables
      tags:
        - Tables
      description: >-
        Update multiple tables in a single request. Apply the same changes to
        all specified tables.


        **Permissions:** ðŸŸ  `tables.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                tableIds:
                  type: array
                  items:
                    type: string
                    format: uuid
                  minItems: 1
                  description: Array of table UUIDs to update
                tableGroupId:
                  type: number
                  nullable: true
                  description: Table group ID to assign (null to remove from group)
                contextParamsToMerge:
                  type: object
                  additionalProperties: true
                  description: Context parameters to merge into existing params
                contextParamsToDelete:
                  type: array
                  items:
                    type: string
                  description: Context parameter keys to delete
                status:
                  type: string
                  enum:
                    - live
                    - paused
                    - deleted
                  description: Status to set on all tables
              required:
                - tableIds
        required: true
      responses:
        "200":
          description: Tables updated successfully
          content:
            application/json:
              schema:
                description: Tables updated successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                          description: Unique table ID (UUID)
                        name:
                          type: string
                          description: Table name/number
                        description:
                          type: string
                          nullable: true
                          description: Table description
                        contextParams:
                          type: object
                          additionalProperties: true
                          description: Custom context parameters
                        locationId:
                          type: number
                          description: Location ID
                        storefrontUrl:
                          type: string
                          format: uri
                          nullable: true
                          description: Full storefront URL for this table
                        tableGroupId:
                          type: number
                          nullable: true
                          description: Table group ID (if grouped)
                        status:
                          type: string
                          enum:
                            - live
                            - paused
                            - deleted
                          description: Table status
                        qrCodeImageUrl:
                          type: string
                          format: uri
                          nullable: true
                          description: QR code image URL
                        activeTabs:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: string
                                description: Tab UUID
                              state:
                                type: string
                                description: Tab state (started, initiated, etc.)
                              orderTotal:
                                type: number
                                description: Total order amount in cents (legacy field)
                              paidTotal:
                                type: number
                                description: Total paid amount in cents (legacy field)
                              tipsTotal:
                                type: number
                                description: Total tips in cents
                              selectedPaymentFlow:
                                type: string
                                nullable: true
                                description: Selected payment flow
                              coursingOrder:
                                type: number
                                nullable: true
                                description: Current coursing level for the tab (items below this level cannot
                                  be sent)
                              totalAmountCents:
                                type: number
                                description: Total order amount in cents (from tabs table)
                              paidAmountCents:
                                type: number
                                description: Total paid amount in cents (from tabs table)
                              remainingBalanceCents:
                                type: number
                                description: Remaining balance in cents
                              paymentMode:
                                type: string
                                enum:
                                  - ITEM
                                  - AMOUNT
                                description: Payment mode
                              storefrontQrCodeId:
                                type: string
                                format: uuid
                                nullable: true
                                description: Table/QR code UUID
                              createdAt:
                                type: string
                                format: date-time
                                description: Tab creation timestamp
                              updatedAt:
                                type: string
                                format: date-time
                                nullable: true
                                description: Tab last update timestamp
                              extras:
                                type: array
                                items:
                                  type: object
                                  additionalProperties: true
                                description: Tab extras (only in single table endpoint)
                              kitchenDispatches:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    id:
                                      type: string
                                      description: Kitchen dispatch UUID
                                    createdAt:
                                      type: string
                                      format: date-time
                                      description: Creation timestamp
                                    dailyOrderNumber:
                                      type: number
                                      nullable: true
                                      description: Daily order number
                                    state:
                                      type: string
                                      description: Dispatch state
                                    tabUUID:
                                      type: string
                                      description: Tab UUID
                                    tabType:
                                      type: string
                                      description: Tab type (table, takeaway, etc.)
                                    tableName:
                                      type: string
                                      nullable: true
                                      description: Table name if applicable
                                    tabState:
                                      type: string
                                      description: Current tab state
                                    source:
                                      type: string
                                      nullable: true
                                      description: Source channel that created the dispatch (POS, QR, KIOSK, ONLINE,
                                        TAKEAWAY, MOVE, MERGE, SPLIT, SYSTEM)
                                    message:
                                      type: string
                                      nullable: true
                                      description: Optional contextual message (e.g., "Moved from Table 5")
                                    comments:
                                      type: array
                                      items:
                                        type: object
                                        properties:
                                          comment:
                                            type: string
                                            description: Comment text
                                          createdAt:
                                            type: string
                                            format: date-time
                                            description: Comment timestamp
                                          tabMemberUUID:
                                            type: string
                                            nullable: true
                                            description: Tab member UUID who made the comment
                                          uuid:
                                            type: string
                                            description: Comment UUID
                                        additionalProperties: true
                                      description: Dispatch comments
                                    kitchenDispatchItems:
                                      type: array
                                      items:
                                        type: object
                                        properties:
                                          id:
                                            type: string
                                            description: Kitchen dispatch item UUID
                                          itemId:
                                            type: number
                                            nullable: true
                                            description: Item ID from inventory
                                          saleItemId:
                                            type: number
                                            nullable: true
                                            description: Sale item ID
                                          price:
                                            type: number
                                            description: Item price in cents
                                          basePrice:
                                            type: number
                                            description: Base price before modifications
                                          quantityCents:
                                            type: number
                                            nullable: true
                                            description: Item quantity in cents (e.g., 100 = 1.0, 50 = 0.5)
                                          coursingOrder:
                                            type: number
                                            nullable: true
                                            description: Coursing level for this item (e.g., 1=appetizer, 2=main, 3=dessert)
                                          isNonSurplus:
                                            type: boolean
                                            description: Whether item is non-surplus
                                          settlementState:
                                            type: string
                                            nullable: true
                                            description: Settlement state
                                          title:
                                            type: string
                                            nullable: true
                                            description: Item title
                                          tabMember:
                                            type: object
                                            properties:
                                              uuid:
                                                type: string
                                                nullable: true
                                                description: Tab member UUID
                                              name:
                                                type: string
                                                description: Member name
                                              email:
                                                type: string
                                                description: Member email
                                            additionalProperties: true
                                          comments:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                comment:
                                                  type: string
                                                  description: Comment text
                                                createdAt:
                                                  type: string
                                                  format: date-time
                                                  description: Comment timestamp
                                                tabMemberUUID:
                                                  type: string
                                                  nullable: true
                                                  description: Tab member UUID who made the comment
                                                uuid:
                                                  type: string
                                                  description: Comment UUID
                                              additionalProperties: true
                                            description: Item comments
                                          variants:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                id:
                                                  type: number
                                                  description: Variant ID
                                                name:
                                                  type: string
                                                  description: Variant name
                                                price:
                                                  type: number
                                                  description: Variant price (positive or negative)
                                                quantityCents:
                                                  type: number
                                                  nullable: true
                                                  description: Quantity in cents (100 = 1.0). NULL = default 1.0
                                                priceCents:
                                                  type: number
                                                  nullable: true
                                                  description: Price at time of order in cents. NULL = look up from variants table
                                              additionalProperties: true
                                            description: Item variants/modifications
                                        additionalProperties: true
                                      description: Items in this dispatch
                                  additionalProperties: true
                                description: Kitchen dispatches (only in single table endpoint)
                            required:
                              - id
                              - state
                            additionalProperties: true
                          description: Active tabs on this table
                        totalOrderAmountOnActiveTables:
                          type: number
                          description: Total order amount across active tabs
                        totalPaidAmountOnActiveTables:
                          type: number
                          description: Total paid amount across active tabs
                        createdAt:
                          type: string
                          format: date-time
                          description: Creation timestamp
                        updatedAt:
                          type: string
                          format: date-time
                          nullable: true
                          description: Last update timestamp
                      required:
                        - id
                        - name
                        - contextParams
                        - locationId
                        - status
                        - activeTabs
                        - createdAt
                    description: Updated tables
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/table-groups:
    get:
      summary: List table groups
      tags:
        - Table Groups
      description: |-
        List table groups with optional filtering and sorting

        **Permissions:** ðŸ”µ `table_groups.read`
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: false
          description: Filter by location ID
        - schema:
            type: string
          in: query
          name: search
          required: false
          description: Search by name or description
        - schema:
            type: string
            default: name
          in: query
          name: sort
          required: false
          description: Sort field (name, created_at)
        - schema:
            type: string
            enum:
              - asc
              - desc
            default: asc
          in: query
          name: order
          required: false
          description: Sort order
        - schema:
            type: number
            minimum: 1
            default: 1
          in: query
          name: page
          required: false
          description: Page number
        - schema:
            type: number
            minimum: 1
            maximum: 100
            default: 20
          in: query
          name: limit
          required: false
          description: Items per page
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      tableGroups:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                              description: Unique table group ID
                            name:
                              type: string
                              description: Group name (e.g., "Patio", "Main Dining Room")
                            description:
                              type: string
                              nullable: true
                              description: Group description
                            locationId:
                              type: number
                              description: Location ID
                            tableIds:
                              type: array
                              items:
                                type: string
                                format: uuid
                              description: Array of table UUIDs in this group
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              nullable: true
                              description: Last update timestamp
                          required:
                            - id
                            - name
                            - locationId
                            - tableIds
                            - createdAt
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                            minimum: 1
                          limit:
                            type: number
                            minimum: 1
                            maximum: 100
                          total:
                            type: number
                            minimum: 0
                          totalPages:
                            type: number
                            minimum: 0
                        required:
                          - page
                          - limit
                          - total
                          - totalPages
                    required:
                      - tableGroups
                      - pagination
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    post:
      summary: Create table group
      tags:
        - Table Groups
      description: |-
        Create a new table group

        **Permissions:** ðŸŸ¢ `table_groups.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                locationId:
                  type: number
                  description: Location ID
                name:
                  type: string
                  minLength: 1
                  description: Group name
                description:
                  type: string
                  description: Group description
              required:
                - locationId
                - name
        required: true
      responses:
        "201":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                        description: Unique table group ID
                      name:
                        type: string
                        description: Group name (e.g., "Patio", "Main Dining Room")
                      description:
                        type: string
                        nullable: true
                        description: Group description
                      locationId:
                        type: number
                        description: Location ID
                      tableIds:
                        type: array
                        items:
                          type: string
                          format: uuid
                        description: Array of table UUIDs in this group
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        nullable: true
                        description: Last update timestamp
                    required:
                      - id
                      - name
                      - locationId
                      - tableIds
                      - createdAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/table-groups/{id}:
    get:
      summary: Get table group
      tags:
        - Table Groups
      description: |-
        Get a single table group by ID with table UUIDs

        **Permissions:** ðŸ”µ `table_groups.read`
      parameters:
        - schema:
            type: string
            pattern: ^[0-9]+$
          in: path
          name: id
          required: true
          description: Table group ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                        description: Unique table group ID
                      name:
                        type: string
                        description: Group name (e.g., "Patio", "Main Dining Room")
                      description:
                        type: string
                        nullable: true
                        description: Group description
                      locationId:
                        type: number
                        description: Location ID
                      tableIds:
                        type: array
                        items:
                          type: string
                          format: uuid
                        description: Array of table UUIDs in this group
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        nullable: true
                        description: Last update timestamp
                    required:
                      - id
                      - name
                      - locationId
                      - tableIds
                      - createdAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    put:
      summary: Update table group
      tags:
        - Table Groups
      description: |-
        Update an existing table group

        **Permissions:** ðŸŸ  `table_groups.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  minLength: 1
                description:
                  type: string
                  nullable: true
      parameters:
        - schema:
            type: string
            pattern: ^[0-9]+$
          in: path
          name: id
          required: true
          description: Table group ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                        description: Unique table group ID
                      name:
                        type: string
                        description: Group name (e.g., "Patio", "Main Dining Room")
                      description:
                        type: string
                        nullable: true
                        description: Group description
                      locationId:
                        type: number
                        description: Location ID
                      tableIds:
                        type: array
                        items:
                          type: string
                          format: uuid
                        description: Array of table UUIDs in this group
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        nullable: true
                        description: Last update timestamp
                    required:
                      - id
                      - name
                      - locationId
                      - tableIds
                      - createdAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    delete:
      summary: Delete table group
      tags:
        - Table Groups
      description: |-
        Delete a table group

        **Permissions:** ðŸ”´ `table_groups.delete`
      parameters:
        - schema:
            type: string
            pattern: ^[0-9]+$
          in: path
          name: id
          required: true
          description: Table group ID
      responses:
        "200":
          description: Table group successfully deleted
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      deleted:
                        type: boolean
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/location-maps:
    get:
      summary: List location maps
      tags:
        - Location Maps
      description: |-
        List location maps with optional filtering

        **Permissions:** ðŸ”µ `location_maps.read`
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: false
          description: Filter by location ID
        - schema:
            type: number
            minimum: 1
            default: 1
          in: query
          name: page
          required: false
          description: Page number
        - schema:
            type: number
            minimum: 1
            maximum: 100
            default: 20
          in: query
          name: limit
          required: false
          description: Items per page
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      maps:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              format: uuid
                              description: Unique location map ID (UUID)
                            locationId:
                              type: number
                              description: Location ID
                            context:
                              type: object
                              additionalProperties: true
                              description: JSON object with map configuration and layout data
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              description: Last update timestamp
                          required:
                            - id
                            - locationId
                            - context
                            - createdAt
                            - updatedAt
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                            minimum: 1
                          limit:
                            type: number
                            minimum: 1
                            maximum: 100
                          total:
                            type: number
                            minimum: 0
                          totalPages:
                            type: number
                            minimum: 0
                        required:
                          - page
                          - limit
                          - total
                          - totalPages
                    required:
                      - maps
                      - pagination
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    post:
      summary: Create location map
      tags:
        - Location Maps
      description: |-
        Create a new location map

        **Permissions:** ðŸŸ¢ `location_maps.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                locationId:
                  type: number
                  description: Location ID
                context:
                  type: object
                  additionalProperties: true
                  description: JSON object with map configuration
              required:
                - locationId
                - context
        required: true
      responses:
        "201":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Unique location map ID (UUID)
                      locationId:
                        type: number
                        description: Location ID
                      context:
                        type: object
                        additionalProperties: true
                        description: JSON object with map configuration and layout data
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Last update timestamp
                    required:
                      - id
                      - locationId
                      - context
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/location-maps/{id}:
    get:
      summary: Get location map
      tags:
        - Location Maps
      description: |-
        Get a single location map by ID

        **Permissions:** ðŸ”µ `location_maps.read`
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
          description: Location map UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Unique location map ID (UUID)
                      locationId:
                        type: number
                        description: Location ID
                      context:
                        type: object
                        additionalProperties: true
                        description: JSON object with map configuration and layout data
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Last update timestamp
                    required:
                      - id
                      - locationId
                      - context
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    put:
      summary: Update location map
      tags:
        - Location Maps
      description: |-
        Update an existing location map

        **Permissions:** ðŸŸ  `location_maps.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  type: object
                  additionalProperties: true
                  description: Updated JSON object with map configuration
              required:
                - context
        required: true
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
          description: Location map UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Unique location map ID (UUID)
                      locationId:
                        type: number
                        description: Location ID
                      context:
                        type: object
                        additionalProperties: true
                        description: JSON object with map configuration and layout data
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Last update timestamp
                    required:
                      - id
                      - locationId
                      - context
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    delete:
      summary: Delete location map
      tags:
        - Location Maps
      description: |-
        Delete a location map

        **Permissions:** ðŸ”´ `location_maps.delete`
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
          description: Location map UUID
      responses:
        "200":
          description: Location map successfully deleted
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      deleted:
                        type: boolean
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs:
    get:
      summary: List tabs
      tags:
        - Tabs
      description: |-
        List tabs with optional filtering

        **Permissions:** ðŸ”µ `tabs.read`
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: false
          description: Filter by location ID
        - schema:
            type: string
            enum:
              - initiated
              - started
              - instant
              - closed
              - settled
              - aborted
              - action_required
          in: query
          name: state
          required: false
          description: Filter by tab state
        - schema:
            type: string
          in: query
          name: storefrontQrCodeId
          required: false
          description: Filter by table/QR code UUID
        - schema:
            type: number
            minimum: 1
            default: 1
          in: query
          name: page
          required: false
          description: Page number
        - schema:
            type: number
            minimum: 1
            maximum: 100
            default: 20
          in: query
          name: limit
          required: false
          description: Items per page
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      tabs:
                        type: array
                        items:
                          type: object
                          properties:
                            uuid:
                              type: string
                              format: uuid
                              description: Tab UUID
                            locationId:
                              type: number
                              description: Location ID
                            latestState:
                              type: string
                              enum:
                                - initiated
                                - started
                                - instant
                                - closed
                                - settled
                                - aborted
                                - action_required
                              description: Current tab state
                            paymentMode:
                              type: string
                              enum:
                                - ITEM
                                - AMOUNT
                              description: "Payment mode (ITEM: pay per item, AMOUNT: pay arbitrary amounts)"
                            paymentSplit:
                              type: number
                              nullable: true
                              minimum: 2
                              maximum: 10
                              description: Number of splits when in AMOUNT mode (2-10), null when in ITEM mode
                            totalAmountCents:
                              type: number
                              description: Total order amount in cents
                            paidAmountCents:
                              type: number
                              description: Total paid amount in cents
                            remainingBalanceCents:
                              type: number
                              description: Remaining balance to be paid in cents
                            storefrontQrCodeId:
                              type: string
                              nullable: true
                              description: Table/QR code UUID if applicable
                            tabMembers:
                              type: array
                              items:
                                type: object
                                properties:
                                  uuid:
                                    type: string
                                    format: uuid
                                    description: Tab member UUID
                                  storefrontSessionId:
                                    type: string
                                    nullable: true
                                    description: Storefront session ID
                                  initiator:
                                    type: boolean
                                    description: Whether this member initiated the tab
                                  memberType:
                                    type: string
                                    description: Member type (guest, user, etc.)
                                  userId:
                                    type: number
                                    nullable: true
                                    description: User ID if authenticated
                                  retailUserId:
                                    type: number
                                    nullable: true
                                    description: Retail user ID if applicable
                                  clientId:
                                    type: string
                                    nullable: true
                                    description: Client identifier (user UUID for identification)
                                  userEmail:
                                    type: string
                                    nullable: true
                                    description: User email from users table
                                  userName:
                                    type: string
                                    nullable: true
                                    description: User name from users table
                                  isEnrolledInLoyalty:
                                    type: boolean
                                    description: Whether user is enrolled in location loyalty program
                                  createdAt:
                                    type: string
                                    format: date-time
                                    description: Creation timestamp
                                  updatedAt:
                                    type: string
                                    format: date-time
                                    description: Last update timestamp
                                required:
                                  - uuid
                                  - initiator
                                  - memberType
                                  - isEnrolledInLoyalty
                                  - createdAt
                                  - updatedAt
                              description: Tab members
                            kitchenDispatches:
                              type: array
                              items:
                                type: object
                                properties:
                                  uuid:
                                    type: string
                                    format: uuid
                                    description: Kitchen dispatch UUID
                                  tabId:
                                    type: string
                                    format: uuid
                                    description: Tab UUID
                                  locationId:
                                    type: number
                                    description: Location ID
                                  dailyOrderNumber:
                                    type: number
                                    nullable: true
                                    description: Daily order number
                                  latestState:
                                    type: string
                                    description: Current state of the dispatch
                                  createdAt:
                                    type: string
                                    format: date-time
                                    description: Creation timestamp
                                  updatedAt:
                                    type: string
                                    format: date-time
                                    description: Last update timestamp
                                  kitchenDispatchItems:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        uuid:
                                          type: string
                                          format: uuid
                                          description: Kitchen dispatch item UUID
                                        kitchenDispatchId:
                                          type: string
                                          format: uuid
                                          description: Kitchen dispatch UUID
                                        saleItemId:
                                          type: number
                                          nullable: true
                                          description: Sale item ID
                                        itemId:
                                          type: number
                                          nullable: true
                                          description: Inventory item ID
                                        tabMemberId:
                                          type: string
                                          nullable: true
                                          description: Tab member UUID who ordered this
                                        parentKitchenDispatchItemId:
                                          type: string
                                          nullable: true
                                          description: Parent kitchen dispatch item UUID (for nested items)
                                        price:
                                          type: number
                                          description: Item price in cents
                                        basePrice:
                                          type: number
                                          description: Base price before modifications in cents
                                        discount:
                                          type: number
                                          nullable: true
                                          description: Discount amount in cents
                                        quantity:
                                          type: number
                                          description: Quantity ordered
                                        quantityCents:
                                          type: number
                                          nullable: true
                                          description: Quantity in cents (for fractional items)
                                        splitOfKdi:
                                          type: string
                                          format: uuid
                                          nullable: true
                                          description: UUID of original item if this is a split item (for grouping)
                                        tabSettlementId:
                                          type: string
                                          nullable: true
                                          description: Settlement UUID if paid
                                        settlementState:
                                          type: string
                                          nullable: true
                                          description: Settlement state (payment_in_progress, settled)
                                        status:
                                          type: string
                                          nullable: true
                                          description: Item status
                                        paidAmount:
                                          type: number
                                          nullable: true
                                          description: Amount paid for this item in cents
                                        createdAt:
                                          type: string
                                          format: date-time
                                          description: Creation timestamp
                                        updatedAt:
                                          type: string
                                          format: date-time
                                          description: Last update timestamp
                                        itemTitle:
                                          type: string
                                          nullable: true
                                          description: Item title from inventory
                                        itemTitlePrep:
                                          type: string
                                          nullable: true
                                          description: Item prep name from inventory
                                        itemDescription:
                                          type: string
                                          nullable: true
                                          description: Item description from inventory
                                        itemImageUrl:
                                          type: string
                                          nullable: true
                                          description: Item image URL from inventory
                                        tabMember:
                                          type: object
                                          nullable: true
                                          description: Guest/user information for the person who ordered this item
                                          properties:
                                            uuid:
                                              type: string
                                              format: uuid
                                              description: Tab member UUID
                                            name:
                                              type: string
                                              description: Member name
                                            email:
                                              type: string
                                              description: Member email
                                            phone:
                                              type: string
                                              description: Member phone number
                                            imageUrl:
                                              type: string
                                              description: Member profile image URL
                                            memberType:
                                              type: string
                                              description: Member type (guest, user, etc.)
                                            userId:
                                              type: number
                                              nullable: true
                                              description: User ID if authenticated user
                                            retailUserId:
                                              type: number
                                              nullable: true
                                              description: Retailer user ID if staff member
                                        comments:
                                          type: array
                                          description: Comments on this item
                                          items:
                                            type: object
                                            properties:
                                              comment:
                                                type: string
                                              createdAt:
                                                type: string
                                                format: date-time
                                              tabMemberUUID:
                                                type: string
                                                nullable: true
                                              uuid:
                                                type: string
                                                format: uuid
                                        variants:
                                          type: array
                                          description: Variants/modifications on this item
                                          items:
                                            type: object
                                            properties:
                                              id:
                                                type: number
                                              name:
                                                type: string
                                              price:
                                                type: number
                                                description: Price in cents (positive or negative)
                                              quantityCents:
                                                type: number
                                                nullable: true
                                                description: Quantity in cents (100 = 1.0). NULL = default 1.0
                                              priceCents:
                                                type: number
                                                nullable: true
                                                description: Price at time of order in cents. NULL = look up from variants table
                                      required:
                                        - uuid
                                        - kitchenDispatchId
                                        - price
                                        - basePrice
                                        - quantity
                                        - createdAt
                                        - updatedAt
                                    description: Items in this dispatch
                                required:
                                  - uuid
                                  - tabId
                                  - locationId
                                  - latestState
                                  - createdAt
                                  - updatedAt
                                  - kitchenDispatchItems
                              description: Kitchen dispatches with items
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              description: Last update timestamp
                          required:
                            - uuid
                            - locationId
                            - latestState
                            - paymentMode
                            - totalAmountCents
                            - paidAmountCents
                            - remainingBalanceCents
                            - tabMembers
                            - createdAt
                            - updatedAt
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                            minimum: 1
                          limit:
                            type: number
                            minimum: 1
                            maximum: 100
                          total:
                            type: number
                            minimum: 0
                          totalPages:
                            type: number
                            minimum: 0
                        required:
                          - page
                          - limit
                          - total
                          - totalPages
                    required:
                      - tabs
                      - pagination
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs/{id}:
    get:
      summary: Get tab details
      tags:
        - Tabs
      description: |-
        Get a single tab by ID with members and kitchen dispatch items

        **Permissions:** ðŸ”µ `tabs.read`
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
          description: Tab UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      uuid:
                        type: string
                        format: uuid
                        description: Tab UUID
                      locationId:
                        type: number
                        description: Location ID
                      latestState:
                        type: string
                        enum:
                          - initiated
                          - started
                          - instant
                          - closed
                          - settled
                          - aborted
                          - action_required
                        description: Current tab state
                      paymentMode:
                        type: string
                        enum:
                          - ITEM
                          - AMOUNT
                        description: "Payment mode (ITEM: pay per item, AMOUNT: pay arbitrary amounts)"
                      paymentSplit:
                        type: number
                        nullable: true
                        minimum: 2
                        maximum: 10
                        description: Number of splits when in AMOUNT mode (2-10), null when in ITEM mode
                      totalAmountCents:
                        type: number
                        description: Total order amount in cents
                      paidAmountCents:
                        type: number
                        description: Total paid amount in cents
                      remainingBalanceCents:
                        type: number
                        description: Remaining balance to be paid in cents
                      storefrontQrCodeId:
                        type: string
                        nullable: true
                        description: Table/QR code UUID if applicable
                      tabMembers:
                        type: array
                        items:
                          type: object
                          properties:
                            uuid:
                              type: string
                              format: uuid
                              description: Tab member UUID
                            storefrontSessionId:
                              type: string
                              nullable: true
                              description: Storefront session ID
                            initiator:
                              type: boolean
                              description: Whether this member initiated the tab
                            memberType:
                              type: string
                              description: Member type (guest, user, etc.)
                            userId:
                              type: number
                              nullable: true
                              description: User ID if authenticated
                            retailUserId:
                              type: number
                              nullable: true
                              description: Retail user ID if applicable
                            clientId:
                              type: string
                              nullable: true
                              description: Client identifier (user UUID for identification)
                            userEmail:
                              type: string
                              nullable: true
                              description: User email from users table
                            userName:
                              type: string
                              nullable: true
                              description: User name from users table
                            isEnrolledInLoyalty:
                              type: boolean
                              description: Whether user is enrolled in location loyalty program
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              description: Last update timestamp
                          required:
                            - uuid
                            - initiator
                            - memberType
                            - isEnrolledInLoyalty
                            - createdAt
                            - updatedAt
                        description: Tab members
                      kitchenDispatches:
                        type: array
                        items:
                          type: object
                          properties:
                            uuid:
                              type: string
                              format: uuid
                              description: Kitchen dispatch UUID
                            tabId:
                              type: string
                              format: uuid
                              description: Tab UUID
                            locationId:
                              type: number
                              description: Location ID
                            dailyOrderNumber:
                              type: number
                              nullable: true
                              description: Daily order number
                            latestState:
                              type: string
                              description: Current state of the dispatch
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              description: Last update timestamp
                            kitchenDispatchItems:
                              type: array
                              items:
                                type: object
                                properties:
                                  uuid:
                                    type: string
                                    format: uuid
                                    description: Kitchen dispatch item UUID
                                  kitchenDispatchId:
                                    type: string
                                    format: uuid
                                    description: Kitchen dispatch UUID
                                  saleItemId:
                                    type: number
                                    nullable: true
                                    description: Sale item ID
                                  itemId:
                                    type: number
                                    nullable: true
                                    description: Inventory item ID
                                  tabMemberId:
                                    type: string
                                    nullable: true
                                    description: Tab member UUID who ordered this
                                  parentKitchenDispatchItemId:
                                    type: string
                                    nullable: true
                                    description: Parent kitchen dispatch item UUID (for nested items)
                                  price:
                                    type: number
                                    description: Item price in cents
                                  basePrice:
                                    type: number
                                    description: Base price before modifications in cents
                                  discount:
                                    type: number
                                    nullable: true
                                    description: Discount amount in cents
                                  quantity:
                                    type: number
                                    description: Quantity ordered
                                  quantityCents:
                                    type: number
                                    nullable: true
                                    description: Quantity in cents (for fractional items)
                                  splitOfKdi:
                                    type: string
                                    format: uuid
                                    nullable: true
                                    description: UUID of original item if this is a split item (for grouping)
                                  tabSettlementId:
                                    type: string
                                    nullable: true
                                    description: Settlement UUID if paid
                                  settlementState:
                                    type: string
                                    nullable: true
                                    description: Settlement state (payment_in_progress, settled)
                                  status:
                                    type: string
                                    nullable: true
                                    description: Item status
                                  paidAmount:
                                    type: number
                                    nullable: true
                                    description: Amount paid for this item in cents
                                  createdAt:
                                    type: string
                                    format: date-time
                                    description: Creation timestamp
                                  updatedAt:
                                    type: string
                                    format: date-time
                                    description: Last update timestamp
                                  itemTitle:
                                    type: string
                                    nullable: true
                                    description: Item title from inventory
                                  itemTitlePrep:
                                    type: string
                                    nullable: true
                                    description: Item prep name from inventory
                                  itemDescription:
                                    type: string
                                    nullable: true
                                    description: Item description from inventory
                                  itemImageUrl:
                                    type: string
                                    nullable: true
                                    description: Item image URL from inventory
                                  tabMember:
                                    type: object
                                    nullable: true
                                    description: Guest/user information for the person who ordered this item
                                    properties:
                                      uuid:
                                        type: string
                                        format: uuid
                                        description: Tab member UUID
                                      name:
                                        type: string
                                        description: Member name
                                      email:
                                        type: string
                                        description: Member email
                                      phone:
                                        type: string
                                        description: Member phone number
                                      imageUrl:
                                        type: string
                                        description: Member profile image URL
                                      memberType:
                                        type: string
                                        description: Member type (guest, user, etc.)
                                      userId:
                                        type: number
                                        nullable: true
                                        description: User ID if authenticated user
                                      retailUserId:
                                        type: number
                                        nullable: true
                                        description: Retailer user ID if staff member
                                  comments:
                                    type: array
                                    description: Comments on this item
                                    items:
                                      type: object
                                      properties:
                                        comment:
                                          type: string
                                        createdAt:
                                          type: string
                                          format: date-time
                                        tabMemberUUID:
                                          type: string
                                          nullable: true
                                        uuid:
                                          type: string
                                          format: uuid
                                  variants:
                                    type: array
                                    description: Variants/modifications on this item
                                    items:
                                      type: object
                                      properties:
                                        id:
                                          type: number
                                        name:
                                          type: string
                                        price:
                                          type: number
                                          description: Price in cents (positive or negative)
                                        quantityCents:
                                          type: number
                                          nullable: true
                                          description: Quantity in cents (100 = 1.0). NULL = default 1.0
                                        priceCents:
                                          type: number
                                          nullable: true
                                          description: Price at time of order in cents. NULL = look up from variants table
                                required:
                                  - uuid
                                  - kitchenDispatchId
                                  - price
                                  - basePrice
                                  - quantity
                                  - createdAt
                                  - updatedAt
                              description: Items in this dispatch
                          required:
                            - uuid
                            - tabId
                            - locationId
                            - latestState
                            - createdAt
                            - updatedAt
                            - kitchenDispatchItems
                        description: Kitchen dispatches with items
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Last update timestamp
                    required:
                      - uuid
                      - locationId
                      - latestState
                      - paymentMode
                      - totalAmountCents
                      - paidAmountCents
                      - remainingBalanceCents
                      - tabMembers
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs/{id}/close:
    post:
      summary: Close a tab
      tags:
        - Tabs
      description: >-
        Close a tab by setting its state to closed or aborted. Use force=true to
        close any tab regardless of state.


        **Permissions:** ðŸŸ  `tabs.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                comment:
                  type: string
                  description: Optional comment explaining why the tab is being closed
                force:
                  type: boolean
                  description: If true, forces the tab to close (state becomes "aborted"). If
                    false, normal close (state becomes "closed") and only works
                    on non-closed tabs
                  default: false
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
          description: Tab UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      uuid:
                        type: string
                        format: uuid
                        description: Tab UUID
                      locationId:
                        type: number
                        description: Location ID
                      latestState:
                        type: string
                        enum:
                          - initiated
                          - started
                          - instant
                          - closed
                          - settled
                          - aborted
                          - action_required
                        description: Current tab state
                      paymentMode:
                        type: string
                        enum:
                          - ITEM
                          - AMOUNT
                        description: "Payment mode (ITEM: pay per item, AMOUNT: pay arbitrary amounts)"
                      paymentSplit:
                        type: number
                        nullable: true
                        minimum: 2
                        maximum: 10
                        description: Number of splits when in AMOUNT mode (2-10), null when in ITEM mode
                      totalAmountCents:
                        type: number
                        description: Total order amount in cents
                      paidAmountCents:
                        type: number
                        description: Total paid amount in cents
                      remainingBalanceCents:
                        type: number
                        description: Remaining balance to be paid in cents
                      storefrontQrCodeId:
                        type: string
                        nullable: true
                        description: Table/QR code UUID if applicable
                      tabMembers:
                        type: array
                        items:
                          type: object
                          properties:
                            uuid:
                              type: string
                              format: uuid
                              description: Tab member UUID
                            storefrontSessionId:
                              type: string
                              nullable: true
                              description: Storefront session ID
                            initiator:
                              type: boolean
                              description: Whether this member initiated the tab
                            memberType:
                              type: string
                              description: Member type (guest, user, etc.)
                            userId:
                              type: number
                              nullable: true
                              description: User ID if authenticated
                            retailUserId:
                              type: number
                              nullable: true
                              description: Retail user ID if applicable
                            clientId:
                              type: string
                              nullable: true
                              description: Client identifier (user UUID for identification)
                            userEmail:
                              type: string
                              nullable: true
                              description: User email from users table
                            userName:
                              type: string
                              nullable: true
                              description: User name from users table
                            isEnrolledInLoyalty:
                              type: boolean
                              description: Whether user is enrolled in location loyalty program
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              description: Last update timestamp
                          required:
                            - uuid
                            - initiator
                            - memberType
                            - isEnrolledInLoyalty
                            - createdAt
                            - updatedAt
                        description: Tab members
                      kitchenDispatches:
                        type: array
                        items:
                          type: object
                          properties:
                            uuid:
                              type: string
                              format: uuid
                              description: Kitchen dispatch UUID
                            tabId:
                              type: string
                              format: uuid
                              description: Tab UUID
                            locationId:
                              type: number
                              description: Location ID
                            dailyOrderNumber:
                              type: number
                              nullable: true
                              description: Daily order number
                            latestState:
                              type: string
                              description: Current state of the dispatch
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              description: Last update timestamp
                            kitchenDispatchItems:
                              type: array
                              items:
                                type: object
                                properties:
                                  uuid:
                                    type: string
                                    format: uuid
                                    description: Kitchen dispatch item UUID
                                  kitchenDispatchId:
                                    type: string
                                    format: uuid
                                    description: Kitchen dispatch UUID
                                  saleItemId:
                                    type: number
                                    nullable: true
                                    description: Sale item ID
                                  itemId:
                                    type: number
                                    nullable: true
                                    description: Inventory item ID
                                  tabMemberId:
                                    type: string
                                    nullable: true
                                    description: Tab member UUID who ordered this
                                  parentKitchenDispatchItemId:
                                    type: string
                                    nullable: true
                                    description: Parent kitchen dispatch item UUID (for nested items)
                                  price:
                                    type: number
                                    description: Item price in cents
                                  basePrice:
                                    type: number
                                    description: Base price before modifications in cents
                                  discount:
                                    type: number
                                    nullable: true
                                    description: Discount amount in cents
                                  quantity:
                                    type: number
                                    description: Quantity ordered
                                  quantityCents:
                                    type: number
                                    nullable: true
                                    description: Quantity in cents (for fractional items)
                                  splitOfKdi:
                                    type: string
                                    format: uuid
                                    nullable: true
                                    description: UUID of original item if this is a split item (for grouping)
                                  tabSettlementId:
                                    type: string
                                    nullable: true
                                    description: Settlement UUID if paid
                                  settlementState:
                                    type: string
                                    nullable: true
                                    description: Settlement state (payment_in_progress, settled)
                                  status:
                                    type: string
                                    nullable: true
                                    description: Item status
                                  paidAmount:
                                    type: number
                                    nullable: true
                                    description: Amount paid for this item in cents
                                  createdAt:
                                    type: string
                                    format: date-time
                                    description: Creation timestamp
                                  updatedAt:
                                    type: string
                                    format: date-time
                                    description: Last update timestamp
                                  itemTitle:
                                    type: string
                                    nullable: true
                                    description: Item title from inventory
                                  itemTitlePrep:
                                    type: string
                                    nullable: true
                                    description: Item prep name from inventory
                                  itemDescription:
                                    type: string
                                    nullable: true
                                    description: Item description from inventory
                                  itemImageUrl:
                                    type: string
                                    nullable: true
                                    description: Item image URL from inventory
                                  tabMember:
                                    type: object
                                    nullable: true
                                    description: Guest/user information for the person who ordered this item
                                    properties:
                                      uuid:
                                        type: string
                                        format: uuid
                                        description: Tab member UUID
                                      name:
                                        type: string
                                        description: Member name
                                      email:
                                        type: string
                                        description: Member email
                                      phone:
                                        type: string
                                        description: Member phone number
                                      imageUrl:
                                        type: string
                                        description: Member profile image URL
                                      memberType:
                                        type: string
                                        description: Member type (guest, user, etc.)
                                      userId:
                                        type: number
                                        nullable: true
                                        description: User ID if authenticated user
                                      retailUserId:
                                        type: number
                                        nullable: true
                                        description: Retailer user ID if staff member
                                  comments:
                                    type: array
                                    description: Comments on this item
                                    items:
                                      type: object
                                      properties:
                                        comment:
                                          type: string
                                        createdAt:
                                          type: string
                                          format: date-time
                                        tabMemberUUID:
                                          type: string
                                          nullable: true
                                        uuid:
                                          type: string
                                          format: uuid
                                  variants:
                                    type: array
                                    description: Variants/modifications on this item
                                    items:
                                      type: object
                                      properties:
                                        id:
                                          type: number
                                        name:
                                          type: string
                                        price:
                                          type: number
                                          description: Price in cents (positive or negative)
                                        quantityCents:
                                          type: number
                                          nullable: true
                                          description: Quantity in cents (100 = 1.0). NULL = default 1.0
                                        priceCents:
                                          type: number
                                          nullable: true
                                          description: Price at time of order in cents. NULL = look up from variants table
                                required:
                                  - uuid
                                  - kitchenDispatchId
                                  - price
                                  - basePrice
                                  - quantity
                                  - createdAt
                                  - updatedAt
                              description: Items in this dispatch
                          required:
                            - uuid
                            - tabId
                            - locationId
                            - latestState
                            - createdAt
                            - updatedAt
                            - kitchenDispatchItems
                        description: Kitchen dispatches with items
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Last update timestamp
                    required:
                      - uuid
                      - locationId
                      - latestState
                      - paymentMode
                      - totalAmountCents
                      - paidAmountCents
                      - remainingBalanceCents
                      - tabMembers
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs/{id}/settle:
    post:
      summary: Settle a fully paid tab
      tags:
        - Tabs
      description: >-
        Settle a tab when its remaining balance is 0. This endpoint:


        1. **Validates** the tab can be settled:
           - Tab must exist
           - Tab must have remaining_balance_cents = 0 (fully paid)
           - Tab must not already be closed/settled/aborted

        2. **Updates** the tab state to 'settled'


        3. **Converts amount payments** to proportional item allocations (if
        any):
           - Amount payments (type='amount') get converted to product allocations
           - Each payer gets a proportional share of each item based on their pre-discount payment value
           - Original amount line items get quantity_cents set to 0 to mark as converted

        **Use cases:**

        - When balance reaches 0 via payments

        - Manual settlement by staff

        - This is the single source of truth for settling tabs


        **Note:** If all payments were for specific items (ITEM mode), no
        conversion is needed.


        **Permissions:** ðŸŸ  `tabs.update`
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
          description: Tab UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      uuid:
                        type: string
                        format: uuid
                        description: Tab UUID
                      locationId:
                        type: number
                        description: Location ID
                      latestState:
                        type: string
                        enum:
                          - initiated
                          - started
                          - instant
                          - closed
                          - settled
                          - aborted
                          - action_required
                        description: Current tab state
                      paymentMode:
                        type: string
                        enum:
                          - ITEM
                          - AMOUNT
                        description: "Payment mode (ITEM: pay per item, AMOUNT: pay arbitrary amounts)"
                      paymentSplit:
                        type: number
                        nullable: true
                        minimum: 2
                        maximum: 10
                        description: Number of splits when in AMOUNT mode (2-10), null when in ITEM mode
                      totalAmountCents:
                        type: number
                        description: Total order amount in cents
                      paidAmountCents:
                        type: number
                        description: Total paid amount in cents
                      remainingBalanceCents:
                        type: number
                        description: Remaining balance to be paid in cents
                      storefrontQrCodeId:
                        type: string
                        nullable: true
                        description: Table/QR code UUID if applicable
                      tabMembers:
                        type: array
                        items:
                          type: object
                          properties:
                            uuid:
                              type: string
                              format: uuid
                              description: Tab member UUID
                            storefrontSessionId:
                              type: string
                              nullable: true
                              description: Storefront session ID
                            initiator:
                              type: boolean
                              description: Whether this member initiated the tab
                            memberType:
                              type: string
                              description: Member type (guest, user, etc.)
                            userId:
                              type: number
                              nullable: true
                              description: User ID if authenticated
                            retailUserId:
                              type: number
                              nullable: true
                              description: Retail user ID if applicable
                            clientId:
                              type: string
                              nullable: true
                              description: Client identifier (user UUID for identification)
                            userEmail:
                              type: string
                              nullable: true
                              description: User email from users table
                            userName:
                              type: string
                              nullable: true
                              description: User name from users table
                            isEnrolledInLoyalty:
                              type: boolean
                              description: Whether user is enrolled in location loyalty program
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              description: Last update timestamp
                          required:
                            - uuid
                            - initiator
                            - memberType
                            - isEnrolledInLoyalty
                            - createdAt
                            - updatedAt
                        description: Tab members
                      kitchenDispatches:
                        type: array
                        items:
                          type: object
                          properties:
                            uuid:
                              type: string
                              format: uuid
                              description: Kitchen dispatch UUID
                            tabId:
                              type: string
                              format: uuid
                              description: Tab UUID
                            locationId:
                              type: number
                              description: Location ID
                            dailyOrderNumber:
                              type: number
                              nullable: true
                              description: Daily order number
                            latestState:
                              type: string
                              description: Current state of the dispatch
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              description: Last update timestamp
                            kitchenDispatchItems:
                              type: array
                              items:
                                type: object
                                properties:
                                  uuid:
                                    type: string
                                    format: uuid
                                    description: Kitchen dispatch item UUID
                                  kitchenDispatchId:
                                    type: string
                                    format: uuid
                                    description: Kitchen dispatch UUID
                                  saleItemId:
                                    type: number
                                    nullable: true
                                    description: Sale item ID
                                  itemId:
                                    type: number
                                    nullable: true
                                    description: Inventory item ID
                                  tabMemberId:
                                    type: string
                                    nullable: true
                                    description: Tab member UUID who ordered this
                                  parentKitchenDispatchItemId:
                                    type: string
                                    nullable: true
                                    description: Parent kitchen dispatch item UUID (for nested items)
                                  price:
                                    type: number
                                    description: Item price in cents
                                  basePrice:
                                    type: number
                                    description: Base price before modifications in cents
                                  discount:
                                    type: number
                                    nullable: true
                                    description: Discount amount in cents
                                  quantity:
                                    type: number
                                    description: Quantity ordered
                                  quantityCents:
                                    type: number
                                    nullable: true
                                    description: Quantity in cents (for fractional items)
                                  splitOfKdi:
                                    type: string
                                    format: uuid
                                    nullable: true
                                    description: UUID of original item if this is a split item (for grouping)
                                  tabSettlementId:
                                    type: string
                                    nullable: true
                                    description: Settlement UUID if paid
                                  settlementState:
                                    type: string
                                    nullable: true
                                    description: Settlement state (payment_in_progress, settled)
                                  status:
                                    type: string
                                    nullable: true
                                    description: Item status
                                  paidAmount:
                                    type: number
                                    nullable: true
                                    description: Amount paid for this item in cents
                                  createdAt:
                                    type: string
                                    format: date-time
                                    description: Creation timestamp
                                  updatedAt:
                                    type: string
                                    format: date-time
                                    description: Last update timestamp
                                  itemTitle:
                                    type: string
                                    nullable: true
                                    description: Item title from inventory
                                  itemTitlePrep:
                                    type: string
                                    nullable: true
                                    description: Item prep name from inventory
                                  itemDescription:
                                    type: string
                                    nullable: true
                                    description: Item description from inventory
                                  itemImageUrl:
                                    type: string
                                    nullable: true
                                    description: Item image URL from inventory
                                  tabMember:
                                    type: object
                                    nullable: true
                                    description: Guest/user information for the person who ordered this item
                                    properties:
                                      uuid:
                                        type: string
                                        format: uuid
                                        description: Tab member UUID
                                      name:
                                        type: string
                                        description: Member name
                                      email:
                                        type: string
                                        description: Member email
                                      phone:
                                        type: string
                                        description: Member phone number
                                      imageUrl:
                                        type: string
                                        description: Member profile image URL
                                      memberType:
                                        type: string
                                        description: Member type (guest, user, etc.)
                                      userId:
                                        type: number
                                        nullable: true
                                        description: User ID if authenticated user
                                      retailUserId:
                                        type: number
                                        nullable: true
                                        description: Retailer user ID if staff member
                                  comments:
                                    type: array
                                    description: Comments on this item
                                    items:
                                      type: object
                                      properties:
                                        comment:
                                          type: string
                                        createdAt:
                                          type: string
                                          format: date-time
                                        tabMemberUUID:
                                          type: string
                                          nullable: true
                                        uuid:
                                          type: string
                                          format: uuid
                                  variants:
                                    type: array
                                    description: Variants/modifications on this item
                                    items:
                                      type: object
                                      properties:
                                        id:
                                          type: number
                                        name:
                                          type: string
                                        price:
                                          type: number
                                          description: Price in cents (positive or negative)
                                        quantityCents:
                                          type: number
                                          nullable: true
                                          description: Quantity in cents (100 = 1.0). NULL = default 1.0
                                        priceCents:
                                          type: number
                                          nullable: true
                                          description: Price at time of order in cents. NULL = look up from variants table
                                required:
                                  - uuid
                                  - kitchenDispatchId
                                  - price
                                  - basePrice
                                  - quantity
                                  - createdAt
                                  - updatedAt
                              description: Items in this dispatch
                          required:
                            - uuid
                            - tabId
                            - locationId
                            - latestState
                            - createdAt
                            - updatedAt
                            - kitchenDispatchItems
                        description: Kitchen dispatches with items
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Last update timestamp
                      amountPaymentsConverted:
                        type: boolean
                        description: Whether amount payments were converted to item allocations
                      amountPaymentsCount:
                        type: number
                        description: Number of amount payments that were converted
                      newLineItemsCount:
                        type: number
                        description: Number of new product line items created from conversion
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs/resolve:
    post:
      summary: Resolve tab for user
      tags:
        - Tabs
      description: >-
        Find existing tab or create new tab for a user. Handles QR code tables,
        user resolution with priority system (id > email > phone > identifier),
        tab member management, and order channel routing. Perfect for storefront
        integration before item commits.


        **Permissions:** ðŸŸ¢ `tabs.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                locationId:
                  type: number
                  description: Location ID for the tab
                qrCodeId:
                  type: string
                  nullable: true
                  description: QR code UUID (for table orders)
                tabType:
                  type: string
                  enum:
                    - table
                    - takeaway
                    - over_the_counter
                  description: Type of tab to create
                paymentFlow:
                  type: string
                  enum:
                    - open_tab
                    - pay_upfront
                  description: Payment timing (open_tab = pay later, pay_upfront = pay now)
                orderChannel:
                  type: string
                  enum:
                    - ONLINE
                    - QR
                    - KIOSK
                    - POS
                  description: Order channel (ONLINE = web interface, QR = QR code scan, KIOSK =
                    self-service, POS = point of sale)
                tabMember:
                  type: object
                  properties:
                    id:
                      type: number
                      description: User ID (Priority 1 - existing user)
                    email:
                      type: string
                      format: email
                      description: Email address (Priority 2 - finds or creates user)
                    phone:
                      type: string
                      description: Phone number (Priority 3 - finds or creates user)
                    identifier:
                      type: string
                      description: Device identifier (Priority 4 - creates anonymous user)
                  additionalProperties: false
                  description: "User identification with priority-based resolution: id > email >
                    phone > identifier"
              required:
                - locationId
                - qrCodeId
                - tabType
                - paymentFlow
                - orderChannel
                - tabMember
              additionalProperties: false
        required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      tabId:
                        type: string
                        format: uuid
                        description: Resolved tab UUID
                      tabMemberId:
                        type: string
                        format: uuid
                        description: Tab member UUID for this user
                      isNewTab:
                        type: boolean
                        description: True if tab was newly created
                      isNewTabMember:
                        type: boolean
                        description: True if tab member was newly created
                      tab:
                        type: object
                        properties:
                          uuid:
                            type: string
                            format: uuid
                            description: Tab UUID
                          locationId:
                            type: number
                            description: Location ID
                          latestState:
                            type: string
                            enum:
                              - initiated
                              - started
                              - instant
                              - closed
                              - settled
                              - aborted
                              - action_required
                            description: Current tab state
                          paymentMode:
                            type: string
                            enum:
                              - ITEM
                              - AMOUNT
                            description: "Payment mode (ITEM: pay per item, AMOUNT: pay arbitrary amounts)"
                          paymentSplit:
                            type: number
                            nullable: true
                            minimum: 2
                            maximum: 10
                            description: Number of splits when in AMOUNT mode (2-10), null when in ITEM mode
                          totalAmountCents:
                            type: number
                            description: Total order amount in cents
                          paidAmountCents:
                            type: number
                            description: Total paid amount in cents
                          remainingBalanceCents:
                            type: number
                            description: Remaining balance to be paid in cents
                          storefrontQrCodeId:
                            type: string
                            nullable: true
                            description: Table/QR code UUID if applicable
                          tabMembers:
                            type: array
                            items:
                              type: object
                              properties:
                                uuid:
                                  type: string
                                  format: uuid
                                  description: Tab member UUID
                                storefrontSessionId:
                                  type: string
                                  nullable: true
                                  description: Storefront session ID
                                initiator:
                                  type: boolean
                                  description: Whether this member initiated the tab
                                memberType:
                                  type: string
                                  description: Member type (guest, user, etc.)
                                userId:
                                  type: number
                                  nullable: true
                                  description: User ID if authenticated
                                retailUserId:
                                  type: number
                                  nullable: true
                                  description: Retail user ID if applicable
                                clientId:
                                  type: string
                                  nullable: true
                                  description: Client identifier (user UUID for identification)
                                userEmail:
                                  type: string
                                  nullable: true
                                  description: User email from users table
                                userName:
                                  type: string
                                  nullable: true
                                  description: User name from users table
                                isEnrolledInLoyalty:
                                  type: boolean
                                  description: Whether user is enrolled in location loyalty program
                                createdAt:
                                  type: string
                                  format: date-time
                                  description: Creation timestamp
                                updatedAt:
                                  type: string
                                  format: date-time
                                  description: Last update timestamp
                              required:
                                - uuid
                                - initiator
                                - memberType
                                - isEnrolledInLoyalty
                                - createdAt
                                - updatedAt
                            description: Tab members
                          kitchenDispatches:
                            type: array
                            items:
                              type: object
                              properties:
                                uuid:
                                  type: string
                                  format: uuid
                                  description: Kitchen dispatch UUID
                                tabId:
                                  type: string
                                  format: uuid
                                  description: Tab UUID
                                locationId:
                                  type: number
                                  description: Location ID
                                dailyOrderNumber:
                                  type: number
                                  nullable: true
                                  description: Daily order number
                                latestState:
                                  type: string
                                  description: Current state of the dispatch
                                createdAt:
                                  type: string
                                  format: date-time
                                  description: Creation timestamp
                                updatedAt:
                                  type: string
                                  format: date-time
                                  description: Last update timestamp
                                kitchenDispatchItems:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      uuid:
                                        type: string
                                        format: uuid
                                        description: Kitchen dispatch item UUID
                                      kitchenDispatchId:
                                        type: string
                                        format: uuid
                                        description: Kitchen dispatch UUID
                                      saleItemId:
                                        type: number
                                        nullable: true
                                        description: Sale item ID
                                      itemId:
                                        type: number
                                        nullable: true
                                        description: Inventory item ID
                                      tabMemberId:
                                        type: string
                                        nullable: true
                                        description: Tab member UUID who ordered this
                                      parentKitchenDispatchItemId:
                                        type: string
                                        nullable: true
                                        description: Parent kitchen dispatch item UUID (for nested items)
                                      price:
                                        type: number
                                        description: Item price in cents
                                      basePrice:
                                        type: number
                                        description: Base price before modifications in cents
                                      discount:
                                        type: number
                                        nullable: true
                                        description: Discount amount in cents
                                      quantity:
                                        type: number
                                        description: Quantity ordered
                                      quantityCents:
                                        type: number
                                        nullable: true
                                        description: Quantity in cents (for fractional items)
                                      splitOfKdi:
                                        type: string
                                        format: uuid
                                        nullable: true
                                        description: UUID of original item if this is a split item (for grouping)
                                      tabSettlementId:
                                        type: string
                                        nullable: true
                                        description: Settlement UUID if paid
                                      settlementState:
                                        type: string
                                        nullable: true
                                        description: Settlement state (payment_in_progress, settled)
                                      status:
                                        type: string
                                        nullable: true
                                        description: Item status
                                      paidAmount:
                                        type: number
                                        nullable: true
                                        description: Amount paid for this item in cents
                                      createdAt:
                                        type: string
                                        format: date-time
                                        description: Creation timestamp
                                      updatedAt:
                                        type: string
                                        format: date-time
                                        description: Last update timestamp
                                      itemTitle:
                                        type: string
                                        nullable: true
                                        description: Item title from inventory
                                      itemTitlePrep:
                                        type: string
                                        nullable: true
                                        description: Item prep name from inventory
                                      itemDescription:
                                        type: string
                                        nullable: true
                                        description: Item description from inventory
                                      itemImageUrl:
                                        type: string
                                        nullable: true
                                        description: Item image URL from inventory
                                      tabMember:
                                        type: object
                                        nullable: true
                                        description: Guest/user information for the person who ordered this item
                                        properties:
                                          uuid:
                                            type: string
                                            format: uuid
                                            description: Tab member UUID
                                          name:
                                            type: string
                                            description: Member name
                                          email:
                                            type: string
                                            description: Member email
                                          phone:
                                            type: string
                                            description: Member phone number
                                          imageUrl:
                                            type: string
                                            description: Member profile image URL
                                          memberType:
                                            type: string
                                            description: Member type (guest, user, etc.)
                                          userId:
                                            type: number
                                            nullable: true
                                            description: User ID if authenticated user
                                          retailUserId:
                                            type: number
                                            nullable: true
                                            description: Retailer user ID if staff member
                                      comments:
                                        type: array
                                        description: Comments on this item
                                        items:
                                          type: object
                                          properties:
                                            comment:
                                              type: string
                                            createdAt:
                                              type: string
                                              format: date-time
                                            tabMemberUUID:
                                              type: string
                                              nullable: true
                                            uuid:
                                              type: string
                                              format: uuid
                                      variants:
                                        type: array
                                        description: Variants/modifications on this item
                                        items:
                                          type: object
                                          properties:
                                            id:
                                              type: number
                                            name:
                                              type: string
                                            price:
                                              type: number
                                              description: Price in cents (positive or negative)
                                            quantityCents:
                                              type: number
                                              nullable: true
                                              description: Quantity in cents (100 = 1.0). NULL = default 1.0
                                            priceCents:
                                              type: number
                                              nullable: true
                                              description: Price at time of order in cents. NULL = look up from variants table
                                    required:
                                      - uuid
                                      - kitchenDispatchId
                                      - price
                                      - basePrice
                                      - quantity
                                      - createdAt
                                      - updatedAt
                                  description: Items in this dispatch
                              required:
                                - uuid
                                - tabId
                                - locationId
                                - latestState
                                - createdAt
                                - updatedAt
                                - kitchenDispatchItems
                            description: Kitchen dispatches with items
                          createdAt:
                            type: string
                            format: date-time
                            description: Creation timestamp
                          updatedAt:
                            type: string
                            format: date-time
                            description: Last update timestamp
                        required:
                          - uuid
                          - locationId
                          - latestState
                          - paymentMode
                          - totalAmountCents
                          - paidAmountCents
                          - remainingBalanceCents
                          - tabMembers
                          - createdAt
                          - updatedAt
                      tabMembers:
                        type: array
                        items:
                          type: object
                          properties:
                            uuid:
                              type: string
                              format: uuid
                              description: Tab member UUID
                            storefrontSessionId:
                              type: string
                              nullable: true
                              description: Storefront session ID
                            initiator:
                              type: boolean
                              description: Whether this member initiated the tab
                            memberType:
                              type: string
                              description: Member type (guest, user, etc.)
                            userId:
                              type: number
                              nullable: true
                              description: User ID if authenticated
                            retailUserId:
                              type: number
                              nullable: true
                              description: Retail user ID if applicable
                            clientId:
                              type: string
                              nullable: true
                              description: Client identifier (user UUID for identification)
                            userEmail:
                              type: string
                              nullable: true
                              description: User email from users table
                            userName:
                              type: string
                              nullable: true
                              description: User name from users table
                            isEnrolledInLoyalty:
                              type: boolean
                              description: Whether user is enrolled in location loyalty program
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              description: Last update timestamp
                          required:
                            - uuid
                            - initiator
                            - memberType
                            - isEnrolledInLoyalty
                            - createdAt
                            - updatedAt
                        description: All current tab members
                    required:
                      - tabId
                      - tabMemberId
                      - isNewTab
                      - isNewTabMember
                      - tab
                      - tabMembers
                    additionalProperties: false
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs/join-if-existing:
    post:
      summary: Join existing tab for QR code
      tags:
        - Tabs
      description: >-
        Joins user to an existing active tab for a QR code. NEVER creates a new
        tab - returns 200 with hasActiveTab: false if no active tab exists. This
        is useful for storefront flows where tab creation should be deferred
        until the first order commit. Idempotent - safe to call multiple times
        with the same user.


        **Permissions:** ðŸ”µ `tabs.read`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                locationId:
                  type: number
                  description: Restaurant location ID
                qrCodeId:
                  type: string
                  format: uuid
                  description: QR code UUID for the table
                tabMember:
                  type: object
                  description: User identification using priority system
                  properties:
                    id:
                      type: number
                      description: User ID (authenticated users, priority 1)
                    email:
                      type: string
                      format: email
                      description: Email address (priority 2)
                    phone:
                      type: string
                      description: Phone number (priority 3)
                    identifier:
                      type: string
                      description: Device identifier (priority 4)
              required:
                - locationId
                - qrCodeId
                - tabMember
              additionalProperties: false
        required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      hasActiveTab:
                        type: boolean
                        description: True if active tab exists and member was joined, false if no active
                          tab exists
                      tabId:
                        type: string
                        format: uuid
                        nullable: true
                        description: Tab UUID (null if hasActiveTab is false)
                      tabMemberId:
                        type: string
                        format: uuid
                        nullable: true
                        description: Tab member UUID (null if hasActiveTab is false)
                      isNewMember:
                        type: boolean
                        description: True if user was just added as member, false if already member or
                          no tab exists
                    required:
                      - hasActiveTab
                      - tabId
                      - tabMemberId
                      - isNewMember
                    additionalProperties: false
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs/{id}/members:
    post:
      summary: Add a member to a tab
      tags:
        - Tabs
      description: >-
        Add a user as a member to an existing tab. Looks up user by userId
        (priority 1), email (priority 2), or phone (priority 3). If user is
        already a member, returns existing member. Useful for POS "Add Loyalty
        Member" functionality.


        **Permissions:** ðŸŸ  `tabs.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                userId:
                  type: number
                  description: User ID (Priority 1 - direct lookup)
                email:
                  type: string
                  format: email
                  description: Email address (Priority 2 - lookup by email)
                phone:
                  type: string
                  description: Phone number (Priority 3 - lookup by phone)
              additionalProperties: false
              description: "At least one of userId, email, or phone is required. Resolution
                priority: userId > email > phone"
        description: "At least one of userId, email, or phone is required. Resolution
          priority: userId > email > phone"
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
          description: Tab UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      tabMember:
                        type: object
                        properties:
                          uuid:
                            type: string
                            format: uuid
                            description: Tab member UUID
                          storefrontSessionId:
                            type: string
                            nullable: true
                            description: Storefront session ID
                          initiator:
                            type: boolean
                            description: Whether this member initiated the tab
                          memberType:
                            type: string
                            description: Member type (guest, user, etc.)
                          userId:
                            type: number
                            nullable: true
                            description: User ID if authenticated
                          retailUserId:
                            type: number
                            nullable: true
                            description: Retail user ID if applicable
                          clientId:
                            type: string
                            nullable: true
                            description: Client identifier (user UUID for identification)
                          userEmail:
                            type: string
                            nullable: true
                            description: User email from users table
                          userName:
                            type: string
                            nullable: true
                            description: User name from users table
                          isEnrolledInLoyalty:
                            type: boolean
                            description: Whether user is enrolled in location loyalty program
                          createdAt:
                            type: string
                            format: date-time
                            description: Creation timestamp
                          updatedAt:
                            type: string
                            format: date-time
                            description: Last update timestamp
                        required:
                          - uuid
                          - initiator
                          - memberType
                          - isEnrolledInLoyalty
                          - createdAt
                          - updatedAt
                      isNewMember:
                        type: boolean
                        description: True if member was newly created, false if already existed
                      user:
                        type: object
                        nullable: true
                        properties:
                          id:
                            type: number
                            description: User ID
                          email:
                            type: string
                            nullable: true
                            description: User email
                          name:
                            type: string
                            nullable: true
                            description: User name
                          phone:
                            type: string
                            nullable: true
                            description: User phone
                        required:
                          - id
                    required:
                      - tabMember
                      - isNewMember
                      - user
                    additionalProperties: false
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs/{id}/members/{memberUuid}/identify:
    patch:
      summary: Identify an anonymous tab member
      tags:
        - Tabs
      description: >-
        Link an anonymous tab member to a known user. Looks up user by userId
        (priority 1), email (priority 2), or phone (priority 3), then updates
        the tab member record to associate with that user. Useful for POS
        "Identify Guest" functionality when an anonymous guest needs to be
        linked to their loyalty account.


        **Permissions:** ðŸŸ  `tabs.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                userId:
                  type: number
                  description: User ID (Priority 1 - direct lookup)
                email:
                  type: string
                  format: email
                  description: Email address (Priority 2 - lookup by email)
                phone:
                  type: string
                  description: Phone number (Priority 3 - lookup by phone)
              additionalProperties: false
              description: "At least one of userId, email, or phone is required. Resolution
                priority: userId > email > phone"
        description: "At least one of userId, email, or phone is required. Resolution
          priority: userId > email > phone"
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
          description: Tab UUID
        - schema:
            type: string
            format: uuid
          in: path
          name: memberUuid
          required: true
          description: Tab member UUID to identify
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      tabMember:
                        type: object
                        properties:
                          uuid:
                            type: string
                            format: uuid
                            description: Tab member UUID
                          storefrontSessionId:
                            type: string
                            nullable: true
                            description: Storefront session ID
                          initiator:
                            type: boolean
                            description: Whether this member initiated the tab
                          memberType:
                            type: string
                            description: Member type (guest, user, etc.)
                          userId:
                            type: number
                            nullable: true
                            description: User ID if authenticated
                          retailUserId:
                            type: number
                            nullable: true
                            description: Retail user ID if applicable
                          clientId:
                            type: string
                            nullable: true
                            description: Client identifier (user UUID for identification)
                          userEmail:
                            type: string
                            nullable: true
                            description: User email from users table
                          userName:
                            type: string
                            nullable: true
                            description: User name from users table
                          isEnrolledInLoyalty:
                            type: boolean
                            description: Whether user is enrolled in location loyalty program
                          createdAt:
                            type: string
                            format: date-time
                            description: Creation timestamp
                          updatedAt:
                            type: string
                            format: date-time
                            description: Last update timestamp
                        required:
                          - uuid
                          - initiator
                          - memberType
                          - isEnrolledInLoyalty
                          - createdAt
                          - updatedAt
                      user:
                        type: object
                        nullable: true
                        properties:
                          id:
                            type: number
                            description: User ID
                          email:
                            type: string
                            nullable: true
                            description: User email
                          name:
                            type: string
                            nullable: true
                            description: User name
                          phone:
                            type: string
                            nullable: true
                            description: User phone
                        required:
                          - id
                    required:
                      - tabMember
                      - user
                    additionalProperties: false
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs/{id}/coursing:
    patch:
      summary: Advance tab coursing
      tags:
        - Tabs
      description: >-
        Advance the coursing order for a tab. If coursingOrder is provided in
        the body, sets to that specific value. Otherwise, advances to the next
        available coursing level from the location's coursings. Used for POS
        coursing feature to control when items from each course can be sent to
        the kitchen.


        **Permissions:** ðŸŸ  `tabs.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                coursingOrder:
                  type: number
                  nullable: true
                  description: Specific coursing order to set. If omitted, advances to the next
                    available coursing level.
              additionalProperties: false
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
          description: Tab UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      tabId:
                        type: string
                        format: uuid
                        description: Tab UUID
                      previousCoursingOrder:
                        type: number
                        nullable: true
                        description: Previous coursing order value
                      coursingOrder:
                        type: number
                        nullable: true
                        description: New coursing order value
                      coursingTitle:
                        type: string
                        nullable: true
                        description: Title of the new coursing level (e.g., "Appetizers", "Main Course")
                    required:
                      - tabId
                      - previousCoursingOrder
                      - coursingOrder
                    additionalProperties: false
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs/{tabId}/move/items:
    post:
      tags:
        - tabs
      description: Move specific kitchen_dispatch_items from a tab to another table
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                itemIds:
                  type: array
                  items:
                    type: string
                    format: uuid
                  description: Array of kitchen_dispatch_item UUIDs to move
                  minItems: 1
                destinationTableId:
                  type: string
                  format: uuid
                  description: Destination table (storefront_qr_code) UUID
              required:
                - itemIds
                - destinationTableId
        required: true
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: tabId
          required: true
          description: Source tab UUID
      responses:
        "200":
          description: Items moved successfully
          content:
            application/json:
              schema:
                description: Items moved successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                      message:
                        type: string
                      sourceTabId:
                        type: string
                        format: uuid
                      destinationTabId:
                        type: string
                        format: uuid
                      movedItemCount:
                        type: integer
                      tabMerged:
                        type: boolean
                    required:
                      - success
                      - message
                      - sourceTabId
                      - destinationTabId
                      - movedItemCount
                      - tabMerged
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs/{tabId}/move/dispatch:
    post:
      tags:
        - tabs
      description: Move an entire kitchen_dispatch from a tab to another table
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                dispatchId:
                  type: string
                  format: uuid
                  description: Kitchen dispatch UUID to move
                destinationTableId:
                  type: string
                  format: uuid
                  description: Destination table (storefront_qr_code) UUID
              required:
                - dispatchId
                - destinationTableId
        required: true
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: tabId
          required: true
          description: Source tab UUID
      responses:
        "200":
          description: Dispatch moved successfully
          content:
            application/json:
              schema:
                description: Dispatch moved successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                      message:
                        type: string
                      sourceTabId:
                        type: string
                        format: uuid
                      destinationTabId:
                        type: string
                        format: uuid
                      movedItemCount:
                        type: integer
                      tabMerged:
                        type: boolean
                    required:
                      - success
                      - message
                      - sourceTabId
                      - destinationTabId
                      - movedItemCount
                      - tabMerged
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs/{tabId}/move/tab:
    post:
      tags:
        - tabs
      description: Move an entire tab to another table. If destination table has an
        active tab, tabs are merged.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                destinationTableId:
                  type: string
                  format: uuid
                  description: Destination table (storefront_qr_code) UUID
              required:
                - destinationTableId
        required: true
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: tabId
          required: true
          description: Source tab UUID
      responses:
        "200":
          description: Tab moved or merged successfully
          content:
            application/json:
              schema:
                description: Tab moved or merged successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                      message:
                        type: string
                      sourceTabId:
                        type: string
                        format: uuid
                      destinationTabId:
                        type: string
                        format: uuid
                      movedItemCount:
                        type: integer
                      tabMerged:
                        type: boolean
                    required:
                      - success
                      - message
                      - sourceTabId
                      - destinationTabId
                      - movedItemCount
                      - tabMerged
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tab/pay:
    post:
      summary: Pay for tab
      tags:
        - Tabs
      description: |-
        Process a payment for a tab using various payment methods

        **Permissions:** ðŸŸ  `tabs.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - tab_id
                - payment_method
              properties:
                tab_id:
                  type: string
                  format: uuid
                  description: UUID of the tab to pay for
                tab_member_id:
                  type: string
                  description: ID of the tab member making the payment (UUID). Optional - will be
                    auto-resolved from JWT token if not provided.
                payment_method:
                  type: string
                  enum:
                    - prepaid
                    - invoice
                    - swish
                    - terminal
                    - online
                  description: Payment method to use
                kitchen_dispatch_items:
                  type: array
                  items:
                    type: string
                    format: uuid
                  description: Array of kitchen dispatch item IDs to pay for (ITEM mode)
                amount_cents:
                  type: number
                  minimum: 0
                  description: Amount to pay in cents (AMOUNT mode or triggers mode switch)
                terminal_id:
                  type: string
                  format: uuid
                  description: Terminal ID (required for terminal payments)
                return_url:
                  type: string
                  format: uri
                  description: Return URL after payment (required for online/swish payments)
                tip_amount_cents:
                  type: number
                  minimum: 0
                  default: 0
                  description: Tip amount in cents
                metadata:
                  type: object
                  description: Additional metadata for the payment
                recipient_id:
                  type: string
                  format: uuid
                  description: Invoice recipient UUID (for invoice payments)
        required: true
      responses:
        "200":
          description: Payment initiated successfully
          content:
            application/json:
              schema:
                description: Payment initiated successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      purchase_intent_id:
                        type: string
                        format: uuid
                      tab_settlement_id:
                        type: string
                        format: uuid
                      payment_method:
                        type: string
                      payment_mode:
                        type: string
                        enum:
                          - ITEM
                          - AMOUNT
                      mode_switched:
                        type: boolean
                      terminal_id:
                        type: string
                        format: uuid
                        nullable: true
                        description: Terminal ID for cancel functionality
                      psp_response:
                        type: object
                        additionalProperties: true
                        properties:
                          success:
                            type: boolean
                          message:
                            type: string
                          pspCheckoutResponse:
                            type: object
                            additionalProperties: true
                            properties:
                              providedKarmaRef:
                                type: string
                              pspInstruction:
                                type: object
                                additionalProperties: true
                                properties:
                                  psp:
                                    type: string
                                  sessionData:
                                    type: string
                                  sessionId:
                                    type: string
                                  type:
                                    type: string
                              pspPaymentRequestId:
                                type: string
                          checkoutUrl:
                            type: string
                          checkoutUrlFallback:
                            type: object
                            properties:
                              purchaseIntentId:
                                type: string
                              qrCodeSvgBase64:
                                type: string
                  meta:
                    type: object
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tab/cancel:
    post:
      summary: Cancel tab payment
      tags:
        - Tabs
      description: |-
        Cancel a pending tab payment by purchase intent ID

        **Permissions:** ðŸŸ  `tabs.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - purchase_intent_id
              properties:
                purchase_intent_id:
                  type: string
                  format: uuid
                  description: Purchase intent ID to cancel
        required: true
      responses:
        "200":
          description: Payment canceled successfully
          content:
            application/json:
              schema:
                description: Payment canceled successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      purchase_intent_id:
                        type: string
                        format: uuid
                      tab_settlement_id:
                        type: string
                        format: uuid
                      tab_id:
                        type: string
                        format: uuid
                      canceled:
                        type: boolean
                  meta:
                    type: object
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tab/cancel-all:
    post:
      summary: Cancel all tab payments
      tags:
        - Tabs
      description: |-
        Cancel all pending payments for a specific tab

        **Permissions:** ðŸŸ  `tabs.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - tab_id
              properties:
                tab_id:
                  type: string
                  format: uuid
                  description: Tab ID to cancel all payments for
        required: true
      responses:
        "200":
          description: All payments canceled successfully
          content:
            application/json:
              schema:
                description: All payments canceled successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      tab_id:
                        type: string
                        format: uuid
                      canceled_count:
                        type: number
                      purchase_intent_ids:
                        type: array
                        items:
                          type: string
                          format: uuid
                  meta:
                    type: object
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tab/recalculate:
    post:
      summary: Recalculate tab balance
      tags:
        - Tabs
      description: >-
        Recalculate tab balance from source of truth (kitchen dispatch items and
        purchases). Useful for fixing tabs with incorrect balance values.


        **Permissions:** ðŸŸ  `tabs.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - tab_id
              properties:
                tab_id:
                  type: string
                  format: uuid
                  description: Tab ID to recalculate balance for
        required: true
      responses:
        "200":
          description: Tab balance recalculated successfully
          content:
            application/json:
              schema:
                description: Tab balance recalculated successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      tab_id:
                        type: string
                        format: uuid
                      total_amount_cents:
                        type: number
                        description: Recalculated total amount from kitchen dispatch items
                      paid_amount_cents:
                        type: number
                        description: Recalculated paid amount from purchases
                      remaining_balance_cents:
                        type: number
                        description: Calculated remaining balance (total - paid)
                      item_count:
                        type: number
                        description: Number of kitchen dispatch items found
                      purchase_count:
                        type: number
                        description: Number of confirmed purchases found
                      previous_total:
                        type: number
                        description: Previous total_amount_cents value
                      previous_paid:
                        type: number
                        description: Previous paid_amount_cents value
                      total_changed:
                        type: boolean
                        description: Whether total amount was changed
                      paid_changed:
                        type: boolean
                        description: Whether paid amount was changed
                  meta:
                    type: object
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs/{tabId}/payment-split:
    post:
      tags:
        - tabs
      description: >-
        Set payment split for a tab (switches to AMOUNT mode).


        This endpoint allows users to split the entire tab bill evenly among
        multiple people.

        When a split is set, the tab switches from ITEM mode to AMOUNT mode.


        **Constraints:**

        - Split can only be set when no payments have been made yet

        - Split can be changed until someone locks items for checkout

        - Split value must be between 2 and 10

        - Tab must have items (total_amount_cents > 0)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - payment_split
              properties:
                payment_split:
                  type: integer
                  minimum: 2
                  maximum: 10
                  description: Number of ways to split the tab (2-10)
        required: true
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: tabId
          required: true
          description: The UUID of the tab to set split for
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      tabId:
                        type: string
                        format: uuid
                      paymentMode:
                        type: string
                        enum:
                          - AMOUNT
                      paymentSplit:
                        type: integer
                        description: Number of splits
                      totalAmountCents:
                        type: integer
                        description: Total tab amount in cents
                      splitAmountCents:
                        type: integer
                        description: Amount per split in cents (rounded up)
                      remainingBalanceCents:
                        type: integer
                        description: Remaining balance in cents
                      paidSplits:
                        type: integer
                        description: Number of splits already paid
                      remainingSplits:
                        type: integer
                        description: Number of splits remaining
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs/{tabId}/items:
    get:
      tags:
        - tab-items
      description: Get current selected items state for a tab
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: tabId
          required: true
          description: UUID of the tab
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      stateValidToEpoch:
                        type: number
                        description: Timestamp (milliseconds since epoch) when this state expires
                      selectedItems:
                        type: array
                        items:
                          type: object
                          properties:
                            tabMemberId:
                              type: string
                              format: uuid
                              description: UUID of the tab member who claimed this item
                            clientId:
                              type: string
                              format: uuid
                              description: UUID of the client (from storefront sessions) for compatibility
                            itemId:
                              type: string
                              format: uuid
                              description: UUID of the inventory item that was claimed
                            isLocked:
                              type: boolean
                              description: Whether this item is locked for checkout (cannot be unclaimed by
                                others)
                          required:
                            - tabMemberId
                            - clientId
                            - itemId
                            - isLocked
                        description: Array of currently claimed items with their lock status
                      hasLockedMembers:
                        type: boolean
                        description: True if any member has locked their selections for checkout (blocks
                          split changes)
                    required:
                      - stateValidToEpoch
                      - selectedItems
                      - hasLockedMembers
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs/{tabId}/items/claim:
    post:
      tags:
        - tab-items
      description: Claim specific items for a tab member
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                tabMemberId:
                  type: string
                  format: uuid
                  description: UUID of the tab member claiming the items
                clientId:
                  type: string
                  format: uuid
                  description: UUID of the client (from storefront sessions) for storage
                    efficiency
                items:
                  type: array
                  items:
                    type: string
                  minItems: 1
                  description: 'Array of item IDs to claim. In ITEM mode: inventory item UUIDs. In
                    AMOUNT mode: virtual IDs like "split-index-0".'
                mode:
                  type: string
                  enum:
                    - ITEM
                    - AMOUNT
                  description: "Payment mode: ITEM for individual item claiming, AMOUNT for split
                    claiming"
              required:
                - tabMemberId
                - clientId
                - items
        required: true
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: tabId
          required: true
          description: UUID of the tab
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                        enum:
                          - true
                      stateValidToEpoch:
                        type: number
                        description: Timestamp when this state expires
                      selectedItems:
                        type: array
                        items:
                          type: object
                          properties:
                            tabMemberId:
                              type: string
                              format: uuid
                              description: UUID of the tab member who claimed this item
                            clientId:
                              type: string
                              format: uuid
                              description: UUID of the client (from storefront sessions) for compatibility
                            itemId:
                              type: string
                              format: uuid
                              description: UUID of the inventory item that was claimed
                            isLocked:
                              type: boolean
                              description: Whether this item is locked for checkout (cannot be unclaimed by
                                others)
                          required:
                            - tabMemberId
                            - clientId
                            - itemId
                            - isLocked
                        description: Updated list of selected items
                      hasLockedMembers:
                        type: boolean
                        description: True if any member has locked their selections for checkout
                    required:
                      - success
                      - stateValidToEpoch
                      - selectedItems
                      - hasLockedMembers
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "409":
          description: Selections are locked for checkout
          content:
            application/json:
              schema:
                description: Selections are locked for checkout
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        enum:
                          - SELECTIONS_LOCKED
                      message:
                        type: string
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs/{tabId}/items/unclaim:
    post:
      tags:
        - tab-items
      description: Unclaim (release) specific items for a tab member
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                tabMemberId:
                  type: string
                  format: uuid
                  description: UUID of the tab member unclaiming the items
                items:
                  type: array
                  items:
                    type: string
                  minItems: 1
                  description: 'Array of item IDs to unclaim. In ITEM mode: inventory item UUIDs.
                    In AMOUNT mode: virtual IDs like "split-index-0".'
                mode:
                  type: string
                  enum:
                    - ITEM
                    - AMOUNT
                  description: "Payment mode: ITEM for individual item unclaiming, AMOUNT for
                    split unclaiming"
              required:
                - tabMemberId
                - items
        required: true
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: tabId
          required: true
          description: UUID of the tab
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                        enum:
                          - true
                      stateValidToEpoch:
                        type: number
                        description: Timestamp when this state expires
                      selectedItems:
                        type: array
                        items:
                          type: object
                          properties:
                            tabMemberId:
                              type: string
                              format: uuid
                              description: UUID of the tab member who claimed this item
                            clientId:
                              type: string
                              format: uuid
                              description: UUID of the client (from storefront sessions) for compatibility
                            itemId:
                              type: string
                              format: uuid
                              description: UUID of the inventory item that was claimed
                            isLocked:
                              type: boolean
                              description: Whether this item is locked for checkout (cannot be unclaimed by
                                others)
                          required:
                            - tabMemberId
                            - clientId
                            - itemId
                            - isLocked
                        description: Updated list of selected items
                      hasLockedMembers:
                        type: boolean
                        description: True if any member has locked their selections for checkout
                    required:
                      - success
                      - stateValidToEpoch
                      - selectedItems
                      - hasLockedMembers
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "409":
          description: Selections are locked for checkout
          content:
            application/json:
              schema:
                description: Selections are locked for checkout
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        enum:
                          - SELECTIONS_LOCKED
                      message:
                        type: string
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs/{tabId}/items/lock:
    post:
      tags:
        - tab-items
      description: Lock a tab member's selections for checkout (prevents further
        modifications)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                tabMemberId:
                  type: string
                  format: uuid
                  description: UUID of the tab member to lock/unlock selections for
              required:
                - tabMemberId
        required: true
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: tabId
          required: true
          description: UUID of the tab
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                        enum:
                          - true
                      stateValidToEpoch:
                        type: number
                        description: Timestamp when this state expires
                      selectedItems:
                        type: array
                        items:
                          type: object
                          properties:
                            tabMemberId:
                              type: string
                              format: uuid
                              description: UUID of the tab member who claimed this item
                            clientId:
                              type: string
                              format: uuid
                              description: UUID of the client (from storefront sessions) for compatibility
                            itemId:
                              type: string
                              format: uuid
                              description: UUID of the inventory item that was claimed
                            isLocked:
                              type: boolean
                              description: Whether this item is locked for checkout (cannot be unclaimed by
                                others)
                          required:
                            - tabMemberId
                            - clientId
                            - itemId
                            - isLocked
                        description: Updated list of selected items
                      hasLockedMembers:
                        type: boolean
                        description: True if any member has locked their selections for checkout
                    required:
                      - success
                      - stateValidToEpoch
                      - selectedItems
                      - hasLockedMembers
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs/{tabId}/items/unlock:
    post:
      tags:
        - tab-items
      description: Unlock a tab member's selections (allows modifications again)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                tabMemberId:
                  type: string
                  format: uuid
                  description: UUID of the tab member to lock/unlock selections for
              required:
                - tabMemberId
        required: true
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: tabId
          required: true
          description: UUID of the tab
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                        enum:
                          - true
                      stateValidToEpoch:
                        type: number
                        description: Timestamp when this state expires
                      selectedItems:
                        type: array
                        items:
                          type: object
                          properties:
                            tabMemberId:
                              type: string
                              format: uuid
                              description: UUID of the tab member who claimed this item
                            clientId:
                              type: string
                              format: uuid
                              description: UUID of the client (from storefront sessions) for compatibility
                            itemId:
                              type: string
                              format: uuid
                              description: UUID of the inventory item that was claimed
                            isLocked:
                              type: boolean
                              description: Whether this item is locked for checkout (cannot be unclaimed by
                                others)
                          required:
                            - tabMemberId
                            - clientId
                            - itemId
                            - isLocked
                        description: Updated list of selected items
                      hasLockedMembers:
                        type: boolean
                        description: True if any member has locked their selections for checkout
                    required:
                      - success
                      - stateValidToEpoch
                      - selectedItems
                      - hasLockedMembers
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs/{tabId}/checkout-summary:
    post:
      tags:
        - tabs
        - checkout
        - payments
      description: Get checkout summary for a tab member's locked items. Returns
        items, totals, VAT breakdown, and kitchenDispatchItems array for payment
        processing.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                tabMember:
                  type: object
                  properties:
                    id:
                      type: string
                      description: Tab member UUID (Priority 1)
                    email:
                      type: string
                      description: Email address (Priority 2)
                    phone:
                      type: string
                      description: Phone number (Priority 3)
                    identifier:
                      type: string
                      description: Device/client identifier (Priority 4)
                  description: "Tab member identification. Provide at least one identifier.
                    Priority: id > email > phone > identifier"
              required:
                - tabMember
        required: true
      parameters:
        - schema:
            type: string
          in: path
          name: tabId
          required: true
          description: Tab UUID
      responses:
        "200":
          description: Checkout summary retrieved successfully
          content:
            application/json:
              schema:
                description: Checkout summary retrieved successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      paymentMode:
                        type: string
                        enum:
                          - ITEM
                          - AMOUNT
                        description: "Payment mode indicator: ITEM for item-based, AMOUNT for
                          split-based"
                      tabId:
                        type: string
                        description: Tab UUID
                      tabMemberId:
                        type: string
                        description: Resolved tab member UUID
                      clientId:
                        type: string
                        nullable: true
                        description: Client UUID for session correlation
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            kitchenDispatchItemId:
                              type: string
                              description: Kitchen dispatch item UUID
                            itemId:
                              type: number
                              description: Inventory item ID
                            title:
                              type: string
                              description: Item title
                            quantity:
                              type: number
                              description: Actual quantity (quantity_cents / 100)
                            basePrice:
                              type: number
                              description: Base item price in cents
                            variantsPrice:
                              type: number
                              description: Total variants price in cents
                            totalPrice:
                              type: number
                              description: Total price (basePrice + variantsPrice) * quantity in cents
                            discount:
                              type: number
                              nullable: true
                              description: Discount amount in cents
                            vat:
                              type: number
                              description: VAT rate in basis points (1200 = 12%, defaults to 1200 if item has
                                no VAT)
                            vatId:
                              type: number
                              description: VAT ID for mapping (defaults to 1 if item has no VAT ID)
                            vatAmountCents:
                              type: number
                              description: Calculated VAT amount in cents (VAT-inclusive calculation)
                            variants:
                              type: array
                              items:
                                type: object
                                properties:
                                  id:
                                    type: number
                                    description: Variant ID
                                  name:
                                    type: string
                                    description: Variant name/title from inventory
                                  quantity_cents:
                                    type: number
                                    description: Quantity in cents (100 = 1x)
                                  price_cents:
                                    type: number
                                    nullable: true
                                    description: Price override in cents
                                  comments:
                                    type: array
                                    items:
                                      type: string
                                    description: Variant-specific comments
                                  variants:
                                    type: array
                                    items:
                                      type: object
                                    description: Nested variants (recursive structure)
                                required:
                                  - id
                              description: Selected variants for this item
                            comments:
                              type: array
                              items:
                                type: string
                              description: Item comments
                          required:
                            - kitchenDispatchItemId
                            - itemId
                            - title
                            - quantity
                            - basePrice
                            - variantsPrice
                            - totalPrice
                            - vat
                            - vatId
                            - vatAmountCents
                            - variants
                            - comments
                        description: Locked items for checkout (ITEM mode only)
                      totals:
                        type: object
                        properties:
                          subtotal:
                            type: number
                            description: Sum of all item totalPrice (before discounts) in cents
                          discounts:
                            type: number
                            description: Total discounts applied in cents
                          totalAmountInCents:
                            type: number
                            description: Final total (subtotal - discounts) in cents
                          vatBreakdown:
                            type: object
                            additionalProperties:
                              type: number
                            description: VAT breakdown by rate. Keys are formatted like "12 %", "25 %".
                              Values in cents.
                            example:
                              12 %: 1200
                              25 %: 500
                        required:
                          - subtotal
                          - discounts
                          - totalAmountInCents
                          - vatBreakdown
                      kitchenDispatchItems:
                        type: array
                        items:
                          type: string
                        description: Kitchen dispatch item UUIDs for payment call (ITEM mode only)
                      paymentSplit:
                        type: number
                        description: Number of ways the tab is split, 2-10 (AMOUNT mode only)
                      totalAmountCents:
                        type: number
                        description: Total tab amount in cents (AMOUNT mode only)
                      splitAmountCents:
                        type: number
                        description: Amount per split in cents, rounded up (AMOUNT mode only)
                      paidAmountCents:
                        type: number
                        description: Total amount already paid in cents (AMOUNT mode only)
                      remainingBalanceCents:
                        type: number
                        description: Remaining balance in cents (AMOUNT mode only)
                      paidSplits:
                        type: number
                        description: Number of splits already paid (AMOUNT mode only)
                      remainingSplits:
                        type: number
                        description: Number of splits remaining to pay (AMOUNT mode only)
                      vatBreakdown:
                        type: object
                        additionalProperties:
                          type: number
                        description: VAT breakdown by rate. Keys are formatted like "12 %", "25 %".
                          Values in cents. Present in both modes.
                    required:
                      - paymentMode
                      - tabId
                      - tabMemberId
                      - clientId
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs/{tabId}/items/{itemId}/price:
    put:
      tags:
        - tab-discounts
      description: Apply a discount or set a new price on a kitchen dispatch item
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - action
                - reasonCode
              properties:
                action:
                  type: string
                  enum:
                    - discount
                    - set_price
                  description: 'Type of action: "discount" for applying discounts, "set_price" for
                    setting arbitrary price'
                discountType:
                  type: string
                  enum:
                    - percentage
                    - fixed
                  description: 'Required when action is "discount": type of discount to apply'
                value:
                  type: number
                  description: 'Required when action is "discount": percentage (1-100) or cents
                    for fixed discount'
                  minimum: 0
                priceInCents:
                  type: integer
                  description: 'Required when action is "set_price": new price in cents'
                  minimum: 0
                reasonCode:
                  type: string
                  description: Required reason code explaining why the price is being adjusted
                  example: PRICE_MATCH
                notes:
                  type: string
                  description: Optional notes providing additional context for the price
                    adjustment
        required: true
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: tabId
          required: true
          description: UUID of the tab containing the item
        - schema:
            type: string
            format: uuid
          in: path
          name: itemId
          required: true
          description: UUID of the kitchen dispatch item to modify
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                  - data
                  - meta
                properties:
                  status:
                    type: string
                    enum:
                      - success
                    description: Response status
                  data:
                    type: object
                    required:
                      - priceEvent
                    properties:
                      priceEvent:
                        type: object
                        required:
                          - id
                          - kitchenDispatchItemId
                          - tabId
                          - appliedBy
                          - previousPrice
                          - newPrice
                          - basePrice
                          - changeType
                          - reasonCode
                          - createdAt
                        properties:
                          id:
                            type: integer
                            description: Unique identifier for this price event
                          kitchenDispatchItemId:
                            type: string
                            format: uuid
                            description: UUID of the kitchen dispatch item that was modified
                          tabId:
                            type: string
                            format: uuid
                            description: UUID of the tab containing the item
                          appliedBy:
                            type: object
                            required:
                              - userId
                            properties:
                              userId:
                                type: integer
                                description: Retailer user ID of the staff member
                              name:
                                type: string
                                nullable: true
                                description: Name of the staff member
                              email:
                                type: string
                                nullable: true
                                format: email
                                description: Email of the staff member
                          previousPrice:
                            type: integer
                            description: Previous price in cents
                          newPrice:
                            type: integer
                            description: New price in cents
                          previousDiscount:
                            type: integer
                            nullable: true
                            description: Previous discount amount in cents (null if no previous discount)
                          newDiscount:
                            type: integer
                            nullable: true
                            description: New discount amount in cents (null if no discount)
                          basePrice:
                            type: integer
                            description: Original base price in cents (for reference)
                          changeType:
                            type: string
                            enum:
                              - DISCOUNT_PERCENTAGE
                              - DISCOUNT_FIXED
                              - PRICE_SET
                              - DISCOUNT_REMOVED
                            description: Type of price change applied to the item
                          discountPercentage:
                            type: number
                            nullable: true
                            description: "For percentage discounts: the percentage value (e.g., 15.5 for
                              15.5% off)"
                          discountAmountCents:
                            type: integer
                            nullable: true
                            description: "For fixed discounts: the fixed amount in cents"
                          reasonCode:
                            type: string
                            description: Reason code for the price change (PRICE_MATCH, GOODWILL, etc.)
                            example: PRICE_MATCH
                          notes:
                            type: string
                            nullable: true
                            description: Optional notes explaining the price adjustment
                          createdAt:
                            type: string
                            format: date-time
                            description: When the price change was applied
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs/{tabId}/items/{itemId}/discount:
    delete:
      tags:
        - tab-discounts
      description: Remove any discount from an item and restore its base price
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - reasonCode
              properties:
                reasonCode:
                  type: string
                  description: Reason code for removing the discount
                notes:
                  type: string
                  description: Optional notes
        required: true
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: tabId
          required: true
          description: UUID of the tab containing the item
        - schema:
            type: string
            format: uuid
          in: path
          name: itemId
          required: true
          description: UUID of the kitchen dispatch item to restore
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                  - data
                  - meta
                properties:
                  status:
                    type: string
                    enum:
                      - success
                    description: Response status
                  data:
                    type: object
                    required:
                      - priceEvent
                    properties:
                      priceEvent:
                        type: object
                        required:
                          - id
                          - kitchenDispatchItemId
                          - tabId
                          - appliedBy
                          - previousPrice
                          - newPrice
                          - basePrice
                          - changeType
                          - reasonCode
                          - createdAt
                        properties:
                          id:
                            type: integer
                            description: Unique identifier for this price event
                          kitchenDispatchItemId:
                            type: string
                            format: uuid
                            description: UUID of the kitchen dispatch item that was modified
                          tabId:
                            type: string
                            format: uuid
                            description: UUID of the tab containing the item
                          appliedBy:
                            type: object
                            required:
                              - userId
                            properties:
                              userId:
                                type: integer
                                description: Retailer user ID of the staff member
                              name:
                                type: string
                                nullable: true
                                description: Name of the staff member
                              email:
                                type: string
                                nullable: true
                                format: email
                                description: Email of the staff member
                          previousPrice:
                            type: integer
                            description: Previous price in cents
                          newPrice:
                            type: integer
                            description: New price in cents
                          previousDiscount:
                            type: integer
                            nullable: true
                            description: Previous discount amount in cents (null if no previous discount)
                          newDiscount:
                            type: integer
                            nullable: true
                            description: New discount amount in cents (null if no discount)
                          basePrice:
                            type: integer
                            description: Original base price in cents (for reference)
                          changeType:
                            type: string
                            enum:
                              - DISCOUNT_PERCENTAGE
                              - DISCOUNT_FIXED
                              - PRICE_SET
                              - DISCOUNT_REMOVED
                            description: Type of price change applied to the item
                          discountPercentage:
                            type: number
                            nullable: true
                            description: "For percentage discounts: the percentage value (e.g., 15.5 for
                              15.5% off)"
                          discountAmountCents:
                            type: integer
                            nullable: true
                            description: "For fixed discounts: the fixed amount in cents"
                          reasonCode:
                            type: string
                            description: Reason code for the price change (PRICE_MATCH, GOODWILL, etc.)
                            example: PRICE_MATCH
                          notes:
                            type: string
                            nullable: true
                            description: Optional notes explaining the price adjustment
                          createdAt:
                            type: string
                            format: date-time
                            description: When the price change was applied
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs/{tabId}/items/{itemId}/price-history:
    get:
      tags:
        - tab-discounts
      description: Retrieve the complete price change history for a kitchen dispatch item
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: tabId
          required: true
          description: UUID of the tab
        - schema:
            type: string
            format: uuid
          in: path
          name: itemId
          required: true
          description: UUID of the kitchen dispatch item
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                  - data
                  - meta
                properties:
                  status:
                    type: string
                    enum:
                      - success
                    description: Response status
                  data:
                    type: object
                    required:
                      - events
                    properties:
                      events:
                        type: array
                        items:
                          type: object
                          required:
                            - id
                            - kitchenDispatchItemId
                            - tabId
                            - appliedBy
                            - previousPrice
                            - newPrice
                            - basePrice
                            - changeType
                            - reasonCode
                            - createdAt
                          properties:
                            id:
                              type: integer
                              description: Unique identifier for this price event
                            kitchenDispatchItemId:
                              type: string
                              format: uuid
                              description: UUID of the kitchen dispatch item that was modified
                            tabId:
                              type: string
                              format: uuid
                              description: UUID of the tab containing the item
                            appliedBy:
                              type: object
                              required:
                                - userId
                              properties:
                                userId:
                                  type: integer
                                  description: Retailer user ID of the staff member
                                name:
                                  type: string
                                  nullable: true
                                  description: Name of the staff member
                                email:
                                  type: string
                                  nullable: true
                                  format: email
                                  description: Email of the staff member
                            previousPrice:
                              type: integer
                              description: Previous price in cents
                            newPrice:
                              type: integer
                              description: New price in cents
                            previousDiscount:
                              type: integer
                              nullable: true
                              description: Previous discount amount in cents (null if no previous discount)
                            newDiscount:
                              type: integer
                              nullable: true
                              description: New discount amount in cents (null if no discount)
                            basePrice:
                              type: integer
                              description: Original base price in cents (for reference)
                            changeType:
                              type: string
                              enum:
                                - DISCOUNT_PERCENTAGE
                                - DISCOUNT_FIXED
                                - PRICE_SET
                                - DISCOUNT_REMOVED
                              description: Type of price change applied to the item
                            discountPercentage:
                              type: number
                              nullable: true
                              description: "For percentage discounts: the percentage value (e.g., 15.5 for
                                15.5% off)"
                            discountAmountCents:
                              type: integer
                              nullable: true
                              description: "For fixed discounts: the fixed amount in cents"
                            reasonCode:
                              type: string
                              description: Reason code for the price change (PRICE_MATCH, GOODWILL, etc.)
                              example: PRICE_MATCH
                            notes:
                              type: string
                              nullable: true
                              description: Optional notes explaining the price adjustment
                            createdAt:
                              type: string
                              format: date-time
                              description: When the price change was applied
                        description: List of price change events
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs/{tabId}/discounts:
    get:
      tags:
        - tab-discounts
      description: Retrieve all items with discounts or price changes on a tab
      parameters:
        - schema:
            type: string
            enum:
              - DISCOUNT_PERCENTAGE
              - DISCOUNT_FIXED
              - PRICE_SET
              - DISCOUNT_REMOVED
          in: query
          name: changeType
          required: false
          description: Filter by type of price change
        - schema:
            type: integer
          in: query
          name: appliedBy
          required: false
          description: Filter by retailer user ID who applied the change
        - schema:
            type: string
            format: uuid
          in: path
          name: tabId
          required: true
          description: UUID of the tab
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                  - data
                  - meta
                properties:
                  status:
                    type: string
                    enum:
                      - success
                    description: Response status
                  data:
                    type: object
                    required:
                      - events
                    properties:
                      events:
                        type: array
                        items:
                          type: object
                          required:
                            - id
                            - kitchenDispatchItemId
                            - tabId
                            - appliedBy
                            - previousPrice
                            - newPrice
                            - basePrice
                            - changeType
                            - reasonCode
                            - createdAt
                          properties:
                            id:
                              type: integer
                              description: Unique identifier for this price event
                            kitchenDispatchItemId:
                              type: string
                              format: uuid
                              description: UUID of the kitchen dispatch item that was modified
                            tabId:
                              type: string
                              format: uuid
                              description: UUID of the tab containing the item
                            appliedBy:
                              type: object
                              required:
                                - userId
                              properties:
                                userId:
                                  type: integer
                                  description: Retailer user ID of the staff member
                                name:
                                  type: string
                                  nullable: true
                                  description: Name of the staff member
                                email:
                                  type: string
                                  nullable: true
                                  format: email
                                  description: Email of the staff member
                            previousPrice:
                              type: integer
                              description: Previous price in cents
                            newPrice:
                              type: integer
                              description: New price in cents
                            previousDiscount:
                              type: integer
                              nullable: true
                              description: Previous discount amount in cents (null if no previous discount)
                            newDiscount:
                              type: integer
                              nullable: true
                              description: New discount amount in cents (null if no discount)
                            basePrice:
                              type: integer
                              description: Original base price in cents (for reference)
                            changeType:
                              type: string
                              enum:
                                - DISCOUNT_PERCENTAGE
                                - DISCOUNT_FIXED
                                - PRICE_SET
                                - DISCOUNT_REMOVED
                              description: Type of price change applied to the item
                            discountPercentage:
                              type: number
                              nullable: true
                              description: "For percentage discounts: the percentage value (e.g., 15.5 for
                                15.5% off)"
                            discountAmountCents:
                              type: integer
                              nullable: true
                              description: "For fixed discounts: the fixed amount in cents"
                            reasonCode:
                              type: string
                              description: Reason code for the price change (PRICE_MATCH, GOODWILL, etc.)
                              example: PRICE_MATCH
                            notes:
                              type: string
                              nullable: true
                              description: Optional notes explaining the price adjustment
                            createdAt:
                              type: string
                              format: date-time
                              description: When the price change was applied
                        description: List of price change events
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs/{tabId}/items/bulk-price:
    put:
      tags:
        - tab-discounts
      description: Apply discounts or set new prices on multiple kitchen dispatch
        items in a single request. Only sends items that need to be updated.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - items
                - reasonCode
              properties:
                items:
                  type: array
                  items:
                    type: object
                    required:
                      - kitchenDispatchItemId
                    properties:
                      kitchenDispatchItemId:
                        type: string
                        format: uuid
                        description: UUID of the kitchen dispatch item to modify
                      newPrice:
                        type: integer
                        description: New price in cents (for set_price action)
                        minimum: 0
                      discountPercent:
                        type: number
                        description: Percentage discount to apply (1-100)
                        minimum: 0
                        maximum: 100
                      removeDiscount:
                        type: boolean
                        description: Set to true to remove discount and restore base price
                  description: "Array of items to update. Each item should specify exactly one of:
                    newPrice, discountPercent, or removeDiscount"
                  minItems: 1
                reasonCode:
                  type: string
                  description: Reason code explaining why the prices are being adjusted
                  example: PRICE_MATCH
                notes:
                  type: string
                  description: Optional notes providing additional context for the price
                    adjustments
        required: true
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: tabId
          required: true
          description: UUID of the tab containing the items
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                  - data
                  - meta
                properties:
                  status:
                    type: string
                    enum:
                      - success
                    description: Response status
                  data:
                    type: object
                    required:
                      - results
                    properties:
                      results:
                        type: array
                        items:
                          type: object
                          required:
                            - kitchenDispatchItemId
                            - previousPrice
                            - newPrice
                            - changeType
                            - success
                          properties:
                            kitchenDispatchItemId:
                              type: string
                              format: uuid
                              description: UUID of the modified item
                            previousPrice:
                              type: integer
                              description: Previous price in cents
                            newPrice:
                              type: integer
                              description: New price in cents
                            changeType:
                              type: string
                              enum:
                                - DISCOUNT_PERCENTAGE
                                - DISCOUNT_FIXED
                                - PRICE_SET
                                - DISCOUNT_REMOVED
                              description: Type of price change applied to the item
                            success:
                              type: boolean
                              description: Whether the update succeeded
                            error:
                              type: string
                              description: Error message if update failed
                        description: Results for each item update
                      totalUpdated:
                        type: integer
                        description: Number of items successfully updated
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tabs/{tabId}/settlements/active:
    post:
      summary: Get or create active settlement
      tags:
        - settlements
      description: Get or create active settlement for a tab member
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - tabMember
              additionalProperties: false
              properties:
                tabMember:
                  type: object
                  additionalProperties: false
                  properties:
                    id:
                      type: integer
                      description: User ID (Priority 1 - highest priority)
                    email:
                      type: string
                      format: email
                      description: Email address (Priority 2)
                    phone:
                      type: string
                      description: Phone number (Priority 3)
                    identifier:
                      type: string
                      description: Device identifier or session ID (Priority 4 - lowest priority)
                  description: "Tab member identification. The system uses priority order: id >
                    email > phone > identifier"
        required: true
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: tabId
          required: true
          description: ID of the tab to get settlement for
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                  - data
                  - meta
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    required:
                      - tabSettlementId
                      - state
                      - isNew
                    additionalProperties: false
                    properties:
                      tabSettlementId:
                        type: string
                        format: uuid
                        description: Unique identifier for the settlement
                      state:
                        type: string
                        enum:
                          - in_preparation
                          - payment_in_progress
                          - settled
                          - cancelled
                        description: Current state of the settlement
                      isNew:
                        type: boolean
                        description: Whether this settlement was just created (true) or already existed
                          (false)
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/settlements/{settlementId}:
    get:
      summary: Get settlement details
      tags:
        - settlements
      description: Get settlement details by ID
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: settlementId
          required: true
          description: ID of the settlement to retrieve
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                  - data
                  - meta
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    required:
                      - id
                      - tabMemberId
                      - state
                      - createdAt
                      - updatedAt
                    additionalProperties: false
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Unique identifier for the settlement
                      tabMemberId:
                        type: string
                        format: uuid
                        description: ID of the tab member who owns this settlement
                      paymentId:
                        type: integer
                        nullable: true
                        description: Payment ID if settlement has been processed for payment
                      state:
                        type: string
                        enum:
                          - in_preparation
                          - payment_in_progress
                          - settled
                          - cancelled
                        description: Current state of the settlement
                      createdAt:
                        type: string
                        format: date-time
                        description: When the settlement was created
                      updatedAt:
                        type: string
                        format: date-time
                        description: When the settlement was last updated
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/kitchen-dispatch-items/{id}/split:
    get:
      summary: Get split order items
      tags:
        - Orders
      description: Get all items that were split from an order item for bill splitting
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
          description: Kitchen dispatch item UUID (the split_of_kitchen_dispatch_item
            reference)
      responses:
        "200":
          description: Successfully retrieved split items
          content:
            application/json:
              schema:
                description: Successfully retrieved split items
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            uuid:
                              type: string
                              format: uuid
                              description: Split item UUID
                            basePrice:
                              type: number
                              description: Base price in cents
                            modificationPrice:
                              type: number
                              description: Total modification price in cents
                            price:
                              type: number
                              description: Final price in cents
                            title:
                              type: string
                              description: Item title
                            currencyCode:
                              type: string
                              description: Currency code (e.g., SEK)
                            modifications:
                              type: array
                              items:
                                type: object
                                properties:
                                  title:
                                    type: string
                                  variantId:
                                    type: number
                                  variantGroupId:
                                    type: number
                                  type:
                                    type: string
                                    enum:
                                      - variant
                                      - extra
                                  amount:
                                    type: number
                                    description: Price in cents
                          required:
                            - uuid
                            - basePrice
                            - modificationPrice
                            - price
                            - title
                            - currencyCode
                            - modifications
                      originalItemId:
                        type: string
                        format: uuid
                        description: The original item UUID that was split
                    required:
                      - items
                      - originalItemId
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    post:
      summary: Split order item
      tags:
        - Orders
      description: Split an order item into multiple parts for bill splitting with
        equal pricing
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                numberOfParts:
                  type: number
                  minimum: 2
                  maximum: 10
                  description: Number of parts to split the item into (2-10)
                tabId:
                  type: string
                  format: uuid
                  description: Tab UUID that the item belongs to
              required:
                - numberOfParts
                - tabId
        required: true
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
          description: Kitchen dispatch item UUID
      responses:
        "200":
          description: Successfully split the item
          content:
            application/json:
              schema:
                description: Successfully split the item
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      splitItemIds:
                        type: array
                        items:
                          type: string
                          format: uuid
                        description: UUIDs of the newly created split items
                      originalItemId:
                        type: string
                        format: uuid
                        description: UUID of the original item (now deleted)
                    required:
                      - splitItemIds
                      - originalItemId
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/purchases/{purchaseIntentId}/loyalty-status:
    get:
      summary: Get loyalty status for a purchase
      tags:
        - Payment Methods
        - Loyalty
      description: >-
        Returns the loyalty scenario after a purchase completes.


        Used by the frontend to determine what modal/action to show:

        - **POINTS_EARNED**: User is enrolled, points were awarded automatically

        - **ENROLLMENT_AVAILABLE**: Card is linked to user, but not enrolled at
        this location

        - **CARD_LINK_AVAILABLE**: Card is not linked to any user, prompt for
        email/phone

        - **NO_LOYALTY_PROGRAM**: Location has no loyalty program

        - **PROCESSING**: Still processing (retry later)


        **Permissions:** ðŸ”µ `loyalty.read`
      parameters:
        - schema:
            type: string
          in: path
          name: purchaseIntentId
          required: true
          description: Purchase intent ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      loyaltyScenario:
                        type: string
                        enum:
                          - POINTS_EARNED
                          - ENROLLMENT_AVAILABLE
                          - CARD_LINK_AVAILABLE
                          - NO_LOYALTY_PROGRAM
                          - PROCESSING
                        description: The loyalty scenario based on card/user recognition
                      pointsEarned:
                        type: object
                        nullable: true
                        properties:
                          points:
                            type: number
                            description: Points earned from this purchase
                          newBalance:
                            type: number
                            description: New total points balance
                      enrollmentOffer:
                        type: object
                        nullable: true
                        properties:
                          programId:
                            type: number
                            description: Loyalty program ID
                          programName:
                            type: string
                            description: Loyalty program name
                          potentialPoints:
                            type: number
                            description: Points user would earn by enrolling
                      cardLinkOffer:
                        type: object
                        nullable: true
                        properties:
                          programId:
                            type: number
                            description: Loyalty program ID
                          programName:
                            type: string
                            description: Loyalty program name
                          potentialPoints:
                            type: number
                            description: Points user would earn by linking card
                          brand:
                            type: string
                            nullable: true
                            description: Card brand
                          last4:
                            type: string
                            nullable: true
                            description: Last 4 digits of card
                      user:
                        type: object
                        nullable: true
                        properties:
                          id:
                            type: number
                            description: User ID
                          email:
                            type: string
                            nullable: true
                            description: User email
                      location:
                        type: object
                        properties:
                          id:
                            type: number
                            description: Location ID
                          name:
                            type: string
                            description: Location name
                          hasLoyaltyProgram:
                            type: boolean
                            description: Whether location has an active loyalty program
                        required:
                          - id
                          - name
                          - hasLoyaltyProgram
                    required:
                      - loyaltyScenario
                      - pointsEarned
                      - enrollmentOffer
                      - cardLinkOffer
                      - user
                      - location
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/loyalty/link-payment-method:
    post:
      summary: Link payment card to user account
      tags:
        - Payment Methods
        - Loyalty
      description: >-
        Links a payment card (from a purchase) to a user account.


        This endpoint:

        1. Extracts card data from the purchase

        2. Finds or creates a user by email/phone

        3. Links the card to the user for future recognition

        4. Optionally enrolls the user in the loyalty program

        5. Awards retroactive points for the triggering purchase


        **Use case**: After a guest makes a purchase and enters their
        email/phone,

        their card is linked so future purchases automatically earn loyalty
        points.


        **Permissions:** ðŸŸ¢ `loyalty.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                purchaseIntentId:
                  type: string
                  description: Purchase intent ID containing card data
                email:
                  type: string
                  format: email
                  description: User email (required if no phone)
                phone:
                  type: string
                  description: User phone number (required if no email)
                enrollInProgram:
                  type: boolean
                  description: Whether to also enroll in loyalty program
                locationId:
                  type: number
                  description: Location ID for enrollment (required if enrollInProgram)
              required:
                - purchaseIntentId
        required: true
      responses:
        "201":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      user:
                        type: object
                        properties:
                          id:
                            type: number
                            description: User ID
                          isNewUser:
                            type: boolean
                            description: Whether a new user was created
                        required:
                          - id
                          - isNewUser
                      paymentMethod:
                        type: object
                        properties:
                          linked:
                            type: boolean
                            description: Whether card was successfully linked
                          id:
                            type: string
                            format: uuid
                            nullable: true
                            description: Payment method UUID
                          brand:
                            type: string
                            nullable: true
                            description: Card brand
                          last4:
                            type: string
                            nullable: true
                            description: Last 4 digits
                        required:
                          - linked
                          - id
                          - brand
                          - last4
                      enrollment:
                        type: object
                        nullable: true
                        properties:
                          enrolled:
                            type: boolean
                            description: Whether user was enrolled
                          pointsAwarded:
                            type: number
                            nullable: true
                            description: Retroactive points awarded
                          newBalance:
                            type: number
                            nullable: true
                            description: New points balance
                    required:
                      - user
                      - paymentMethod
                      - enrollment
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/users/me/payment-methods:
    get:
      summary: List saved payment methods
      tags:
        - Payment Methods
      description: |-
        Returns all saved payment methods for the authenticated user.

        Payment methods are sorted by:
        1. Default payment method first
        2. Most recently used
        3. Creation date

        **Permissions:** ðŸ”µ `payment-methods.read`
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      paymentMethods:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              format: uuid
                              description: Payment method UUID
                            nickname:
                              type: string
                              nullable: true
                              description: User-defined nickname or auto-generated (e.g., "Visa ***4242")
                            brand:
                              type: string
                              nullable: true
                              description: Card brand (visa, mastercard, etc.)
                            last4:
                              type: string
                              nullable: true
                              description: Last 4 digits of card number
                            expiryMonth:
                              type: number
                              nullable: true
                              description: Card expiry month (1-12)
                            expiryYear:
                              type: number
                              nullable: true
                              description: Card expiry year (4 digits)
                            isDefault:
                              type: boolean
                              description: Whether this is the default payment method
                            isTokenized:
                              type: boolean
                              description: Whether this card is tokenized for recurring payments
                            lastUsedAt:
                              type: string
                              format: date-time
                              nullable: true
                              description: Last time this payment method was used
                            createdAt:
                              type: string
                              format: date-time
                              description: When the payment method was saved
                          additionalProperties: false
                        description: List of saved payment methods
                    required:
                      - paymentMethods
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/users/me/payment-methods/{id}/default:
    post:
      summary: Set default payment method
      tags:
        - Payment Methods
      description: |-
        Sets a payment method as the default for the authenticated user.

        **Permissions:** ðŸŸ  `payment-methods.update`
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
          description: Payment method UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      message:
                        type: string
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/users/me/payment-methods/{id}:
    delete:
      summary: Remove saved payment method
      tags:
        - Payment Methods
      description: >-
        Removes a saved payment method (soft delete). The card will no longer be
        recognized for loyalty purposes.


        **Permissions:** ðŸ”´ `payment-methods.delete`
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
          description: Payment method UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      message:
                        type: string
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    patch:
      summary: Update payment method
      tags:
        - Payment Methods
      description: |-
        Updates a payment method's nickname.

        **Permissions:** ðŸŸ  `payment-methods.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                nickname:
                  type: string
                  minLength: 1
                  maxLength: 100
                  description: Custom nickname for the card
              required:
                - nickname
        required: true
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
          description: Payment method UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Payment method UUID
                      nickname:
                        type: string
                        nullable: true
                        description: User-defined nickname or auto-generated (e.g., "Visa ***4242")
                      brand:
                        type: string
                        nullable: true
                        description: Card brand (visa, mastercard, etc.)
                      last4:
                        type: string
                        nullable: true
                        description: Last 4 digits of card number
                      expiryMonth:
                        type: number
                        nullable: true
                        description: Card expiry month (1-12)
                      expiryYear:
                        type: number
                        nullable: true
                        description: Card expiry year (4 digits)
                      isDefault:
                        type: boolean
                        description: Whether this is the default payment method
                      isTokenized:
                        type: boolean
                        description: Whether this card is tokenized for recurring payments
                      lastUsedAt:
                        type: string
                        format: date-time
                        nullable: true
                        description: Last time this payment method was used
                      createdAt:
                        type: string
                        format: date-time
                        description: When the payment method was saved
                    additionalProperties: false
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/vouchers:
    get:
      summary: List vouchers
      tags:
        - Vouchers
      description: |-
        List all vouchers with optional filters and pagination

        **Permissions:** ðŸ”µ `vouchers.read`
      parameters:
        - schema:
            type: number
          in: query
          name: location_id
          required: false
          description: Filter by location ID
        - schema:
            type: number
          in: query
          name: company_id
          required: false
          description: Filter by company ID
        - schema:
            type: string
            enum:
              - DISCOUNT_CODE
              - GIFT_CARD
              - PROMOTION
              - LOYALTY_REWARD
              - CAMPAIGN
              - REFERRAL
          in: query
          name: voucher_type
          required: false
          description: Filter by voucher type
        - schema:
            type: boolean
          in: query
          name: enabled
          required: false
          description: Filter by enabled status
        - schema:
            type: string
          in: query
          name: code
          required: false
          description: Exact code match
        - schema:
            type: string
          in: query
          name: search
          required: false
          description: Search in name or code
        - schema:
            type: boolean
          in: query
          name: include_restrictions
          required: false
          description: Include restrictions in response
        - schema:
            type: number
            default: 1
            minimum: 1
          in: query
          name: page
          required: false
        - schema:
            type: number
            default: 50
            minimum: 1
            maximum: 1000
          in: query
          name: limit
          required: false
        - schema:
            type: string
            default: created_at
          in: query
          name: sort
          required: false
        - schema:
            type: string
            enum:
              - ASC
              - DESC
            default: DESC
          in: query
          name: order
          required: false
      responses:
        "200":
          description: List of vouchers
          content:
            application/json:
              schema:
                description: List of vouchers
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      vouchers:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                            locationId:
                              type: number
                              nullable: true
                            companyId:
                              type: number
                              nullable: true
                            name:
                              type: string
                            code:
                              type: string
                            enabled:
                              type: boolean
                            voucherType:
                              type: string
                              enum:
                                - DISCOUNT_CODE
                                - GIFT_CARD
                                - PROMOTION
                                - LOYALTY_REWARD
                                - CAMPAIGN
                                - REFERRAL
                            balanceMode:
                              type: string
                              enum:
                                - NONE
                                - DECREMENTAL
                            typeSpecification:
                              type: object
                              properties:
                                type:
                                  type: string
                                  enum:
                                    - percentage
                                    - fixed
                                    - balance
                                    - free_item
                                    - formula
                                amountInBasisPoints:
                                  type: number
                                  description: For percentage discounts (10000 = 100%)
                                amountInCents:
                                  type: number
                                  description: For fixed amount discounts
                                freeItemId:
                                  type: number
                                  description: For free item promotions
                                freeItemQuantity:
                                  type: number
                                  description: Quantity of free items
                                formula:
                                  type: object
                                  properties:
                                    type:
                                      type: string
                                      enum:
                                        - buy_x_get_y
                                        - tiered
                                        - spend_threshold
                                        - bundle
                                    rules:
                                      type: object
                                      description: Formula-specific rules
                              required:
                                - type
                            maxUses:
                              type: number
                              nullable: true
                            timesUsed:
                              type: number
                            perUserUses:
                              type: number
                              nullable: true
                            minOrderAmountCents:
                              type: number
                              nullable: true
                            maxDiscountAmountCents:
                              type: number
                              nullable: true
                            initialBalanceCents:
                              type: number
                              nullable: true
                            remainingBalanceCents:
                              type: number
                              nullable: true
                            canCombine:
                              type: boolean
                            autoApply:
                              type: boolean
                            validFrom:
                              type: string
                              format: date-time
                            validUntil:
                              type: string
                              format: date-time
                              nullable: true
                            displayTitle:
                              type: string
                              nullable: true
                            displayDescription:
                              type: string
                              nullable: true
                            displayImageUrl:
                              type: string
                              nullable: true
                            createdAt:
                              type: string
                              format: date-time
                            updatedAt:
                              type: string
                              format: date-time
                            restrictions:
                              type: array
                              items:
                                type: object
                                properties:
                                  id:
                                    type: number
                                  discountId:
                                    type: number
                                  restrictionType:
                                    type: string
                                    enum:
                                      - INCLUDE_ITEM
                                      - EXCLUDE_ITEM
                                      - INCLUDE_TAG
                                      - EXCLUDE_TAG
                                      - INCLUDE_LAYOUT
                                      - EXCLUDE_LAYOUT
                                  entityId:
                                    type: number
                                  createdAt:
                                    type: string
                                    format: date-time
                            userRestrictions:
                              type: array
                              items:
                                type: object
                                properties:
                                  id:
                                    type: number
                                  discountId:
                                    type: number
                                  restrictionType:
                                    type: string
                                    enum:
                                      - EMAIL
                                      - PHONE
                                      - USER_ID
                                      - SEGMENT_ID
                                  value:
                                    type: string
                                  createdAt:
                                    type: string
                                    format: date-time
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                          limit:
                            type: number
                          total:
                            type: number
                          totalPages:
                            type: number
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
        "400":
          description: Bad Request - Invalid input
          content:
            application/json:
              schema:
                description: Bad Request - Invalid input
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                description: Unauthorized - Missing or invalid API key
                type: object
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                description: Forbidden - Insufficient permissions
                type: object
        "404":
          description: Not Found - Resource not found
          content:
            application/json:
              schema:
                description: Not Found - Resource not found
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                description: Internal Server Error
                type: object
    post:
      summary: Create voucher
      tags:
        - Vouchers
      description: |-
        Create a new voucher with optional restrictions

        **Permissions:** ðŸŸ¢ `vouchers.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - code
                - voucherType
                - typeSpecification
              properties:
                locationId:
                  type: number
                  description: Location ID (required if companyId not set)
                companyId:
                  type: number
                  description: Company ID (required if locationId not set)
                name:
                  type: string
                  description: Internal voucher name
                code:
                  type: string
                  description: Voucher code (will be uppercased)
                enabled:
                  type: boolean
                  default: true
                voucherType:
                  type: string
                  enum:
                    - DISCOUNT_CODE
                    - GIFT_CARD
                    - PROMOTION
                    - LOYALTY_REWARD
                    - CAMPAIGN
                    - REFERRAL
                balanceMode:
                  type: string
                  enum:
                    - NONE
                    - DECREMENTAL
                  default: NONE
                typeSpecification:
                  type: object
                  properties:
                    type:
                      type: string
                      enum:
                        - percentage
                        - fixed
                        - balance
                        - free_item
                        - formula
                    amountInBasisPoints:
                      type: number
                      description: For percentage discounts (10000 = 100%)
                    amountInCents:
                      type: number
                      description: For fixed amount discounts
                    freeItemId:
                      type: number
                      description: For free item promotions
                    freeItemQuantity:
                      type: number
                      description: Quantity of free items
                    formula:
                      type: object
                      properties:
                        type:
                          type: string
                          enum:
                            - buy_x_get_y
                            - tiered
                            - spend_threshold
                            - bundle
                        rules:
                          type: object
                          description: Formula-specific rules
                  required:
                    - type
                maxUses:
                  type: number
                  description: Total usage limit
                perUserUses:
                  type: number
                  description: Per-user usage limit
                minOrderAmountCents:
                  type: number
                  description: Minimum order amount in cents
                maxDiscountAmountCents:
                  type: number
                  description: Maximum discount cap in cents
                initialBalanceCents:
                  type: number
                  description: Initial balance for gift cards
                canCombine:
                  type: boolean
                  default: false
                autoApply:
                  type: boolean
                  default: false
                validFrom:
                  type: string
                  format: date-time
                validUntil:
                  type: string
                  format: date-time
                displayTitle:
                  type: string
                  description: Guest-facing title
                displayDescription:
                  type: string
                  description: Guest-facing description
                displayImageUrl:
                  type: string
                  description: Gift card image URL
                restrictions:
                  type: array
                  items:
                    type: object
                    properties:
                      restrictionType:
                        type: string
                        enum:
                          - INCLUDE_ITEM
                          - EXCLUDE_ITEM
                          - INCLUDE_TAG
                          - EXCLUDE_TAG
                          - INCLUDE_LAYOUT
                          - EXCLUDE_LAYOUT
                      entityId:
                        type: number
                        description: Item/tag/layout ID
                    required:
                      - restrictionType
                      - entityId
                userRestrictions:
                  type: array
                  items:
                    type: object
                    properties:
                      restrictionType:
                        type: string
                        enum:
                          - EMAIL
                          - PHONE
                          - USER_ID
                          - SEGMENT_ID
                      value:
                        type: string
                        description: Email/phone/user_id/segment_id
                    required:
                      - restrictionType
                      - value
        required: true
      responses:
        "201":
          description: Voucher created successfully
          content:
            application/json:
              schema:
                description: Voucher created successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                      locationId:
                        type: number
                        nullable: true
                      companyId:
                        type: number
                        nullable: true
                      name:
                        type: string
                      code:
                        type: string
                      enabled:
                        type: boolean
                      voucherType:
                        type: string
                        enum:
                          - DISCOUNT_CODE
                          - GIFT_CARD
                          - PROMOTION
                          - LOYALTY_REWARD
                          - CAMPAIGN
                          - REFERRAL
                      balanceMode:
                        type: string
                        enum:
                          - NONE
                          - DECREMENTAL
                      typeSpecification:
                        type: object
                        properties:
                          type:
                            type: string
                            enum:
                              - percentage
                              - fixed
                              - balance
                              - free_item
                              - formula
                          amountInBasisPoints:
                            type: number
                            description: For percentage discounts (10000 = 100%)
                          amountInCents:
                            type: number
                            description: For fixed amount discounts
                          freeItemId:
                            type: number
                            description: For free item promotions
                          freeItemQuantity:
                            type: number
                            description: Quantity of free items
                          formula:
                            type: object
                            properties:
                              type:
                                type: string
                                enum:
                                  - buy_x_get_y
                                  - tiered
                                  - spend_threshold
                                  - bundle
                              rules:
                                type: object
                                description: Formula-specific rules
                        required:
                          - type
                      maxUses:
                        type: number
                        nullable: true
                      timesUsed:
                        type: number
                      perUserUses:
                        type: number
                        nullable: true
                      minOrderAmountCents:
                        type: number
                        nullable: true
                      maxDiscountAmountCents:
                        type: number
                        nullable: true
                      initialBalanceCents:
                        type: number
                        nullable: true
                      remainingBalanceCents:
                        type: number
                        nullable: true
                      canCombine:
                        type: boolean
                      autoApply:
                        type: boolean
                      validFrom:
                        type: string
                        format: date-time
                      validUntil:
                        type: string
                        format: date-time
                        nullable: true
                      displayTitle:
                        type: string
                        nullable: true
                      displayDescription:
                        type: string
                        nullable: true
                      displayImageUrl:
                        type: string
                        nullable: true
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
                      restrictions:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                            discountId:
                              type: number
                            restrictionType:
                              type: string
                              enum:
                                - INCLUDE_ITEM
                                - EXCLUDE_ITEM
                                - INCLUDE_TAG
                                - EXCLUDE_TAG
                                - INCLUDE_LAYOUT
                                - EXCLUDE_LAYOUT
                            entityId:
                              type: number
                            createdAt:
                              type: string
                              format: date-time
                      userRestrictions:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                            discountId:
                              type: number
                            restrictionType:
                              type: string
                              enum:
                                - EMAIL
                                - PHONE
                                - USER_ID
                                - SEGMENT_ID
                            value:
                              type: string
                            createdAt:
                              type: string
                              format: date-time
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
        "400":
          description: Bad Request - Invalid input
          content:
            application/json:
              schema:
                description: Bad Request - Invalid input
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                description: Unauthorized - Missing or invalid API key
                type: object
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                description: Forbidden - Insufficient permissions
                type: object
        "404":
          description: Not Found - Resource not found
          content:
            application/json:
              schema:
                description: Not Found - Resource not found
                type: object
        "409":
          description: Conflict - Duplicate voucher code
          content:
            application/json:
              schema:
                description: Conflict - Duplicate voucher code
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                description: Internal Server Error
                type: object
  /api/v1/vouchers/{id}:
    get:
      summary: Get voucher
      tags:
        - Vouchers
      description: >-
        Get single voucher with full details including restrictions and usage
        statistics


        **Permissions:** ðŸ”µ `vouchers.read`
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: Voucher ID
      responses:
        "200":
          description: Voucher details
          content:
            application/json:
              schema:
                description: Voucher details
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                      locationId:
                        type: number
                        nullable: true
                      companyId:
                        type: number
                        nullable: true
                      name:
                        type: string
                      code:
                        type: string
                      enabled:
                        type: boolean
                      voucherType:
                        type: string
                        enum:
                          - DISCOUNT_CODE
                          - GIFT_CARD
                          - PROMOTION
                          - LOYALTY_REWARD
                          - CAMPAIGN
                          - REFERRAL
                      balanceMode:
                        type: string
                        enum:
                          - NONE
                          - DECREMENTAL
                      typeSpecification:
                        type: object
                        properties:
                          type:
                            type: string
                            enum:
                              - percentage
                              - fixed
                              - balance
                              - free_item
                              - formula
                          amountInBasisPoints:
                            type: number
                            description: For percentage discounts (10000 = 100%)
                          amountInCents:
                            type: number
                            description: For fixed amount discounts
                          freeItemId:
                            type: number
                            description: For free item promotions
                          freeItemQuantity:
                            type: number
                            description: Quantity of free items
                          formula:
                            type: object
                            properties:
                              type:
                                type: string
                                enum:
                                  - buy_x_get_y
                                  - tiered
                                  - spend_threshold
                                  - bundle
                              rules:
                                type: object
                                description: Formula-specific rules
                        required:
                          - type
                      maxUses:
                        type: number
                        nullable: true
                      timesUsed:
                        type: number
                      perUserUses:
                        type: number
                        nullable: true
                      minOrderAmountCents:
                        type: number
                        nullable: true
                      maxDiscountAmountCents:
                        type: number
                        nullable: true
                      initialBalanceCents:
                        type: number
                        nullable: true
                      remainingBalanceCents:
                        type: number
                        nullable: true
                      canCombine:
                        type: boolean
                      autoApply:
                        type: boolean
                      validFrom:
                        type: string
                        format: date-time
                      validUntil:
                        type: string
                        format: date-time
                        nullable: true
                      displayTitle:
                        type: string
                        nullable: true
                      displayDescription:
                        type: string
                        nullable: true
                      displayImageUrl:
                        type: string
                        nullable: true
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
                      restrictions:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                            discountId:
                              type: number
                            restrictionType:
                              type: string
                              enum:
                                - INCLUDE_ITEM
                                - EXCLUDE_ITEM
                                - INCLUDE_TAG
                                - EXCLUDE_TAG
                                - INCLUDE_LAYOUT
                                - EXCLUDE_LAYOUT
                            entityId:
                              type: number
                            createdAt:
                              type: string
                              format: date-time
                      userRestrictions:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                            discountId:
                              type: number
                            restrictionType:
                              type: string
                              enum:
                                - EMAIL
                                - PHONE
                                - USER_ID
                                - SEGMENT_ID
                            value:
                              type: string
                            createdAt:
                              type: string
                              format: date-time
                      usageStats:
                        type: object
                        properties:
                          totalUses:
                            type: number
                          uniqueUsers:
                            type: number
                          totalDiscountedCents:
                            type: number
                          averageDiscountCents:
                            type: number
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
        "400":
          description: Bad Request - Invalid input
          content:
            application/json:
              schema:
                description: Bad Request - Invalid input
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                description: Unauthorized - Missing or invalid API key
                type: object
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                description: Forbidden - Insufficient permissions
                type: object
        "404":
          description: Not Found - Resource not found
          content:
            application/json:
              schema:
                description: Not Found - Resource not found
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                description: Internal Server Error
                type: object
    put:
      summary: Update voucher
      tags:
        - Vouchers
      description: |-
        Update an existing voucher

        **Permissions:** ðŸŸ  `vouchers.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                code:
                  type: string
                enabled:
                  type: boolean
                voucherType:
                  type: string
                  enum:
                    - DISCOUNT_CODE
                    - GIFT_CARD
                    - PROMOTION
                    - LOYALTY_REWARD
                    - CAMPAIGN
                    - REFERRAL
                typeSpecification:
                  type: object
                  properties:
                    type:
                      type: string
                      enum:
                        - percentage
                        - fixed
                        - balance
                        - free_item
                        - formula
                    amountInBasisPoints:
                      type: number
                      description: For percentage discounts (10000 = 100%)
                    amountInCents:
                      type: number
                      description: For fixed amount discounts
                    freeItemId:
                      type: number
                      description: For free item promotions
                    freeItemQuantity:
                      type: number
                      description: Quantity of free items
                    formula:
                      type: object
                      properties:
                        type:
                          type: string
                          enum:
                            - buy_x_get_y
                            - tiered
                            - spend_threshold
                            - bundle
                        rules:
                          type: object
                          description: Formula-specific rules
                  required:
                    - type
                maxUses:
                  type: number
                perUserUses:
                  type: number
                minOrderAmountCents:
                  type: number
                maxDiscountAmountCents:
                  type: number
                canCombine:
                  type: boolean
                autoApply:
                  type: boolean
                displayTitle:
                  type: string
                displayDescription:
                  type: string
                displayImageUrl:
                  type: string
                restrictions:
                  type: array
                  items:
                    type: object
                    properties:
                      restrictionType:
                        type: string
                        enum:
                          - INCLUDE_ITEM
                          - EXCLUDE_ITEM
                          - INCLUDE_TAG
                          - EXCLUDE_TAG
                          - INCLUDE_LAYOUT
                          - EXCLUDE_LAYOUT
                      entityId:
                        type: number
                userRestrictions:
                  type: array
                  items:
                    type: object
                    properties:
                      restrictionType:
                        type: string
                        enum:
                          - EMAIL
                          - PHONE
                          - USER_ID
                          - SEGMENT_ID
                      value:
                        type: string
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: Voucher ID
      responses:
        "200":
          description: Voucher updated successfully
          content:
            application/json:
              schema:
                description: Voucher updated successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                      locationId:
                        type: number
                        nullable: true
                      companyId:
                        type: number
                        nullable: true
                      name:
                        type: string
                      code:
                        type: string
                      enabled:
                        type: boolean
                      voucherType:
                        type: string
                        enum:
                          - DISCOUNT_CODE
                          - GIFT_CARD
                          - PROMOTION
                          - LOYALTY_REWARD
                          - CAMPAIGN
                          - REFERRAL
                      balanceMode:
                        type: string
                        enum:
                          - NONE
                          - DECREMENTAL
                      typeSpecification:
                        type: object
                        properties:
                          type:
                            type: string
                            enum:
                              - percentage
                              - fixed
                              - balance
                              - free_item
                              - formula
                          amountInBasisPoints:
                            type: number
                            description: For percentage discounts (10000 = 100%)
                          amountInCents:
                            type: number
                            description: For fixed amount discounts
                          freeItemId:
                            type: number
                            description: For free item promotions
                          freeItemQuantity:
                            type: number
                            description: Quantity of free items
                          formula:
                            type: object
                            properties:
                              type:
                                type: string
                                enum:
                                  - buy_x_get_y
                                  - tiered
                                  - spend_threshold
                                  - bundle
                              rules:
                                type: object
                                description: Formula-specific rules
                        required:
                          - type
                      maxUses:
                        type: number
                        nullable: true
                      timesUsed:
                        type: number
                      perUserUses:
                        type: number
                        nullable: true
                      minOrderAmountCents:
                        type: number
                        nullable: true
                      maxDiscountAmountCents:
                        type: number
                        nullable: true
                      initialBalanceCents:
                        type: number
                        nullable: true
                      remainingBalanceCents:
                        type: number
                        nullable: true
                      canCombine:
                        type: boolean
                      autoApply:
                        type: boolean
                      validFrom:
                        type: string
                        format: date-time
                      validUntil:
                        type: string
                        format: date-time
                        nullable: true
                      displayTitle:
                        type: string
                        nullable: true
                      displayDescription:
                        type: string
                        nullable: true
                      displayImageUrl:
                        type: string
                        nullable: true
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
                      restrictions:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                            discountId:
                              type: number
                            restrictionType:
                              type: string
                              enum:
                                - INCLUDE_ITEM
                                - EXCLUDE_ITEM
                                - INCLUDE_TAG
                                - EXCLUDE_TAG
                                - INCLUDE_LAYOUT
                                - EXCLUDE_LAYOUT
                            entityId:
                              type: number
                            createdAt:
                              type: string
                              format: date-time
                      userRestrictions:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                            discountId:
                              type: number
                            restrictionType:
                              type: string
                              enum:
                                - EMAIL
                                - PHONE
                                - USER_ID
                                - SEGMENT_ID
                            value:
                              type: string
                            createdAt:
                              type: string
                              format: date-time
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
        "400":
          description: Bad Request - Invalid input
          content:
            application/json:
              schema:
                description: Bad Request - Invalid input
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                description: Unauthorized - Missing or invalid API key
                type: object
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                description: Forbidden - Insufficient permissions
                type: object
        "404":
          description: Not Found - Resource not found
          content:
            application/json:
              schema:
                description: Not Found - Resource not found
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                description: Internal Server Error
                type: object
    delete:
      summary: Delete voucher
      tags:
        - Vouchers
      description: |-
        Soft delete (disable) a voucher

        **Permissions:** ðŸ”´ `vouchers.delete`
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: Voucher ID
      responses:
        "200":
          description: Voucher deleted successfully
          content:
            application/json:
              schema:
                description: Voucher deleted successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      message:
                        type: string
                      id:
                        type: number
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
        "400":
          description: Bad Request - Invalid input
          content:
            application/json:
              schema:
                description: Bad Request - Invalid input
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                description: Unauthorized - Missing or invalid API key
                type: object
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                description: Forbidden - Insufficient permissions
                type: object
        "404":
          description: Not Found - Resource not found
          content:
            application/json:
              schema:
                description: Not Found - Resource not found
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                description: Internal Server Error
                type: object
  /api/v1/vouchers/search:
    get:
      responses:
        "200":
          description: Default Response
  /api/v1/vouchers/validate:
    post:
      summary: Validate voucher(s)
      tags:
        - Vouchers
      description: Validate one or more voucher codes against a tab or specific
        kitchen dispatch items.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - codes
                - locationId
              properties:
                codes:
                  type: array
                  description: Array of voucher codes to validate
                  items:
                    type: string
                  minItems: 1
                locationId:
                  type: number
                  description: Location ID
                context:
                  type: object
                  description: Validation context
                  properties:
                    tabId:
                      type: string
                      description: Tab UUID
                    kitchenDispatchItems:
                      type: array
                      description: Kitchen dispatch item UUIDs for split payments
                      items:
                        type: string
                    totalAmountCents:
                      type: number
                      description: Total amount in cents for discount calculation
                    items:
                      type: array
                      description: Uncommitted items to validate against
                      items:
                        type: object
                        required:
                          - inventoryItemId
                          - quantity
                          - priceCents
                        properties:
                          inventoryItemId:
                            type: number
                            description: Inventory item ID
                          quantity:
                            type: number
                            description: Item quantity
                          priceCents:
                            type: number
                            description: Item price in cents
                          variantIds:
                            type: array
                            items:
                              type: number
                            description: Variant IDs
                          tagIds:
                            type: array
                            items:
                              type: number
                            description: Tag IDs
        required: true
      responses:
        "200":
          description: Validation results for all voucher codes
          content:
            application/json:
              schema:
                description: Validation results for all voucher codes
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      validations:
                        type: array
                        description: Validation results for each voucher code (in order)
                        items:
                          type: object
                          properties:
                            code:
                              type: string
                              description: The voucher code
                            valid:
                              type: boolean
                              description: Whether this voucher is valid
                            error:
                              type: string
                              nullable: true
                              description: Error code if invalid (NOT_FOUND, INTERNAL_ERROR, etc.)
                            message:
                              type: string
                              nullable: true
                              description: Human-readable error/status message
                            voucher:
                              type: object
                              properties:
                                id:
                                  type: number
                                locationId:
                                  type: number
                                  nullable: true
                                companyId:
                                  type: number
                                  nullable: true
                                name:
                                  type: string
                                code:
                                  type: string
                                enabled:
                                  type: boolean
                                voucherType:
                                  type: string
                                  enum:
                                    - DISCOUNT_CODE
                                    - GIFT_CARD
                                    - PROMOTION
                                    - LOYALTY_REWARD
                                    - CAMPAIGN
                                    - REFERRAL
                                balanceMode:
                                  type: string
                                  enum:
                                    - NONE
                                    - DECREMENTAL
                                typeSpecification:
                                  type: object
                                  properties:
                                    type:
                                      type: string
                                      enum:
                                        - percentage
                                        - fixed
                                        - balance
                                        - free_item
                                        - formula
                                    amountInBasisPoints:
                                      type: number
                                      description: For percentage discounts (10000 = 100%)
                                    amountInCents:
                                      type: number
                                      description: For fixed amount discounts
                                    freeItemId:
                                      type: number
                                      description: For free item promotions
                                    freeItemQuantity:
                                      type: number
                                      description: Quantity of free items
                                    formula:
                                      type: object
                                      properties:
                                        type:
                                          type: string
                                          enum:
                                            - buy_x_get_y
                                            - tiered
                                            - spend_threshold
                                            - bundle
                                        rules:
                                          type: object
                                          description: Formula-specific rules
                                  required:
                                    - type
                                maxUses:
                                  type: number
                                  nullable: true
                                timesUsed:
                                  type: number
                                perUserUses:
                                  type: number
                                  nullable: true
                                minOrderAmountCents:
                                  type: number
                                  nullable: true
                                maxDiscountAmountCents:
                                  type: number
                                  nullable: true
                                initialBalanceCents:
                                  type: number
                                  nullable: true
                                remainingBalanceCents:
                                  type: number
                                  nullable: true
                                canCombine:
                                  type: boolean
                                autoApply:
                                  type: boolean
                                validFrom:
                                  type: string
                                  format: date-time
                                validUntil:
                                  type: string
                                  format: date-time
                                  nullable: true
                                displayTitle:
                                  type: string
                                  nullable: true
                                displayDescription:
                                  type: string
                                  nullable: true
                                displayImageUrl:
                                  type: string
                                  nullable: true
                                createdAt:
                                  type: string
                                  format: date-time
                                updatedAt:
                                  type: string
                                  format: date-time
                              nullable: true
                              description: Voucher details (if found)
                            discount:
                              type: object
                              nullable: true
                              description: Discount calculation details
                              properties:
                                estimatedDiscountCents:
                                  type: number
                                  description: Estimated discount in cents
                                discountType:
                                  type: string
                                  description: Type of discount (percentage, fixed, free_item, etc.)
                            newTotalCents:
                              type: number
                              nullable: true
                              description: New running total after this voucher (for sequential validation)
                            orderIndex:
                              type: number
                              description: Index position in the validation order (0-indexed)
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
        "400":
          description: Bad Request - Invalid input
          content:
            application/json:
              schema:
                description: Bad Request - Invalid input
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                description: Unauthorized - Missing or invalid API key
                type: object
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                description: Forbidden - Insufficient permissions
                type: object
        "404":
          description: Not Found - Resource not found
          content:
            application/json:
              schema:
                description: Not Found - Resource not found
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                description: Internal Server Error
                type: object
  /api/v1/vouchers/eligible:
    post:
      summary: Get eligible vouchers
      tags:
        - Vouchers
      description: >-
        Get vouchers eligible for a location/tab. Returns promotions and
        user-restricted vouchers.


        **Permissions:** ðŸ”µ `vouchers.read`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - locationId
              properties:
                locationId:
                  type: number
                  description: Location ID (required)
                tabId:
                  type: string
                  description: Tab UUID - will fetch user IDs from tab members
                userIds:
                  type: array
                  items:
                    type: number
                  description: Direct user IDs to check for user-restricted vouchers
                items:
                  type: array
                  description: Cart items for item-based validation (future enhancement)
                  items:
                    type: object
                    properties:
                      item_id:
                        type: number
                        description: Item ID
                      quantity:
                        type: number
                        description: Quantity
                      price_cents:
                        type: number
                        description: Price in cents
                      tags:
                        type: array
                        items:
                          type: number
                        description: Tag IDs
                      layout_id:
                        type: number
                        description: Layout ID
                totalAmountCents:
                  type: number
                  description: Total order amount for min order validation
        required: true
      responses:
        "200":
          description: List of eligible vouchers
          content:
            application/json:
              schema:
                description: List of eligible vouchers
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      vouchers:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                            code:
                              type: string
                            name:
                              type: string
                            voucherType:
                              type: string
                              enum:
                                - DISCOUNT_CODE
                                - GIFT_CARD
                                - PROMOTION
                                - LOYALTY_REWARD
                                - CAMPAIGN
                                - REFERRAL
                            isPromotion:
                              type: boolean
                              description: True if voucher_type = PROMOTION
                            isUserVoucher:
                              type: boolean
                              description: True if voucher has USER_ID restriction matching provided users
                            typeSpecification:
                              type: object
                              properties:
                                type:
                                  type: string
                                  enum:
                                    - percentage
                                    - fixed
                                    - balance
                                    - free_item
                                    - formula
                                amountInBasisPoints:
                                  type: number
                                  description: For percentage discounts (10000 = 100%)
                                amountInCents:
                                  type: number
                                  description: For fixed amount discounts
                                freeItemId:
                                  type: number
                                  description: For free item promotions
                                freeItemQuantity:
                                  type: number
                                  description: Quantity of free items
                                formula:
                                  type: object
                                  properties:
                                    type:
                                      type: string
                                      enum:
                                        - buy_x_get_y
                                        - tiered
                                        - spend_threshold
                                        - bundle
                                    rules:
                                      type: object
                                      description: Formula-specific rules
                              required:
                                - type
                              nullable: true
                            displayTitle:
                              type: string
                              nullable: true
                            displayDescription:
                              type: string
                              nullable: true
                            maxDiscountAmountCents:
                              type: number
                              nullable: true
                            remainingBalanceCents:
                              type: number
                              nullable: true
                            maxUses:
                              type: number
                              nullable: true
                            timesUsed:
                              type: number
                            hasUsesLeft:
                              type: boolean
                              description: True if maxUses is null OR timesUsed < maxUses
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
        "400":
          description: Bad Request - Invalid input
          content:
            application/json:
              schema:
                description: Bad Request - Invalid input
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                description: Unauthorized - Missing or invalid API key
                type: object
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                description: Forbidden - Insufficient permissions
                type: object
        "404":
          description: Not Found - Resource not found
          content:
            application/json:
              schema:
                description: Not Found - Resource not found
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                description: Internal Server Error
                type: object
  /api/v1/vouchers/apply:
    post:
      responses:
        "200":
          description: Default Response
  /api/v1/vouchers/consume:
    post:
      responses:
        "200":
          description: Default Response
  /api/v1/vouchers/release:
    post:
      responses:
        "200":
          description: Default Response
  /api/v1/vouchers/reservations:
    get:
      responses:
        "200":
          description: Default Response
  /api/v1/vouchers/applied/{id}:
    delete:
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
  /api/v1/loyalty/programs:
    get:
      summary: List loyalty programs
      tags:
        - Loyalty Programs
      description: |-
        List loyalty programs with optional filtering

        **Permissions:** ðŸ”µ `loyalty.read`
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: false
          description: Filter by location ID
        - schema:
            type: boolean
          in: query
          name: isActive
          required: false
          description: Filter by active status
        - schema:
            type: number
            minimum: 1
            default: 1
          in: query
          name: page
          required: false
          description: Page number
        - schema:
            type: number
            minimum: 1
            maximum: 1000
            default: 50
          in: query
          name: limit
          required: false
          description: Items per page
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      programs:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                              description: Loyalty program ID
                            locationId:
                              type: number
                              description: Location ID
                            name:
                              type: string
                              description: Program name
                            description:
                              type: string
                              nullable: true
                              description: Program description
                            currency:
                              type: string
                              description: Currency code (e.g., SEK, USD)
                            isActive:
                              type: boolean
                              description: Whether program is active
                            startDate:
                              type: string
                              format: date
                              nullable: true
                              description: Program start date
                            endDate:
                              type: string
                              format: date
                              nullable: true
                              description: Program end date
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              description: Last update timestamp
                          additionalProperties: false
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                            minimum: 1
                          limit:
                            type: number
                            minimum: 1
                            maximum: 100
                          total:
                            type: number
                            minimum: 0
                          totalPages:
                            type: number
                            minimum: 0
                        required:
                          - page
                          - limit
                          - total
                          - totalPages
                    required:
                      - programs
                      - pagination
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    post:
      summary: Create loyalty program
      tags:
        - Loyalty Programs
      description: |-
        Create a new loyalty program

        **Permissions:** ðŸŸ¢ `loyalty.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                locationId:
                  type: number
                  description: Location ID
                name:
                  type: string
                  minLength: 1
                  description: Program name
                description:
                  type: string
                  description: Program description
                currency:
                  type: string
                  default: SEK
                  description: Currency code
                isActive:
                  type: boolean
                  default: true
                  description: Whether program is active
                startDate:
                  type: string
                  format: date
                  description: Program start date
                endDate:
                  type: string
                  format: date
                  description: Program end date
              required:
                - locationId
                - name
        required: true
      responses:
        "201":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                        description: Loyalty program ID
                      locationId:
                        type: number
                        description: Location ID
                      name:
                        type: string
                        description: Program name
                      description:
                        type: string
                        nullable: true
                        description: Program description
                      currency:
                        type: string
                        description: Currency code (e.g., SEK, USD)
                      isActive:
                        type: boolean
                        description: Whether program is active
                      startDate:
                        type: string
                        format: date
                        nullable: true
                        description: Program start date
                      endDate:
                        type: string
                        format: date
                        nullable: true
                        description: Program end date
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Last update timestamp
                    additionalProperties: false
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/loyalty/programs/{id}:
    get:
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
    put:
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
  /api/v1/loyalty/programs/{programId}/tiers:
    get:
      parameters:
        - schema:
            type: string
          in: path
          name: programId
          required: true
      responses:
        "200":
          description: Default Response
  /api/v1/loyalty/tiers:
    post:
      responses:
        "200":
          description: Default Response
  /api/v1/loyalty/tiers/{id}:
    put:
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
    delete:
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
  /api/v1/loyalty/programs/{programId}/accounts:
    get:
      parameters:
        - schema:
            type: string
          in: path
          name: programId
          required: true
      responses:
        "200":
          description: Default Response
  /api/v1/loyalty/programs/{programId}/users/{userId}/account:
    get:
      parameters:
        - schema:
            type: string
          in: path
          name: programId
          required: true
        - schema:
            type: string
          in: path
          name: userId
          required: true
      responses:
        "200":
          description: Default Response
  /api/v1/loyalty/transactions:
    get:
      responses:
        "200":
          description: Default Response
  /api/v1/loyalty/programs/{programId}/earning-rules:
    get:
      parameters:
        - schema:
            type: string
          in: path
          name: programId
          required: true
      responses:
        "200":
          description: Default Response
  /api/v1/loyalty/earning-rules:
    post:
      responses:
        "200":
          description: Default Response
  /api/v1/loyalty/earning-rules/{id}:
    put:
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
    delete:
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
  /api/v1/loyalty/programs/{programId}/rewards:
    get:
      parameters:
        - schema:
            type: string
          in: path
          name: programId
          required: true
      responses:
        "200":
          description: Default Response
  /api/v1/loyalty/rewards:
    post:
      responses:
        "200":
          description: Default Response
  /api/v1/loyalty/rewards/{id}:
    put:
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
    delete:
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
  /api/v1/loyalty/programs/{programId}/users/{userId}/redemptions:
    get:
      parameters:
        - schema:
            type: string
          in: path
          name: programId
          required: true
        - schema:
            type: string
          in: path
          name: userId
          required: true
      responses:
        "200":
          description: Default Response
  /api/v1/loyalty/enroll:
    post:
      responses:
        "200":
          description: Default Response
  /api/v1/loyalty/enroll/bulk:
    post:
      responses:
        "200":
          description: Default Response
  /api/v1/loyalty/{programId}/members:
    get:
      parameters:
        - schema:
            type: string
          in: path
          name: programId
          required: true
      responses:
        "200":
          description: Default Response
  /api/v1/loyalty/{programId}/members/{userId}:
    get:
      parameters:
        - schema:
            type: string
          in: path
          name: programId
          required: true
        - schema:
            type: string
          in: path
          name: userId
          required: true
      responses:
        "200":
          description: Default Response
  /api/v1/loyalty/{programId}/members/{userId}/redemptions:
    get:
      parameters:
        - schema:
            type: string
          in: path
          name: programId
          required: true
        - schema:
            type: string
          in: path
          name: userId
          required: true
      responses:
        "200":
          description: Default Response
  /api/v1/loyalty/{programId}/redeem/{rewardId}:
    post:
      parameters:
        - schema:
            type: string
          in: path
          name: programId
          required: true
        - schema:
            type: string
          in: path
          name: rewardId
          required: true
      responses:
        "200":
          description: Default Response
  /api/v1/loyalty/{programId}/members/{userId}/adjust-points:
    post:
      parameters:
        - schema:
            type: string
          in: path
          name: programId
          required: true
        - schema:
            type: string
          in: path
          name: userId
          required: true
      responses:
        "200":
          description: Default Response
  /api/v1/loyalty/users/{userId}/programs:
    get:
      summary: Get user enrolled programs
      tags:
        - Loyalty Programs
      description: >-
        Get all loyalty programs a user is enrolled in with account details and
        current tier. Users can only view their own enrollments. API keys with
        'loyalty.read' permission can view any user's enrollments.


        **Permissions:** ðŸ”µ `loyalty.read`
      parameters:
        - schema:
            type: string
            pattern: ^[0-9]+$
          in: path
          name: userId
          required: true
          description: User ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      programs:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                              description: Loyalty program ID
                            locationId:
                              type: number
                              description: Location ID
                            name:
                              type: string
                              description: Program name
                            description:
                              type: string
                              nullable: true
                              description: Program description
                            currency:
                              type: string
                              description: Currency code (e.g., SEK, USD)
                            isActive:
                              type: boolean
                              description: Whether program is active
                            startDate:
                              type: string
                              format: date
                              nullable: true
                              description: Program start date
                            endDate:
                              type: string
                              format: date
                              nullable: true
                              description: Program end date
                            loyaltyCardImage:
                              type: string
                              nullable: true
                              description: Loyalty card image URL
                            loyaltyColor:
                              type: string
                              nullable: true
                              description: Loyalty card color (hex)
                            createdAt:
                              type: string
                              format: date-time
                              description: Program creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              description: Program last update timestamp
                            enrollment:
                              type: object
                              properties:
                                accountId:
                                  type: number
                                  description: Points account ID
                                currentBalance:
                                  type: number
                                  description: Current points balance
                                lifetimeEarned:
                                  type: number
                                  description: Total points earned all-time
                                lifetimeRedeemed:
                                  type: number
                                  description: Total points redeemed all-time
                                lifetimeExpired:
                                  type: number
                                  description: Total points expired all-time
                                enrolledAt:
                                  type: string
                                  format: date-time
                                  description: Enrollment timestamp
                                updatedAt:
                                  type: string
                                  format: date-time
                                  description: Account last update timestamp
                              required:
                                - accountId
                                - currentBalance
                                - lifetimeEarned
                                - lifetimeRedeemed
                                - lifetimeExpired
                                - enrolledAt
                                - updatedAt
                            currentTier:
                              oneOf:
                                - type: object
                                  properties:
                                    id:
                                      type: number
                                      description: Tier ID
                                    name:
                                      type: string
                                      description: Tier name
                                    description:
                                      type: string
                                      nullable: true
                                      description: Tier description
                                    pointsThreshold:
                                      type: number
                                      description: Points required for this tier
                                    thresholdType:
                                      type: string
                                      description: LIFETIME_POINTS or ROLLING_PERIOD
                                    benefits:
                                      description: Tier benefits (JSON)
                                    tierCardImageUrl:
                                      type: string
                                      nullable: true
                                      description: Tier card image URL
                                    tierColor:
                                      type: string
                                      nullable: true
                                      description: Tier color
                                  required:
                                    - id
                                    - name
                                    - pointsThreshold
                                    - thresholdType
                                  additionalProperties: false
                                - type: "null"
                              description: Current tier information, or null if no tier
                          required:
                            - id
                            - locationId
                            - name
                            - currency
                            - isActive
                            - createdAt
                            - updatedAt
                            - enrollment
                            - currentTier
                          additionalProperties: false
                        description: List of loyalty programs the user is enrolled in
                    required:
                      - programs
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/loyalty/points/award:
    post:
      tags:
        - Loyalty Programs
      description: >-
        Award points to a user manually. Used for promotional points, customer
        service adjustments, or manual corrections.


        **Permissions:** ðŸŸ¢ `loyalty.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                userId:
                  type: number
                  description: User ID to award points to
                loyaltyProgramId:
                  type: number
                  description: Loyalty program ID
                points:
                  type: number
                  minimum: 1
                  description: Number of points to award (must be positive)
                description:
                  type: string
                  description: Reason for awarding points
                metadata:
                  type: object
                  additionalProperties: true
                  description: Optional metadata for tracking
              required:
                - userId
                - loyaltyProgramId
                - points
                - description
        required: true
      responses:
        "201":
          description: Points awarded successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      transactionId:
                        type: number
                        description: Transaction ID
                      points:
                        type: number
                        description: Points involved in the transaction
                      description:
                        type: string
                        description: Transaction description
                      createdAt:
                        type: string
                        format: date-time
                        description: Transaction creation timestamp
                    required:
                      - transactionId
                      - points
                      - description
                      - createdAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/loyalty/points/deduct:
    post:
      tags:
        - Loyalty Programs
      description: >-
        Deduct points from a user. Used for manual adjustments or corrections.
        For redemptions, use the redemption endpoints.


        **Permissions:** ðŸŸ¢ `loyalty.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                userId:
                  type: number
                  description: User ID to deduct points from
                loyaltyProgramId:
                  type: number
                  description: Loyalty program ID
                points:
                  type: number
                  minimum: 1
                  description: Number of points to deduct (must be positive)
                description:
                  type: string
                  description: Reason for deducting points
                metadata:
                  type: object
                  additionalProperties: true
                  description: Optional metadata for tracking
              required:
                - userId
                - loyaltyProgramId
                - points
                - description
        required: true
      responses:
        "200":
          description: Points deducted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      transactionId:
                        type: number
                        description: Transaction ID
                      points:
                        type: number
                        description: Points involved in the transaction
                      description:
                        type: string
                        description: Transaction description
                      createdAt:
                        type: string
                        format: date-time
                        description: Transaction creation timestamp
                    required:
                      - transactionId
                      - points
                      - description
                      - createdAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/loyalty/points/process-purchase:
    post:
      tags:
        - Loyalty Programs
      description: >-
        Process points from a purchase. Called after a purchase is completed to
        calculate and award earned points based on earning rules.


        **Permissions:** ðŸŸ¢ `loyalty.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                userId:
                  type: number
                  description: User ID who made the purchase
                loyaltyProgramId:
                  type: number
                  description: Loyalty program ID
                purchaseId:
                  type: number
                  description: Purchase ID to process
                purchaseAmountCents:
                  type: number
                  description: Total purchase amount in cents
                itemIds:
                  type: array
                  items:
                    type: number
                  description: Array of item IDs in the purchase (for item-based earning rules)
              required:
                - userId
                - loyaltyProgramId
                - purchaseId
                - purchaseAmountCents
        required: true
      responses:
        "200":
          description: Purchase processed (no points earned)
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      pointsAwarded:
                        type: number
                        description: Points awarded (0 if none earned)
                      message:
                        type: string
                        description: Explanation message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "201":
          description: Points awarded for purchase
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      transactionId:
                        type: number
                        description: Transaction ID
                      pointsAwarded:
                        type: number
                        description: Points awarded
                      createdAt:
                        type: string
                        format: date-time
                        description: Transaction timestamp
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/loyalty/points/estimate:
    post:
      tags:
        - Loyalty Programs
      description: Estimate points that would be earned from a purchase. Used to
        display earning preview at checkout before the purchase is committed. No
        authentication required - called from storefront.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                loyaltyProgramId:
                  type: number
                  description: Loyalty program ID
                purchaseAmountCents:
                  type: number
                  minimum: 0
                  description: Estimated purchase amount in cents
                itemIds:
                  type: array
                  items:
                    type: number
                  description: Array of item IDs in the cart (for item-based earning rules)
                userTierId:
                  type: number
                  nullable: true
                  description: User tier ID for tier-specific multipliers (optional)
              required:
                - loyaltyProgramId
                - purchaseAmountCents
        required: true
      responses:
        "200":
          description: Points estimate calculated
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      estimatedPoints:
                        type: number
                        description: Total estimated points (with multipliers)
                      basePoints:
                        type: number
                        description: Base points before multipliers
                      appliedRules:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                              description: Rule ID
                            name:
                              type: string
                              description: Rule name
                            ruleType:
                              type: string
                              enum:
                                - SPEND_BASED
                                - ITEM_BASED
                              description: Type of earning rule
                            pointsAwarded:
                              type: number
                              description: Points from this rule
                        description: List of earning rules applied
                      activeMultiplier:
                        type: number
                        nullable: true
                        description: Active multiplier (if any double points promotion is active)
                    required:
                      - estimatedPoints
                      - basePoints
                      - appliedRules
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/loyalty/{programId}/members/{userId}/wallet-pass:
    get:
      tags:
        - loyalty-passes
      description: Generate Apple Wallet pass for loyalty member
      parameters:
        - schema:
            type: string
          in: path
          name: programId
          required: true
          description: Loyalty program ID
        - schema:
            type: string
          in: path
          name: userId
          required: true
          description: User ID
      responses:
        "200":
          description: Apple Wallet Pass file (.pkpass)
          content:
            application/vnd.apple.pkpass:
              schema:
                type: string
                format: binary
        "400":
          description: Invalid parameters
          content:
            application/json:
              schema:
                description: Invalid parameters
                type: object
                properties:
                  status:
                    type: string
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
        "404":
          description: Member not found
          content:
            application/json:
              schema:
                description: Member not found
                type: object
                properties:
                  status:
                    type: string
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
  /api/v1/loyalty/validate:
    post:
      tags:
        - loyalty
      description: Validate loyalty membership for multiple users by userId, email,
        phone, or cardId
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                users:
                  type: array
                  description: Array of user identifiers to validate
                  items:
                    type: object
                    properties:
                      userId:
                        type: number
                        description: User ID (optional if email, phone, or cardId provided)
                      email:
                        type: string
                        description: User email (optional if userId, phone, or cardId provided)
                      phone:
                        type: string
                        description: User phone (optional if userId, email, or cardId provided)
                      cardId:
                        type: string
                        description: Loyalty card ID (optional if userId, email, or phone provided)
                    minProperties: 1
              required:
                - users
        required: true
      responses:
        "200":
          description: Loyalty validation results
          content:
            application/json:
              schema:
                description: Loyalty validation results
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      hasLoyaltyProgram:
                        type: boolean
                        description: Whether this location has an active loyalty program
                      programId:
                        type: number
                        nullable: true
                        description: Loyalty program ID (null if no program)
                      programName:
                        type: string
                        nullable: true
                        description: Loyalty program name (null if no program)
                      users:
                        type: array
                        description: Enrollment status for each requested user
                        items:
                          type: object
                          properties:
                            userId:
                              type: number
                              nullable: true
                              description: User ID if found
                            email:
                              type: string
                              nullable: true
                              description: User email if found
                            phone:
                              type: string
                              nullable: true
                              description: User phone if found
                            cardId:
                              type: string
                              nullable: true
                              description: Loyalty card ID if found
                            isEnrolled:
                              type: boolean
                              description: Whether user is enrolled in loyalty program
                            currentBalance:
                              type: number
                              nullable: true
                              description: Current loyalty points balance (null if not enrolled)
                            lifetimeEarned:
                              type: number
                              nullable: true
                              description: Total points earned all time (null if not enrolled)
                            lifetimeRedeemed:
                              type: number
                              nullable: true
                              description: Total points redeemed all time (null if not enrolled)
                            currentTier:
                              type: string
                              nullable: true
                              description: Current tier name (null if not enrolled or no tiers)
                            accountId:
                              type: number
                              nullable: true
                              description: Loyalty account ID (null if not enrolled)
                          required:
                            - userId
                            - email
                            - phone
                            - cardId
                            - isEnrolled
                            - currentBalance
                            - lifetimeEarned
                            - lifetimeRedeemed
                            - currentTier
                            - accountId
                    required:
                      - hasLoyaltyProgram
                      - programId
                      - programName
                      - users
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/invoice-location-settings:
    get:
      summary: Get invoice location settings
      tags:
        - Invoices
      description: >-
        Retrieve invoice settings for a specific location. Creates default
        settings if none exist.


        **Permissions:** ðŸ”µ `invoices.read`
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: true
          description: Location ID to fetch settings for (required)
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Settings UUID
                      locationId:
                        type: number
                        description: Location ID
                      defaultPaymentTermsDays:
                        type: number
                        description: Default payment terms in days
                        default: 30
                      invoiceNumberPrefix:
                        type: string
                        nullable: true
                        description: Prefix for invoice numbers (e.g., "INV")
                      invoiceNumberCounter:
                        type: number
                        description: Current invoice number counter
                      minInvoiceAmount:
                        type: number
                        description: Minimum amount for invoicing
                      senderName:
                        type: string
                        nullable: true
                        description: Sender/company name
                      senderAddressLine1:
                        type: string
                        nullable: true
                        description: Sender address line 1
                      senderAddressLine2:
                        type: string
                        nullable: true
                        description: Sender address line 2
                      senderPostalCode:
                        type: string
                        nullable: true
                        description: Sender postal code
                      senderCity:
                        type: string
                        nullable: true
                        description: Sender city
                      senderCountry:
                        type: string
                        nullable: true
                        description: Sender country
                      senderEmail:
                        type: string
                        nullable: true
                        description: Sender email address
                      senderPhone:
                        type: string
                        nullable: true
                        description: Sender phone number
                      senderOrganizationNumber:
                        type: string
                        nullable: true
                        description: Sender organization number
                      senderVatNumber:
                        type: string
                        nullable: true
                        description: Sender VAT number
                      bankAccountNumber:
                        type: string
                        nullable: true
                        description: Bank account number
                      bankName:
                        type: string
                        nullable: true
                        description: Bank name
                      swiftBic:
                        type: string
                        nullable: true
                        description: SWIFT/BIC code
                      iban:
                        type: string
                        nullable: true
                        description: IBAN
                      paymentReferencePrefix:
                        type: string
                        nullable: true
                        description: Payment reference prefix
                      invoiceFooterText:
                        type: string
                        nullable: true
                        description: Footer text for invoices
                      invoiceTermsText:
                        type: string
                        nullable: true
                        description: Terms and conditions text
                      latePaymentFee:
                        type: number
                        description: Late payment fee amount
                      latePaymentInterestRate:
                        type: number
                        description: Late payment interest rate (percentage)
                      autoGenerateEnabled:
                        type: boolean
                        description: Enable automatic invoice generation
                      autoSendOnGeneration:
                        type: boolean
                        description: Automatically send invoices when generated
                      collectionPeriodType:
                        type: string
                        enum:
                          - calendar_month
                          - rolling_30_days
                          - weekly
                        description: Collection period type for auto-invoicing
                      reminderEnabled:
                        type: boolean
                        description: Enable payment reminders
                      firstReminderDaysAfterDue:
                        type: number
                        description: Days after due date for first reminder
                      secondReminderDaysAfterDue:
                        type: number
                        description: Days after due date for second reminder
                      thirdReminderDaysAfterDue:
                        type: number
                        description: Days after due date for third reminder
                      reminderFeeAmount:
                        type: number
                        description: Fee amount added per reminder
                      autoMarkOverdueDays:
                        type: number
                        description: Days after due date to auto-mark as overdue
                      currency:
                        type: string
                        description: Currency code (e.g., SEK, EUR)
                      createdAt:
                        type: string
                        format: date-time
                        description: Created timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Updated timestamp
                    required:
                      - id
                      - locationId
                      - defaultPaymentTermsDays
                      - invoiceNumberCounter
                      - minInvoiceAmount
                      - latePaymentFee
                      - latePaymentInterestRate
                      - autoGenerateEnabled
                      - autoSendOnGeneration
                      - collectionPeriodType
                      - reminderEnabled
                      - firstReminderDaysAfterDue
                      - secondReminderDaysAfterDue
                      - thirdReminderDaysAfterDue
                      - reminderFeeAmount
                      - autoMarkOverdueDays
                      - currency
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    put:
      summary: Update invoice location settings
      tags:
        - Invoices
      description: >-
        Update invoice settings for a specific location. Creates settings if
        they do not exist (upsert). All fields except locationId are optional
        for partial updates.


        **Permissions:** ðŸŸ  `invoices.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                locationId:
                  type: number
                  description: Location ID (required)
                defaultPaymentTermsDays:
                  type: number
                  description: Default payment terms in days
                invoiceNumberPrefix:
                  type: string
                  nullable: true
                  description: Prefix for invoice numbers
                minInvoiceAmount:
                  type: number
                  description: Minimum amount for invoicing
                senderName:
                  type: string
                  nullable: true
                  description: Sender/company name
                senderAddressLine1:
                  type: string
                  nullable: true
                  description: Sender address line 1
                senderAddressLine2:
                  type: string
                  nullable: true
                  description: Sender address line 2
                senderPostalCode:
                  type: string
                  nullable: true
                  description: Sender postal code
                senderCity:
                  type: string
                  nullable: true
                  description: Sender city
                senderCountry:
                  type: string
                  nullable: true
                  description: Sender country
                senderEmail:
                  type: string
                  nullable: true
                  description: Sender email address
                senderPhone:
                  type: string
                  nullable: true
                  description: Sender phone number
                senderOrganizationNumber:
                  type: string
                  nullable: true
                  description: Sender organization number
                senderVatNumber:
                  type: string
                  nullable: true
                  description: Sender VAT number
                bankAccountNumber:
                  type: string
                  nullable: true
                  description: Bank account number
                bankName:
                  type: string
                  nullable: true
                  description: Bank name
                swiftBic:
                  type: string
                  nullable: true
                  description: SWIFT/BIC code
                iban:
                  type: string
                  nullable: true
                  description: IBAN
                paymentReferencePrefix:
                  type: string
                  nullable: true
                  description: Payment reference prefix
                invoiceFooterText:
                  type: string
                  nullable: true
                  description: Footer text for invoices
                invoiceTermsText:
                  type: string
                  nullable: true
                  description: Terms and conditions text
                latePaymentFee:
                  type: number
                  description: Late payment fee amount
                latePaymentInterestRate:
                  type: number
                  description: Late payment interest rate (percentage)
                autoGenerateEnabled:
                  type: boolean
                  description: Enable automatic invoice generation
                autoSendOnGeneration:
                  type: boolean
                  description: Automatically send invoices when generated
                collectionPeriodType:
                  type: string
                  enum:
                    - calendar_month
                    - rolling_30_days
                    - weekly
                  description: Collection period type for auto-invoicing
                reminderEnabled:
                  type: boolean
                  description: Enable payment reminders
                firstReminderDaysAfterDue:
                  type: number
                  description: Days after due date for first reminder
                secondReminderDaysAfterDue:
                  type: number
                  description: Days after due date for second reminder
                thirdReminderDaysAfterDue:
                  type: number
                  description: Days after due date for third reminder
                reminderFeeAmount:
                  type: number
                  description: Fee amount added per reminder
                autoMarkOverdueDays:
                  type: number
                  description: Days after due date to auto-mark as overdue
                currency:
                  type: string
                  description: Currency code (e.g., SEK, EUR)
              required:
                - locationId
        required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Settings UUID
                      locationId:
                        type: number
                        description: Location ID
                      defaultPaymentTermsDays:
                        type: number
                        description: Default payment terms in days
                        default: 30
                      invoiceNumberPrefix:
                        type: string
                        nullable: true
                        description: Prefix for invoice numbers (e.g., "INV")
                      invoiceNumberCounter:
                        type: number
                        description: Current invoice number counter
                      minInvoiceAmount:
                        type: number
                        description: Minimum amount for invoicing
                      senderName:
                        type: string
                        nullable: true
                        description: Sender/company name
                      senderAddressLine1:
                        type: string
                        nullable: true
                        description: Sender address line 1
                      senderAddressLine2:
                        type: string
                        nullable: true
                        description: Sender address line 2
                      senderPostalCode:
                        type: string
                        nullable: true
                        description: Sender postal code
                      senderCity:
                        type: string
                        nullable: true
                        description: Sender city
                      senderCountry:
                        type: string
                        nullable: true
                        description: Sender country
                      senderEmail:
                        type: string
                        nullable: true
                        description: Sender email address
                      senderPhone:
                        type: string
                        nullable: true
                        description: Sender phone number
                      senderOrganizationNumber:
                        type: string
                        nullable: true
                        description: Sender organization number
                      senderVatNumber:
                        type: string
                        nullable: true
                        description: Sender VAT number
                      bankAccountNumber:
                        type: string
                        nullable: true
                        description: Bank account number
                      bankName:
                        type: string
                        nullable: true
                        description: Bank name
                      swiftBic:
                        type: string
                        nullable: true
                        description: SWIFT/BIC code
                      iban:
                        type: string
                        nullable: true
                        description: IBAN
                      paymentReferencePrefix:
                        type: string
                        nullable: true
                        description: Payment reference prefix
                      invoiceFooterText:
                        type: string
                        nullable: true
                        description: Footer text for invoices
                      invoiceTermsText:
                        type: string
                        nullable: true
                        description: Terms and conditions text
                      latePaymentFee:
                        type: number
                        description: Late payment fee amount
                      latePaymentInterestRate:
                        type: number
                        description: Late payment interest rate (percentage)
                      autoGenerateEnabled:
                        type: boolean
                        description: Enable automatic invoice generation
                      autoSendOnGeneration:
                        type: boolean
                        description: Automatically send invoices when generated
                      collectionPeriodType:
                        type: string
                        enum:
                          - calendar_month
                          - rolling_30_days
                          - weekly
                        description: Collection period type for auto-invoicing
                      reminderEnabled:
                        type: boolean
                        description: Enable payment reminders
                      firstReminderDaysAfterDue:
                        type: number
                        description: Days after due date for first reminder
                      secondReminderDaysAfterDue:
                        type: number
                        description: Days after due date for second reminder
                      thirdReminderDaysAfterDue:
                        type: number
                        description: Days after due date for third reminder
                      reminderFeeAmount:
                        type: number
                        description: Fee amount added per reminder
                      autoMarkOverdueDays:
                        type: number
                        description: Days after due date to auto-mark as overdue
                      currency:
                        type: string
                        description: Currency code (e.g., SEK, EUR)
                      createdAt:
                        type: string
                        format: date-time
                        description: Created timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Updated timestamp
                    required:
                      - id
                      - locationId
                      - defaultPaymentTermsDays
                      - invoiceNumberCounter
                      - minInvoiceAmount
                      - latePaymentFee
                      - latePaymentInterestRate
                      - autoGenerateEnabled
                      - autoSendOnGeneration
                      - collectionPeriodType
                      - reminderEnabled
                      - firstReminderDaysAfterDue
                      - secondReminderDaysAfterDue
                      - thirdReminderDaysAfterDue
                      - reminderFeeAmount
                      - autoMarkOverdueDays
                      - currency
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/invoice-recipients:
    get:
      summary: List invoice recipients
      tags:
        - Invoices
      description: >-
        List all invoice recipients for a location with optional filtering and
        pagination.


        **Permissions:** ðŸ”µ `invoices.read`
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: true
          description: Location ID (required)
        - schema:
            type: boolean
          in: query
          name: isActive
          required: false
          description: Filter by active status
        - schema:
            type: number
            minimum: 1
            default: 1
          in: query
          name: page
          required: false
          description: Page number
        - schema:
            type: number
            minimum: 1
            maximum: 100
            default: 50
          in: query
          name: limit
          required: false
          description: Items per page
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              format: uuid
                              description: Recipient UUID
                            locationId:
                              type: number
                              description: Location ID
                            name:
                              type: string
                              description: Recipient name
                            email:
                              type: string
                              description: Email address
                            organizationName:
                              type: string
                              nullable: true
                              description: Organization/company name
                            organizationNumber:
                              type: string
                              nullable: true
                              description: Organization number
                            phone:
                              type: string
                              nullable: true
                              description: Phone number
                            billingAddressLine1:
                              type: string
                              nullable: true
                              description: Address line 1
                            billingAddressLine2:
                              type: string
                              nullable: true
                              description: Address line 2
                            postalCode:
                              type: string
                              nullable: true
                              description: Postal code
                            city:
                              type: string
                              nullable: true
                              description: City
                            country:
                              type: string
                              nullable: true
                              description: Country
                            reference:
                              type: string
                              nullable: true
                              description: Reference/PO number
                            contactPerson:
                              type: string
                              nullable: true
                              description: Contact person name
                            vatNumber:
                              type: string
                              nullable: true
                              description: VAT number
                            totalInvoicedAmount:
                              type: number
                              description: Total amount invoiced to this recipient
                            totalPaidAmount:
                              type: number
                              description: Total amount paid by this recipient
                            outstandingAmount:
                              type: number
                              description: Outstanding amount (unpaid)
                            invoiceCount:
                              type: number
                              description: Number of invoices sent to this recipient
                            isActive:
                              type: boolean
                              description: Whether the recipient is active
                            createdAt:
                              type: string
                              format: date-time
                              description: Created timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              description: Updated timestamp
                          required:
                            - id
                            - locationId
                            - name
                            - email
                            - totalInvoicedAmount
                            - totalPaidAmount
                            - outstandingAmount
                            - invoiceCount
                            - isActive
                            - createdAt
                            - updatedAt
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                            minimum: 1
                          limit:
                            type: number
                            minimum: 1
                            maximum: 100
                          total:
                            type: number
                            minimum: 0
                          totalPages:
                            type: number
                            minimum: 0
                        required:
                          - page
                          - limit
                          - total
                          - totalPages
                    required:
                      - items
                      - pagination
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    post:
      summary: Create invoice recipient
      tags:
        - Invoices
      description: |-
        Create a new invoice recipient for a location.

        **Permissions:** ðŸŸ¢ `invoices.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                locationId:
                  type: number
                  description: Location ID (required)
                name:
                  type: string
                  description: Recipient name (required)
                email:
                  type: string
                  description: Email address (required)
                organizationName:
                  type: string
                  description: Organization/company name
                organizationNumber:
                  type: string
                  description: Organization number
                phone:
                  type: string
                  description: Phone number
                billingAddressLine1:
                  type: string
                  description: Address line 1
                billingAddressLine2:
                  type: string
                  description: Address line 2
                postalCode:
                  type: string
                  description: Postal code
                city:
                  type: string
                  description: City
                country:
                  type: string
                  description: Country
                reference:
                  type: string
                  description: Reference/PO number
                contactPerson:
                  type: string
                  description: Contact person name
                vatNumber:
                  type: string
                  description: VAT number
              required:
                - locationId
                - name
                - email
        required: true
      responses:
        "201":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Recipient UUID
                      locationId:
                        type: number
                        description: Location ID
                      name:
                        type: string
                        description: Recipient name
                      email:
                        type: string
                        description: Email address
                      organizationName:
                        type: string
                        nullable: true
                        description: Organization/company name
                      organizationNumber:
                        type: string
                        nullable: true
                        description: Organization number
                      phone:
                        type: string
                        nullable: true
                        description: Phone number
                      billingAddressLine1:
                        type: string
                        nullable: true
                        description: Address line 1
                      billingAddressLine2:
                        type: string
                        nullable: true
                        description: Address line 2
                      postalCode:
                        type: string
                        nullable: true
                        description: Postal code
                      city:
                        type: string
                        nullable: true
                        description: City
                      country:
                        type: string
                        nullable: true
                        description: Country
                      reference:
                        type: string
                        nullable: true
                        description: Reference/PO number
                      contactPerson:
                        type: string
                        nullable: true
                        description: Contact person name
                      vatNumber:
                        type: string
                        nullable: true
                        description: VAT number
                      totalInvoicedAmount:
                        type: number
                        description: Total amount invoiced to this recipient
                      totalPaidAmount:
                        type: number
                        description: Total amount paid by this recipient
                      outstandingAmount:
                        type: number
                        description: Outstanding amount (unpaid)
                      invoiceCount:
                        type: number
                        description: Number of invoices sent to this recipient
                      isActive:
                        type: boolean
                        description: Whether the recipient is active
                      createdAt:
                        type: string
                        format: date-time
                        description: Created timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Updated timestamp
                    required:
                      - id
                      - locationId
                      - name
                      - email
                      - totalInvoicedAmount
                      - totalPaidAmount
                      - outstandingAmount
                      - invoiceCount
                      - isActive
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/invoice-recipients/{recipientId}:
    get:
      summary: Get invoice recipient
      tags:
        - Invoices
      description: |-
        Get a single invoice recipient by ID.

        **Permissions:** ðŸ”µ `invoices.read`
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: recipientId
          required: true
          description: Recipient UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Recipient UUID
                      locationId:
                        type: number
                        description: Location ID
                      name:
                        type: string
                        description: Recipient name
                      email:
                        type: string
                        description: Email address
                      organizationName:
                        type: string
                        nullable: true
                        description: Organization/company name
                      organizationNumber:
                        type: string
                        nullable: true
                        description: Organization number
                      phone:
                        type: string
                        nullable: true
                        description: Phone number
                      billingAddressLine1:
                        type: string
                        nullable: true
                        description: Address line 1
                      billingAddressLine2:
                        type: string
                        nullable: true
                        description: Address line 2
                      postalCode:
                        type: string
                        nullable: true
                        description: Postal code
                      city:
                        type: string
                        nullable: true
                        description: City
                      country:
                        type: string
                        nullable: true
                        description: Country
                      reference:
                        type: string
                        nullable: true
                        description: Reference/PO number
                      contactPerson:
                        type: string
                        nullable: true
                        description: Contact person name
                      vatNumber:
                        type: string
                        nullable: true
                        description: VAT number
                      totalInvoicedAmount:
                        type: number
                        description: Total amount invoiced to this recipient
                      totalPaidAmount:
                        type: number
                        description: Total amount paid by this recipient
                      outstandingAmount:
                        type: number
                        description: Outstanding amount (unpaid)
                      invoiceCount:
                        type: number
                        description: Number of invoices sent to this recipient
                      isActive:
                        type: boolean
                        description: Whether the recipient is active
                      createdAt:
                        type: string
                        format: date-time
                        description: Created timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Updated timestamp
                    required:
                      - id
                      - locationId
                      - name
                      - email
                      - totalInvoicedAmount
                      - totalPaidAmount
                      - outstandingAmount
                      - invoiceCount
                      - isActive
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    put:
      summary: Update invoice recipient
      tags:
        - Invoices
      description: >-
        Update an existing invoice recipient. All fields are optional for
        partial updates.


        **Permissions:** ðŸŸ  `invoices.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: Recipient name
                email:
                  type: string
                  description: Email address
                organizationName:
                  type: string
                  nullable: true
                  description: Organization/company name
                organizationNumber:
                  type: string
                  nullable: true
                  description: Organization number
                phone:
                  type: string
                  nullable: true
                  description: Phone number
                billingAddressLine1:
                  type: string
                  nullable: true
                  description: Address line 1
                billingAddressLine2:
                  type: string
                  nullable: true
                  description: Address line 2
                postalCode:
                  type: string
                  nullable: true
                  description: Postal code
                city:
                  type: string
                  nullable: true
                  description: City
                country:
                  type: string
                  nullable: true
                  description: Country
                reference:
                  type: string
                  nullable: true
                  description: Reference/PO number
                contactPerson:
                  type: string
                  nullable: true
                  description: Contact person name
                vatNumber:
                  type: string
                  nullable: true
                  description: VAT number
                isActive:
                  type: boolean
                  description: Whether the recipient is active
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: recipientId
          required: true
          description: Recipient UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Recipient UUID
                      locationId:
                        type: number
                        description: Location ID
                      name:
                        type: string
                        description: Recipient name
                      email:
                        type: string
                        description: Email address
                      organizationName:
                        type: string
                        nullable: true
                        description: Organization/company name
                      organizationNumber:
                        type: string
                        nullable: true
                        description: Organization number
                      phone:
                        type: string
                        nullable: true
                        description: Phone number
                      billingAddressLine1:
                        type: string
                        nullable: true
                        description: Address line 1
                      billingAddressLine2:
                        type: string
                        nullable: true
                        description: Address line 2
                      postalCode:
                        type: string
                        nullable: true
                        description: Postal code
                      city:
                        type: string
                        nullable: true
                        description: City
                      country:
                        type: string
                        nullable: true
                        description: Country
                      reference:
                        type: string
                        nullable: true
                        description: Reference/PO number
                      contactPerson:
                        type: string
                        nullable: true
                        description: Contact person name
                      vatNumber:
                        type: string
                        nullable: true
                        description: VAT number
                      totalInvoicedAmount:
                        type: number
                        description: Total amount invoiced to this recipient
                      totalPaidAmount:
                        type: number
                        description: Total amount paid by this recipient
                      outstandingAmount:
                        type: number
                        description: Outstanding amount (unpaid)
                      invoiceCount:
                        type: number
                        description: Number of invoices sent to this recipient
                      isActive:
                        type: boolean
                        description: Whether the recipient is active
                      createdAt:
                        type: string
                        format: date-time
                        description: Created timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Updated timestamp
                    required:
                      - id
                      - locationId
                      - name
                      - email
                      - totalInvoicedAmount
                      - totalPaidAmount
                      - outstandingAmount
                      - invoiceCount
                      - isActive
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    delete:
      summary: Delete invoice recipient
      tags:
        - Invoices
      description: |-
        Soft-delete an invoice recipient (sets isActive to false).

        **Permissions:** ðŸ”´ `invoices.delete`
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: recipientId
          required: true
          description: Recipient UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      deleted:
                        type: boolean
                        enum:
                          - true
                    required:
                      - deleted
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/invoice-recipients/{recipientId}/rules:
    get:
      summary: List recipient rules
      tags:
        - Invoices
      description: |-
        List all active eligibility rules for an invoice recipient.

        **Permissions:** ðŸ”µ `invoices.read`
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: recipientId
          required: true
          description: Recipient UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      rules:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              format: uuid
                              description: Rule UUID
                            recipientId:
                              type: string
                              format: uuid
                              description: Recipient UUID
                            locationId:
                              type: number
                              description: Location ID
                            ruleType:
                              type: string
                              enum:
                                - email_exact
                                - email_wildcard
                                - user_id
                              description: "Type of rule: email_exact (exact match), email_wildcard (pattern
                                match), user_id (user ID match)"
                            ruleValue:
                              type: string
                              description: Rule value (email, pattern, or user ID)
                            isActive:
                              type: boolean
                              description: Whether the rule is active
                            maxCreditLimit:
                              type: number
                              nullable: true
                              description: Maximum credit limit for auto-invoicing
                            autoApprove:
                              type: boolean
                              description: Auto-approve invoices matching this rule
                            createdAt:
                              type: string
                              format: date-time
                              description: Created timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              description: Updated timestamp
                          required:
                            - id
                            - recipientId
                            - locationId
                            - ruleType
                            - ruleValue
                            - isActive
                            - autoApprove
                            - createdAt
                            - updatedAt
                    required:
                      - rules
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    post:
      summary: Create recipient rule
      tags:
        - Invoices
      description: |-
        Create a new eligibility rule for automatic invoice assignment.

        **Permissions:** ðŸŸ¢ `invoices.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                locationId:
                  type: number
                  description: Location ID (required)
                ruleType:
                  type: string
                  enum:
                    - email_exact
                    - email_wildcard
                    - user_id
                  description: Type of rule (required)
                ruleValue:
                  type: string
                  description: Rule value - email, pattern (*@company.com), or user ID (required)
                maxCreditLimit:
                  type: number
                  description: Maximum credit limit for auto-invoicing
                autoApprove:
                  type: boolean
                  description: Auto-approve invoices matching this rule
              required:
                - locationId
                - ruleType
                - ruleValue
        required: true
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: recipientId
          required: true
          description: Recipient UUID
      responses:
        "201":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Rule UUID
                      recipientId:
                        type: string
                        format: uuid
                        description: Recipient UUID
                      locationId:
                        type: number
                        description: Location ID
                      ruleType:
                        type: string
                        enum:
                          - email_exact
                          - email_wildcard
                          - user_id
                        description: "Type of rule: email_exact (exact match), email_wildcard (pattern
                          match), user_id (user ID match)"
                      ruleValue:
                        type: string
                        description: Rule value (email, pattern, or user ID)
                      isActive:
                        type: boolean
                        description: Whether the rule is active
                      maxCreditLimit:
                        type: number
                        nullable: true
                        description: Maximum credit limit for auto-invoicing
                      autoApprove:
                        type: boolean
                        description: Auto-approve invoices matching this rule
                      createdAt:
                        type: string
                        format: date-time
                        description: Created timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Updated timestamp
                    required:
                      - id
                      - recipientId
                      - locationId
                      - ruleType
                      - ruleValue
                      - isActive
                      - autoApprove
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/invoice-recipients/{recipientId}/rules/{ruleId}:
    delete:
      summary: Delete recipient rule
      tags:
        - Invoices
      description: |-
        Delete an eligibility rule.

        **Permissions:** ðŸ”´ `invoices.delete`
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: recipientId
          required: true
          description: Recipient UUID
        - schema:
            type: string
            format: uuid
          in: path
          name: ruleId
          required: true
          description: Rule UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      deleted:
                        type: boolean
                        enum:
                          - true
                    required:
                      - deleted
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/invoices:
    get:
      summary: List invoices
      tags:
        - Invoices
      description: |-
        List all invoices for a location with optional filtering and pagination.

        **Permissions:** ðŸ”µ `invoices.read`
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: true
          description: Location ID (required)
        - schema:
            type: string
            format: uuid
          in: query
          name: recipientId
          required: false
          description: Filter by recipient
        - schema:
            type: string
            enum:
              - draft
              - sent
              - paid
              - overdue
              - cancelled
              - auto_draft
          in: query
          name: status
          required: false
          description: Filter by status
        - schema:
            type: string
            enum:
              - manual
              - auto_generated
          in: query
          name: invoiceType
          required: false
          description: Filter by invoice type
        - schema:
            type: string
            format: date-time
          in: query
          name: startDate
          required: false
          description: Filter by start date
        - schema:
            type: string
            format: date-time
          in: query
          name: endDate
          required: false
          description: Filter by end date
        - schema:
            type: number
            minimum: 1
            default: 1
          in: query
          name: page
          required: false
          description: Page number
        - schema:
            type: number
            minimum: 1
            maximum: 100
            default: 50
          in: query
          name: limit
          required: false
          description: Items per page
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              format: uuid
                              description: Invoice UUID
                            locationId:
                              type: number
                              description: Location ID
                            recipientId:
                              type: string
                              format: uuid
                              description: Recipient UUID
                            invoiceNumber:
                              type: string
                              description: Invoice number (unique per location)
                            status:
                              type: string
                              enum:
                                - draft
                                - sent
                                - paid
                                - overdue
                                - cancelled
                                - auto_draft
                              description: Invoice status
                            invoiceType:
                              type: string
                              enum:
                                - manual
                                - auto_generated
                              description: Invoice type
                            collectionPeriodStart:
                              type: string
                              nullable: true
                              format: date-time
                              description: Collection period start (for auto-generated)
                            collectionPeriodEnd:
                              type: string
                              nullable: true
                              format: date-time
                              description: Collection period end (for auto-generated)
                            totalAmount:
                              type: number
                              description: Total invoice amount (including tax)
                            taxAmount:
                              type: number
                              description: Total tax amount
                            subtotalAmount:
                              type: number
                              description: Subtotal (before tax)
                            currency:
                              type: string
                              description: Currency code (e.g., SEK)
                            dueDate:
                              type: string
                              format: date
                              description: Due date (YYYY-MM-DD)
                            issuedDate:
                              type: string
                              nullable: true
                              format: date
                              description: Issue date
                            paidDate:
                              type: string
                              nullable: true
                              format: date
                              description: Payment date
                            paymentReference:
                              type: string
                              nullable: true
                              description: Payment reference code
                            notes:
                              type: string
                              nullable: true
                              description: Additional notes
                            createdBy:
                              type: number
                              nullable: true
                              description: User ID who created the invoice
                            createdAt:
                              type: string
                              format: date-time
                              description: Created timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              description: Updated timestamp
                          required:
                            - id
                            - locationId
                            - recipientId
                            - invoiceNumber
                            - status
                            - invoiceType
                            - totalAmount
                            - taxAmount
                            - subtotalAmount
                            - currency
                            - dueDate
                            - createdAt
                            - updatedAt
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                            minimum: 1
                          limit:
                            type: number
                            minimum: 1
                            maximum: 100
                          total:
                            type: number
                            minimum: 0
                          totalPages:
                            type: number
                            minimum: 0
                        required:
                          - page
                          - limit
                          - total
                          - totalPages
                    required:
                      - items
                      - pagination
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    post:
      summary: Create invoice
      tags:
        - Invoices
      description: |-
        Create a new invoice. Invoice number is automatically generated.

        **Permissions:** ðŸŸ¢ `invoices.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                locationId:
                  type: number
                  description: Location ID (required)
                recipientId:
                  type: string
                  format: uuid
                  description: Recipient UUID (required)
                dueDate:
                  type: string
                  format: date
                  description: Due date YYYY-MM-DD (required)
                currency:
                  type: string
                  description: Currency code (optional - defaults to location currency)
                invoiceType:
                  type: string
                  enum:
                    - manual
                    - auto_generated
                  description: "Invoice type (default: manual)"
                collectionPeriodStart:
                  type: string
                  format: date-time
                  description: Collection period start
                collectionPeriodEnd:
                  type: string
                  format: date-time
                  description: Collection period end
                totalAmount:
                  type: number
                  description: Total amount
                taxAmount:
                  type: number
                  description: Tax amount
                subtotalAmount:
                  type: number
                  description: Subtotal amount
                issuedDate:
                  type: string
                  format: date
                  description: Issue date
                paymentReference:
                  type: string
                  description: Payment reference
                notes:
                  type: string
                  description: Notes
                purchaseIds:
                  type: array
                  items:
                    type: number
                  description: Purchase IDs to link to invoice
              required:
                - locationId
                - recipientId
                - dueDate
        required: true
      responses:
        "201":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Invoice UUID
                      locationId:
                        type: number
                        description: Location ID
                      recipientId:
                        type: string
                        format: uuid
                        description: Recipient UUID
                      invoiceNumber:
                        type: string
                        description: Invoice number (unique per location)
                      status:
                        type: string
                        enum:
                          - draft
                          - sent
                          - paid
                          - overdue
                          - cancelled
                          - auto_draft
                        description: Invoice status
                      invoiceType:
                        type: string
                        enum:
                          - manual
                          - auto_generated
                        description: Invoice type
                      collectionPeriodStart:
                        type: string
                        nullable: true
                        format: date-time
                        description: Collection period start (for auto-generated)
                      collectionPeriodEnd:
                        type: string
                        nullable: true
                        format: date-time
                        description: Collection period end (for auto-generated)
                      totalAmount:
                        type: number
                        description: Total invoice amount (including tax)
                      taxAmount:
                        type: number
                        description: Total tax amount
                      subtotalAmount:
                        type: number
                        description: Subtotal (before tax)
                      currency:
                        type: string
                        description: Currency code (e.g., SEK)
                      dueDate:
                        type: string
                        format: date
                        description: Due date (YYYY-MM-DD)
                      issuedDate:
                        type: string
                        nullable: true
                        format: date
                        description: Issue date
                      paidDate:
                        type: string
                        nullable: true
                        format: date
                        description: Payment date
                      paymentReference:
                        type: string
                        nullable: true
                        description: Payment reference code
                      notes:
                        type: string
                        nullable: true
                        description: Additional notes
                      createdBy:
                        type: number
                        nullable: true
                        description: User ID who created the invoice
                      createdAt:
                        type: string
                        format: date-time
                        description: Created timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Updated timestamp
                    required:
                      - id
                      - locationId
                      - recipientId
                      - invoiceNumber
                      - status
                      - invoiceType
                      - totalAmount
                      - taxAmount
                      - subtotalAmount
                      - currency
                      - dueDate
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/invoices/check-eligibility:
    get:
      summary: Check invoice eligibility
      tags:
        - Invoices
      description: |-
        Check if a user/email is eligible for invoice payment at a location.

        **Permissions:** ðŸ”µ `invoices.read`
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: true
          description: Location ID (required)
        - schema:
            type: string
          in: query
          name: email
          required: true
          description: Email to check eligibility for (required)
        - schema:
            type: number
          in: query
          name: userId
          required: false
          description: User ID to check eligibility for (optional)
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      eligible:
                        type: boolean
                        description: Whether the user is eligible for invoice payment
                      recipientId:
                        type: string
                        nullable: true
                        description: Matched recipient ID
                      creditLimit:
                        type: number
                        nullable: true
                        description: Credit limit for this user
                      outstandingAmount:
                        type: number
                        nullable: true
                        description: Current outstanding amount
                    required:
                      - eligible
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/invoices/unclaimed-purchases:
    get:
      summary: Get unclaimed invoice purchases
      tags:
        - Invoices
      description: >-
        Get purchases that were made with invoice payment but not yet assigned
        to an invoice.


        **Permissions:** ðŸ”µ `invoices.read`
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: true
          description: Location ID (required)
        - schema:
            type: number
            minimum: 1
            default: 1
          in: query
          name: page
          required: false
          description: Page number
        - schema:
            type: number
            minimum: 1
            maximum: 100
            default: 50
          in: query
          name: limit
          required: false
          description: Items per page
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                              description: Purchase ID
                            intentId:
                              type: string
                              description: Intent ID
                            purchasedAt:
                              type: string
                              format: date-time
                              description: Purchase timestamp
                            payingUserId:
                              type: number
                              nullable: true
                              description: Paying user ID
                            state:
                              type: string
                              description: Purchase state
                            currencyCode:
                              type: string
                              description: Currency code
                            totalAmountCents:
                              type: number
                              description: Total amount in cents
                            vatAmountCents:
                              type: number
                              description: VAT amount in cents
                            items:
                              type: string
                              nullable: true
                              description: Comma-separated list of items
                            userEmail:
                              type: string
                              nullable: true
                              description: User email
                            userName:
                              type: string
                              nullable: true
                              description: User name
                          required:
                            - id
                            - intentId
                            - purchasedAt
                            - state
                            - currencyCode
                            - totalAmountCents
                            - vatAmountCents
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                            minimum: 1
                          limit:
                            type: number
                            minimum: 1
                            maximum: 100
                          total:
                            type: number
                            minimum: 0
                          totalPages:
                            type: number
                            minimum: 0
                        required:
                          - page
                          - limit
                          - total
                          - totalPages
                    required:
                      - items
                      - pagination
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/invoices/{invoiceId}:
    get:
      summary: Get invoice
      tags:
        - Invoices
      description: |-
        Get a single invoice by ID.

        **Permissions:** ðŸ”µ `invoices.read`
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: invoiceId
          required: true
          description: Invoice UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Invoice UUID
                      locationId:
                        type: number
                        description: Location ID
                      recipientId:
                        type: string
                        format: uuid
                        description: Recipient UUID
                      invoiceNumber:
                        type: string
                        description: Invoice number (unique per location)
                      status:
                        type: string
                        enum:
                          - draft
                          - sent
                          - paid
                          - overdue
                          - cancelled
                          - auto_draft
                        description: Invoice status
                      invoiceType:
                        type: string
                        enum:
                          - manual
                          - auto_generated
                        description: Invoice type
                      collectionPeriodStart:
                        type: string
                        nullable: true
                        format: date-time
                        description: Collection period start (for auto-generated)
                      collectionPeriodEnd:
                        type: string
                        nullable: true
                        format: date-time
                        description: Collection period end (for auto-generated)
                      totalAmount:
                        type: number
                        description: Total invoice amount (including tax)
                      taxAmount:
                        type: number
                        description: Total tax amount
                      subtotalAmount:
                        type: number
                        description: Subtotal (before tax)
                      currency:
                        type: string
                        description: Currency code (e.g., SEK)
                      dueDate:
                        type: string
                        format: date
                        description: Due date (YYYY-MM-DD)
                      issuedDate:
                        type: string
                        nullable: true
                        format: date
                        description: Issue date
                      paidDate:
                        type: string
                        nullable: true
                        format: date
                        description: Payment date
                      paymentReference:
                        type: string
                        nullable: true
                        description: Payment reference code
                      notes:
                        type: string
                        nullable: true
                        description: Additional notes
                      createdBy:
                        type: number
                        nullable: true
                        description: User ID who created the invoice
                      createdAt:
                        type: string
                        format: date-time
                        description: Created timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Updated timestamp
                    required:
                      - id
                      - locationId
                      - recipientId
                      - invoiceNumber
                      - status
                      - invoiceType
                      - totalAmount
                      - taxAmount
                      - subtotalAmount
                      - currency
                      - dueDate
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    put:
      summary: Update invoice
      tags:
        - Invoices
      description: |-
        Update an existing invoice. All fields are optional for partial updates.

        **Permissions:** ðŸŸ  `invoices.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: string
                  enum:
                    - draft
                    - sent
                    - paid
                    - overdue
                    - cancelled
                    - auto_draft
                  description: Invoice status
                dueDate:
                  type: string
                  format: date
                  description: Due date
                issuedDate:
                  type: string
                  nullable: true
                  format: date
                  description: Issue date
                paidDate:
                  type: string
                  nullable: true
                  format: date
                  description: Payment date
                paymentReference:
                  type: string
                  nullable: true
                  description: Payment reference
                notes:
                  type: string
                  nullable: true
                  description: Notes
                totalAmount:
                  type: number
                  description: Total amount
                taxAmount:
                  type: number
                  description: Tax amount
                subtotalAmount:
                  type: number
                  description: Subtotal amount
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: invoiceId
          required: true
          description: Invoice UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Invoice UUID
                      locationId:
                        type: number
                        description: Location ID
                      recipientId:
                        type: string
                        format: uuid
                        description: Recipient UUID
                      invoiceNumber:
                        type: string
                        description: Invoice number (unique per location)
                      status:
                        type: string
                        enum:
                          - draft
                          - sent
                          - paid
                          - overdue
                          - cancelled
                          - auto_draft
                        description: Invoice status
                      invoiceType:
                        type: string
                        enum:
                          - manual
                          - auto_generated
                        description: Invoice type
                      collectionPeriodStart:
                        type: string
                        nullable: true
                        format: date-time
                        description: Collection period start (for auto-generated)
                      collectionPeriodEnd:
                        type: string
                        nullable: true
                        format: date-time
                        description: Collection period end (for auto-generated)
                      totalAmount:
                        type: number
                        description: Total invoice amount (including tax)
                      taxAmount:
                        type: number
                        description: Total tax amount
                      subtotalAmount:
                        type: number
                        description: Subtotal (before tax)
                      currency:
                        type: string
                        description: Currency code (e.g., SEK)
                      dueDate:
                        type: string
                        format: date
                        description: Due date (YYYY-MM-DD)
                      issuedDate:
                        type: string
                        nullable: true
                        format: date
                        description: Issue date
                      paidDate:
                        type: string
                        nullable: true
                        format: date
                        description: Payment date
                      paymentReference:
                        type: string
                        nullable: true
                        description: Payment reference code
                      notes:
                        type: string
                        nullable: true
                        description: Additional notes
                      createdBy:
                        type: number
                        nullable: true
                        description: User ID who created the invoice
                      createdAt:
                        type: string
                        format: date-time
                        description: Created timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Updated timestamp
                    required:
                      - id
                      - locationId
                      - recipientId
                      - invoiceNumber
                      - status
                      - invoiceType
                      - totalAmount
                      - taxAmount
                      - subtotalAmount
                      - currency
                      - dueDate
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    delete:
      summary: Delete invoice
      tags:
        - Invoices
      description: >-
        Delete a draft invoice. Only draft or auto_draft invoices can be
        deleted.


        **Permissions:** ðŸ”´ `invoices.delete`
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: invoiceId
          required: true
          description: Invoice UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      deleted:
                        type: boolean
                        enum:
                          - true
                    required:
                      - deleted
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/invoices/{invoiceId}/send:
    post:
      summary: Send invoice
      tags:
        - Invoices
      description: |-
        Send an invoice to the recipient. Only draft invoices can be sent.

        **Permissions:** ðŸŸ  `invoices.update`
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: invoiceId
          required: true
          description: Invoice UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Invoice UUID
                      locationId:
                        type: number
                        description: Location ID
                      recipientId:
                        type: string
                        format: uuid
                        description: Recipient UUID
                      invoiceNumber:
                        type: string
                        description: Invoice number (unique per location)
                      status:
                        type: string
                        enum:
                          - draft
                          - sent
                          - paid
                          - overdue
                          - cancelled
                          - auto_draft
                        description: Invoice status
                      invoiceType:
                        type: string
                        enum:
                          - manual
                          - auto_generated
                        description: Invoice type
                      collectionPeriodStart:
                        type: string
                        nullable: true
                        format: date-time
                        description: Collection period start (for auto-generated)
                      collectionPeriodEnd:
                        type: string
                        nullable: true
                        format: date-time
                        description: Collection period end (for auto-generated)
                      totalAmount:
                        type: number
                        description: Total invoice amount (including tax)
                      taxAmount:
                        type: number
                        description: Total tax amount
                      subtotalAmount:
                        type: number
                        description: Subtotal (before tax)
                      currency:
                        type: string
                        description: Currency code (e.g., SEK)
                      dueDate:
                        type: string
                        format: date
                        description: Due date (YYYY-MM-DD)
                      issuedDate:
                        type: string
                        nullable: true
                        format: date
                        description: Issue date
                      paidDate:
                        type: string
                        nullable: true
                        format: date
                        description: Payment date
                      paymentReference:
                        type: string
                        nullable: true
                        description: Payment reference code
                      notes:
                        type: string
                        nullable: true
                        description: Additional notes
                      createdBy:
                        type: number
                        nullable: true
                        description: User ID who created the invoice
                      createdAt:
                        type: string
                        format: date-time
                        description: Created timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Updated timestamp
                    required:
                      - id
                      - locationId
                      - recipientId
                      - invoiceNumber
                      - status
                      - invoiceType
                      - totalAmount
                      - taxAmount
                      - subtotalAmount
                      - currency
                      - dueDate
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/invoices/{invoiceId}/mark-paid:
    post:
      summary: Mark invoice as paid
      tags:
        - Invoices
      description: |-
        Mark an invoice as paid. Cannot mark cancelled invoices as paid.

        **Permissions:** ðŸŸ  `invoices.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                paymentReference:
                  type: string
                  description: Payment reference (optional)
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: invoiceId
          required: true
          description: Invoice UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Invoice UUID
                      locationId:
                        type: number
                        description: Location ID
                      recipientId:
                        type: string
                        format: uuid
                        description: Recipient UUID
                      invoiceNumber:
                        type: string
                        description: Invoice number (unique per location)
                      status:
                        type: string
                        enum:
                          - draft
                          - sent
                          - paid
                          - overdue
                          - cancelled
                          - auto_draft
                        description: Invoice status
                      invoiceType:
                        type: string
                        enum:
                          - manual
                          - auto_generated
                        description: Invoice type
                      collectionPeriodStart:
                        type: string
                        nullable: true
                        format: date-time
                        description: Collection period start (for auto-generated)
                      collectionPeriodEnd:
                        type: string
                        nullable: true
                        format: date-time
                        description: Collection period end (for auto-generated)
                      totalAmount:
                        type: number
                        description: Total invoice amount (including tax)
                      taxAmount:
                        type: number
                        description: Total tax amount
                      subtotalAmount:
                        type: number
                        description: Subtotal (before tax)
                      currency:
                        type: string
                        description: Currency code (e.g., SEK)
                      dueDate:
                        type: string
                        format: date
                        description: Due date (YYYY-MM-DD)
                      issuedDate:
                        type: string
                        nullable: true
                        format: date
                        description: Issue date
                      paidDate:
                        type: string
                        nullable: true
                        format: date
                        description: Payment date
                      paymentReference:
                        type: string
                        nullable: true
                        description: Payment reference code
                      notes:
                        type: string
                        nullable: true
                        description: Additional notes
                      createdBy:
                        type: number
                        nullable: true
                        description: User ID who created the invoice
                      createdAt:
                        type: string
                        format: date-time
                        description: Created timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Updated timestamp
                    required:
                      - id
                      - locationId
                      - recipientId
                      - invoiceNumber
                      - status
                      - invoiceType
                      - totalAmount
                      - taxAmount
                      - subtotalAmount
                      - currency
                      - dueDate
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/invoices/{invoiceId}/cancel:
    post:
      summary: Cancel invoice
      tags:
        - Invoices
      description: |-
        Cancel an invoice. Cannot cancel paid invoices.

        **Permissions:** ðŸŸ  `invoices.update`
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: invoiceId
          required: true
          description: Invoice UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Invoice UUID
                      locationId:
                        type: number
                        description: Location ID
                      recipientId:
                        type: string
                        format: uuid
                        description: Recipient UUID
                      invoiceNumber:
                        type: string
                        description: Invoice number (unique per location)
                      status:
                        type: string
                        enum:
                          - draft
                          - sent
                          - paid
                          - overdue
                          - cancelled
                          - auto_draft
                        description: Invoice status
                      invoiceType:
                        type: string
                        enum:
                          - manual
                          - auto_generated
                        description: Invoice type
                      collectionPeriodStart:
                        type: string
                        nullable: true
                        format: date-time
                        description: Collection period start (for auto-generated)
                      collectionPeriodEnd:
                        type: string
                        nullable: true
                        format: date-time
                        description: Collection period end (for auto-generated)
                      totalAmount:
                        type: number
                        description: Total invoice amount (including tax)
                      taxAmount:
                        type: number
                        description: Total tax amount
                      subtotalAmount:
                        type: number
                        description: Subtotal (before tax)
                      currency:
                        type: string
                        description: Currency code (e.g., SEK)
                      dueDate:
                        type: string
                        format: date
                        description: Due date (YYYY-MM-DD)
                      issuedDate:
                        type: string
                        nullable: true
                        format: date
                        description: Issue date
                      paidDate:
                        type: string
                        nullable: true
                        format: date
                        description: Payment date
                      paymentReference:
                        type: string
                        nullable: true
                        description: Payment reference code
                      notes:
                        type: string
                        nullable: true
                        description: Additional notes
                      createdBy:
                        type: number
                        nullable: true
                        description: User ID who created the invoice
                      createdAt:
                        type: string
                        format: date-time
                        description: Created timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Updated timestamp
                    required:
                      - id
                      - locationId
                      - recipientId
                      - invoiceNumber
                      - status
                      - invoiceType
                      - totalAmount
                      - taxAmount
                      - subtotalAmount
                      - currency
                      - dueDate
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/invoices/{invoiceId}/purchases:
    post:
      summary: Add purchases to invoice
      tags:
        - Invoices
      description: >-
        Add purchases to an invoice. Only draft invoices can have purchases
        added.


        **Permissions:** ðŸŸ  `invoices.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                purchaseIds:
                  type: array
                  items:
                    type: number
                  description: Array of purchase IDs to add to the invoice
              required:
                - purchaseIds
        required: true
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: invoiceId
          required: true
          description: Invoice UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Invoice UUID
                      locationId:
                        type: number
                        description: Location ID
                      recipientId:
                        type: string
                        format: uuid
                        description: Recipient UUID
                      invoiceNumber:
                        type: string
                        description: Invoice number (unique per location)
                      status:
                        type: string
                        enum:
                          - draft
                          - sent
                          - paid
                          - overdue
                          - cancelled
                          - auto_draft
                        description: Invoice status
                      invoiceType:
                        type: string
                        enum:
                          - manual
                          - auto_generated
                        description: Invoice type
                      collectionPeriodStart:
                        type: string
                        nullable: true
                        format: date-time
                        description: Collection period start (for auto-generated)
                      collectionPeriodEnd:
                        type: string
                        nullable: true
                        format: date-time
                        description: Collection period end (for auto-generated)
                      totalAmount:
                        type: number
                        description: Total invoice amount (including tax)
                      taxAmount:
                        type: number
                        description: Total tax amount
                      subtotalAmount:
                        type: number
                        description: Subtotal (before tax)
                      currency:
                        type: string
                        description: Currency code (e.g., SEK)
                      dueDate:
                        type: string
                        format: date
                        description: Due date (YYYY-MM-DD)
                      issuedDate:
                        type: string
                        nullable: true
                        format: date
                        description: Issue date
                      paidDate:
                        type: string
                        nullable: true
                        format: date
                        description: Payment date
                      paymentReference:
                        type: string
                        nullable: true
                        description: Payment reference code
                      notes:
                        type: string
                        nullable: true
                        description: Additional notes
                      createdBy:
                        type: number
                        nullable: true
                        description: User ID who created the invoice
                      createdAt:
                        type: string
                        format: date-time
                        description: Created timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Updated timestamp
                    required:
                      - id
                      - locationId
                      - recipientId
                      - invoiceNumber
                      - status
                      - invoiceType
                      - totalAmount
                      - taxAmount
                      - subtotalAmount
                      - currency
                      - dueDate
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/invoices/{invoiceId}/purchases/{purchaseId}:
    delete:
      summary: Remove purchase from invoice
      tags:
        - Invoices
      description: >-
        Remove a purchase from an invoice. Only draft invoices can have
        purchases removed.


        **Permissions:** ðŸŸ  `invoices.update`
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: invoiceId
          required: true
          description: Invoice UUID
        - schema:
            type: number
          in: path
          name: purchaseId
          required: true
          description: Purchase ID to remove
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: Invoice UUID
                      locationId:
                        type: number
                        description: Location ID
                      recipientId:
                        type: string
                        format: uuid
                        description: Recipient UUID
                      invoiceNumber:
                        type: string
                        description: Invoice number (unique per location)
                      status:
                        type: string
                        enum:
                          - draft
                          - sent
                          - paid
                          - overdue
                          - cancelled
                          - auto_draft
                        description: Invoice status
                      invoiceType:
                        type: string
                        enum:
                          - manual
                          - auto_generated
                        description: Invoice type
                      collectionPeriodStart:
                        type: string
                        nullable: true
                        format: date-time
                        description: Collection period start (for auto-generated)
                      collectionPeriodEnd:
                        type: string
                        nullable: true
                        format: date-time
                        description: Collection period end (for auto-generated)
                      totalAmount:
                        type: number
                        description: Total invoice amount (including tax)
                      taxAmount:
                        type: number
                        description: Total tax amount
                      subtotalAmount:
                        type: number
                        description: Subtotal (before tax)
                      currency:
                        type: string
                        description: Currency code (e.g., SEK)
                      dueDate:
                        type: string
                        format: date
                        description: Due date (YYYY-MM-DD)
                      issuedDate:
                        type: string
                        nullable: true
                        format: date
                        description: Issue date
                      paidDate:
                        type: string
                        nullable: true
                        format: date
                        description: Payment date
                      paymentReference:
                        type: string
                        nullable: true
                        description: Payment reference code
                      notes:
                        type: string
                        nullable: true
                        description: Additional notes
                      createdBy:
                        type: number
                        nullable: true
                        description: User ID who created the invoice
                      createdAt:
                        type: string
                        format: date-time
                        description: Created timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Updated timestamp
                    required:
                      - id
                      - locationId
                      - recipientId
                      - invoiceNumber
                      - status
                      - invoiceType
                      - totalAmount
                      - taxAmount
                      - subtotalAmount
                      - currency
                      - dueDate
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/invoices/{invoiceId}/send-reminder:
    post:
      summary: Send invoice reminder
      tags:
        - Invoices
      description: |-
        Send a payment reminder for an overdue invoice.

        **Permissions:** ðŸŸ  `invoices.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                reminderNumber:
                  type: number
                  minimum: 1
                  maximum: 3
                  description: Reminder number (1, 2, or 3)
              required:
                - reminderNumber
        required: true
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: invoiceId
          required: true
          description: Invoice UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      sent:
                        type: boolean
                      reminderNumber:
                        type: number
                    required:
                      - sent
                      - reminderNumber
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/invoices/start-purchase:
    post:
      summary: Start invoice purchase (POS)
      tags:
        - Invoices
      description: >-
        Start an invoice-based purchase from POS. Creates a tab settlement and
        initiates payment via the invoice PSP.


        **Permissions:** ðŸŸ¢ `invoices.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                tabId:
                  type: string
                  format: uuid
                  description: Tab UUID to pay
                locationId:
                  type: number
                  description: Location ID
                recipientId:
                  type: string
                  format: uuid
                  description: Invoice recipient UUID
                selectedKitchenDispatchItemIds:
                  type: array
                  items:
                    type: string
                    format: uuid
                  description: "Optional: specific kitchen dispatch item IDs to pay. If omitted,
                    pays all unpaid items."
                voucherCodes:
                  type: array
                  items:
                    type: string
                  description: "Optional: voucher codes to apply to this payment."
              required:
                - tabId
                - locationId
        required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                      purchaseIntentId:
                        type: string
                        format: uuid
                      invoiceReference:
                        type: string
                        nullable: true
                    required:
                      - success
                      - purchaseIntentId
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/invoices/{invoiceId}/pdf-data:
    get:
      summary: Get invoice PDF data
      tags:
        - Invoices
      description: >-
        Get all data needed for PDF generation (invoice, recipient, settings,
        location, purchases).


        **Permissions:** ðŸ”µ `invoices.read`
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: invoiceId
          required: true
          description: Invoice UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      invoice:
                        type: object
                        properties:
                          id:
                            type: string
                            format: uuid
                            description: Invoice UUID
                          locationId:
                            type: number
                            description: Location ID
                          recipientId:
                            type: string
                            format: uuid
                            description: Recipient UUID
                          invoiceNumber:
                            type: string
                            description: Invoice number (unique per location)
                          status:
                            type: string
                            enum:
                              - draft
                              - sent
                              - paid
                              - overdue
                              - cancelled
                              - auto_draft
                            description: Invoice status
                          invoiceType:
                            type: string
                            enum:
                              - manual
                              - auto_generated
                            description: Invoice type
                          collectionPeriodStart:
                            type: string
                            nullable: true
                            format: date-time
                            description: Collection period start (for auto-generated)
                          collectionPeriodEnd:
                            type: string
                            nullable: true
                            format: date-time
                            description: Collection period end (for auto-generated)
                          totalAmount:
                            type: number
                            description: Total invoice amount (including tax)
                          taxAmount:
                            type: number
                            description: Total tax amount
                          subtotalAmount:
                            type: number
                            description: Subtotal (before tax)
                          currency:
                            type: string
                            description: Currency code (e.g., SEK)
                          dueDate:
                            type: string
                            format: date
                            description: Due date (YYYY-MM-DD)
                          issuedDate:
                            type: string
                            nullable: true
                            format: date
                            description: Issue date
                          paidDate:
                            type: string
                            nullable: true
                            format: date
                            description: Payment date
                          paymentReference:
                            type: string
                            nullable: true
                            description: Payment reference code
                          notes:
                            type: string
                            nullable: true
                            description: Additional notes
                          createdBy:
                            type: number
                            nullable: true
                            description: User ID who created the invoice
                          createdAt:
                            type: string
                            format: date-time
                            description: Created timestamp
                          updatedAt:
                            type: string
                            format: date-time
                            description: Updated timestamp
                        required:
                          - id
                          - locationId
                          - recipientId
                          - invoiceNumber
                          - status
                          - invoiceType
                          - totalAmount
                          - taxAmount
                          - subtotalAmount
                          - currency
                          - dueDate
                          - createdAt
                          - updatedAt
                      recipient:
                        type: object
                        properties:
                          id:
                            type: string
                            format: uuid
                            description: Recipient UUID
                          locationId:
                            type: number
                            description: Location ID
                          name:
                            type: string
                            description: Recipient name
                          email:
                            type: string
                            description: Email address
                          organizationName:
                            type: string
                            nullable: true
                            description: Organization/company name
                          organizationNumber:
                            type: string
                            nullable: true
                            description: Organization number
                          phone:
                            type: string
                            nullable: true
                            description: Phone number
                          billingAddressLine1:
                            type: string
                            nullable: true
                            description: Address line 1
                          billingAddressLine2:
                            type: string
                            nullable: true
                            description: Address line 2
                          postalCode:
                            type: string
                            nullable: true
                            description: Postal code
                          city:
                            type: string
                            nullable: true
                            description: City
                          country:
                            type: string
                            nullable: true
                            description: Country
                          reference:
                            type: string
                            nullable: true
                            description: Reference/PO number
                          contactPerson:
                            type: string
                            nullable: true
                            description: Contact person name
                          vatNumber:
                            type: string
                            nullable: true
                            description: VAT number
                          totalInvoicedAmount:
                            type: number
                            description: Total amount invoiced to this recipient
                          totalPaidAmount:
                            type: number
                            description: Total amount paid by this recipient
                          outstandingAmount:
                            type: number
                            description: Outstanding amount (unpaid)
                          invoiceCount:
                            type: number
                            description: Number of invoices sent to this recipient
                          isActive:
                            type: boolean
                            description: Whether the recipient is active
                          createdAt:
                            type: string
                            format: date-time
                            description: Created timestamp
                          updatedAt:
                            type: string
                            format: date-time
                            description: Updated timestamp
                        required:
                          - id
                          - locationId
                          - name
                          - email
                          - totalInvoicedAmount
                          - totalPaidAmount
                          - outstandingAmount
                          - invoiceCount
                          - isActive
                          - createdAt
                          - updatedAt
                        nullable: true
                      settings:
                        type: object
                        properties:
                          id:
                            type: string
                            format: uuid
                            description: Settings UUID
                          locationId:
                            type: number
                            description: Location ID
                          defaultPaymentTermsDays:
                            type: number
                            description: Default payment terms in days
                            default: 30
                          invoiceNumberPrefix:
                            type: string
                            nullable: true
                            description: Prefix for invoice numbers (e.g., "INV")
                          invoiceNumberCounter:
                            type: number
                            description: Current invoice number counter
                          minInvoiceAmount:
                            type: number
                            description: Minimum amount for invoicing
                          senderName:
                            type: string
                            nullable: true
                            description: Sender/company name
                          senderAddressLine1:
                            type: string
                            nullable: true
                            description: Sender address line 1
                          senderAddressLine2:
                            type: string
                            nullable: true
                            description: Sender address line 2
                          senderPostalCode:
                            type: string
                            nullable: true
                            description: Sender postal code
                          senderCity:
                            type: string
                            nullable: true
                            description: Sender city
                          senderCountry:
                            type: string
                            nullable: true
                            description: Sender country
                          senderEmail:
                            type: string
                            nullable: true
                            description: Sender email address
                          senderPhone:
                            type: string
                            nullable: true
                            description: Sender phone number
                          senderOrganizationNumber:
                            type: string
                            nullable: true
                            description: Sender organization number
                          senderVatNumber:
                            type: string
                            nullable: true
                            description: Sender VAT number
                          bankAccountNumber:
                            type: string
                            nullable: true
                            description: Bank account number
                          bankName:
                            type: string
                            nullable: true
                            description: Bank name
                          swiftBic:
                            type: string
                            nullable: true
                            description: SWIFT/BIC code
                          iban:
                            type: string
                            nullable: true
                            description: IBAN
                          paymentReferencePrefix:
                            type: string
                            nullable: true
                            description: Payment reference prefix
                          invoiceFooterText:
                            type: string
                            nullable: true
                            description: Footer text for invoices
                          invoiceTermsText:
                            type: string
                            nullable: true
                            description: Terms and conditions text
                          latePaymentFee:
                            type: number
                            description: Late payment fee amount
                          latePaymentInterestRate:
                            type: number
                            description: Late payment interest rate (percentage)
                          autoGenerateEnabled:
                            type: boolean
                            description: Enable automatic invoice generation
                          autoSendOnGeneration:
                            type: boolean
                            description: Automatically send invoices when generated
                          collectionPeriodType:
                            type: string
                            enum:
                              - calendar_month
                              - rolling_30_days
                              - weekly
                            description: Collection period type for auto-invoicing
                          reminderEnabled:
                            type: boolean
                            description: Enable payment reminders
                          firstReminderDaysAfterDue:
                            type: number
                            description: Days after due date for first reminder
                          secondReminderDaysAfterDue:
                            type: number
                            description: Days after due date for second reminder
                          thirdReminderDaysAfterDue:
                            type: number
                            description: Days after due date for third reminder
                          reminderFeeAmount:
                            type: number
                            description: Fee amount added per reminder
                          autoMarkOverdueDays:
                            type: number
                            description: Days after due date to auto-mark as overdue
                          currency:
                            type: string
                            description: Currency code (e.g., SEK, EUR)
                          createdAt:
                            type: string
                            format: date-time
                            description: Created timestamp
                          updatedAt:
                            type: string
                            format: date-time
                            description: Updated timestamp
                        required:
                          - id
                          - locationId
                          - defaultPaymentTermsDays
                          - invoiceNumberCounter
                          - minInvoiceAmount
                          - latePaymentFee
                          - latePaymentInterestRate
                          - autoGenerateEnabled
                          - autoSendOnGeneration
                          - collectionPeriodType
                          - reminderEnabled
                          - firstReminderDaysAfterDue
                          - secondReminderDaysAfterDue
                          - thirdReminderDaysAfterDue
                          - reminderFeeAmount
                          - autoMarkOverdueDays
                          - currency
                          - createdAt
                          - updatedAt
                        nullable: true
                      location:
                        type: object
                        properties:
                          id:
                            type: number
                            description: Location ID
                          name:
                            type: string
                            nullable: true
                            description: Location name
                          address:
                            type: string
                            nullable: true
                            description: Address
                          postalCode:
                            type: string
                            nullable: true
                            description: Postal code
                          city:
                            type: string
                            nullable: true
                            description: City
                          country:
                            type: string
                            nullable: true
                            description: Country
                          phone:
                            type: string
                            nullable: true
                            description: Phone
                          organizationNumber:
                            type: string
                            nullable: true
                            description: Organization number
                          email:
                            type: string
                            nullable: true
                            description: Email
                          vatNumber:
                            type: string
                            nullable: true
                            description: VAT number
                        required:
                          - id
                        nullable: true
                      purchaseDetails:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                              description: Purchase ID
                            intentId:
                              type: string
                              description: Intent ID
                            purchasedAt:
                              type: string
                              format: date-time
                              description: Purchase timestamp
                            totalAmountCents:
                              type: number
                              description: Total amount in cents
                            vatAmountCents:
                              type: number
                              description: VAT amount in cents
                            items:
                              type: string
                              nullable: true
                              description: Items description
                            lineItems:
                              type: array
                              items:
                                type: object
                                properties:
                                  id:
                                    type: number
                                    description: Line item ID
                                  type:
                                    type: string
                                    description: Item type
                                  title:
                                    type: string
                                    description: Item title
                                  quantity:
                                    type: number
                                    description: Quantity
                                  finalAmountCents:
                                    type: number
                                    description: Final amount in cents
                                  vatRateBasisPoints:
                                    type: number
                                    nullable: true
                                    description: VAT rate in basis points
                                  vatAmountCents:
                                    type: number
                                    description: VAT amount in cents
                                  articleNo:
                                    type: string
                                    nullable: true
                                    description: Article number
                                required:
                                  - id
                                  - type
                                  - title
                                  - quantity
                                  - finalAmountCents
                                  - vatAmountCents
                              description: Line items
                          required:
                            - id
                            - intentId
                            - purchasedAt
                            - totalAmountCents
                            - vatAmountCents
                            - lineItems
                    required:
                      - invoice
                      - purchaseDetails
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/invoices/{invoiceId}/upload-pdf:
    post:
      summary: Upload invoice PDF
      tags:
        - Invoices
      description: |-
        Upload a generated PDF for an invoice. The PDF should be base64-encoded.

        **Permissions:** ðŸŸ  `invoices.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                pdfBase64:
                  type: string
                  description: Base64-encoded PDF content
              required:
                - pdfBase64
        required: true
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: invoiceId
          required: true
          description: Invoice UUID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: PDF storage record ID
                      invoiceId:
                        type: string
                        format: uuid
                        description: Invoice ID
                      pdfUrl:
                        type: string
                        description: URL to the PDF
                      cdnPath:
                        type: string
                        description: CDN path
                      fileSize:
                        type: number
                        description: File size in bytes
                      generatedAt:
                        type: string
                        format: date-time
                        description: Generation timestamp
                    required:
                      - id
                      - invoiceId
                      - pdfUrl
                      - cdnPath
                      - fileSize
                      - generatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/roles:
    get:
      summary: List roles
      tags:
        - Roles
      description: |-
        List all roles in a company with optional filters

        Note: KARMELEON role is automatically filtered from results

        **Permissions:** ðŸ”µ `roles.read`
      parameters:
        - schema:
            type: number
            minimum: 1
            default: 1
          in: query
          name: page
          required: false
        - schema:
            type: number
            minimum: 1
            maximum: 1000
            default: 50
          in: query
          name: limit
          required: false
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: object
                    properties:
                      roles:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                            name:
                              type: string
                            description:
                              type: string
                              nullable: true
                            locationId:
                              type: number
                              nullable: true
                              description: NULL = global role, number = location-specific role
                            permissionIds:
                              type: array
                              items:
                                type: number
                            isGlobal:
                              type: boolean
                              description: True if this is a global/default role (available to all locations)
                            createdAt:
                              type: string
                              format: date-time
                            updatedAt:
                              type: string
                              format: date-time
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                            minimum: 1
                          limit:
                            type: number
                            minimum: 1
                            maximum: 100
                          total:
                            type: number
                            minimum: 0
                          totalPages:
                            type: number
                            minimum: 0
                        required:
                          - page
                          - limit
                          - total
                          - totalPages
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    post:
      summary: Create role
      tags:
        - Roles
      description: |-
        Create a new role in the company

        **Permissions:** ðŸŸ¢ `roles.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - permissionIds
              properties:
                name:
                  type: string
                  minLength: 1
                  maxLength: 100
                description:
                  type: string
                  nullable: true
                  description: Optional role description
                permissionIds:
                  type: array
                  items:
                    type: number
                  description: Array of permission IDs to assign to this role
        required: true
      responses:
        "201":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                      name:
                        type: string
                      description:
                        type: string
                        nullable: true
                      locationId:
                        type: number
                        nullable: true
                        description: NULL = global role, number = location-specific role
                      permissionIds:
                        type: array
                        items:
                          type: number
                      isGlobal:
                        type: boolean
                        description: True if this is a global/default role (available to all locations)
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/roles/{id}:
    get:
      summary: Get role
      tags:
        - Roles
      description: |-
        Get a single role by ID

        **Permissions:** ðŸ”µ `roles.read`
      parameters:
        - schema:
            type: number
          in: path
          name: id
          required: true
          description: Role ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                      name:
                        type: string
                      description:
                        type: string
                        nullable: true
                      locationId:
                        type: number
                        nullable: true
                        description: NULL = global role, number = location-specific role
                      permissionIds:
                        type: array
                        items:
                          type: number
                      isGlobal:
                        type: boolean
                        description: True if this is a global/default role (available to all locations)
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    put:
      summary: Update role
      tags:
        - Roles
      description: |-
        Update an existing role

        Note: Cannot update system roles or KARMELEON role

        **Permissions:** ðŸŸ  `roles.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  minLength: 1
                  maxLength: 100
                description:
                  type: string
                  description: Optional role description
                permissionIds:
                  type: array
                  items:
                    type: number
                  description: Array of permission IDs to assign to this role
      parameters:
        - schema:
            type: number
          in: path
          name: id
          required: true
          description: Role ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                      name:
                        type: string
                      description:
                        type: string
                        nullable: true
                      locationId:
                        type: number
                        nullable: true
                        description: NULL = global role, number = location-specific role
                      permissionIds:
                        type: array
                        items:
                          type: number
                      isGlobal:
                        type: boolean
                        description: True if this is a global/default role (available to all locations)
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    delete:
      summary: Delete role
      tags:
        - Roles
      description: >-
        Delete a role


        Note: Cannot delete system roles, KARMELEON role, or roles in use by
        users


        **Permissions:** ðŸ”´ `roles.delete`
      parameters:
        - schema:
            type: number
          in: path
          name: id
          required: true
          description: Role ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                      id:
                        type: number
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/permissions:
    get:
      summary: List permissions
      tags:
        - Permissions
      description: |-
        List all permissions in the system with optional filters

        **Permissions:** ðŸ”µ `permissions.read`
      parameters:
        - schema:
            type: string
          in: query
          name: category
          required: false
          description: Filter by category
        - schema:
            type: string
          in: query
          name: search
          required: false
          description: Search by key, name, or description
        - schema:
            type: number
            minimum: 1
            default: 1
          in: query
          name: page
          required: false
        - schema:
            type: number
            minimum: 1
            maximum: 1000
            default: 50
          in: query
          name: limit
          required: false
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: object
                    properties:
                      permissions:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                            key:
                              type: string
                              example: inventory.read
                            name:
                              type: string
                              example: Read Inventory
                            description:
                              type: string
                              nullable: true
                            category:
                              type: string
                              nullable: true
                              example: Inventory
                            createdAt:
                              type: string
                              format: date-time
                            updatedAt:
                              type: string
                              format: date-time
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                            minimum: 1
                          limit:
                            type: number
                            minimum: 1
                            maximum: 100
                          total:
                            type: number
                            minimum: 0
                          totalPages:
                            type: number
                            minimum: 0
                        required:
                          - page
                          - limit
                          - total
                          - totalPages
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    post:
      summary: Create permission
      tags:
        - Permissions
      description: |-
        Create a new permission in the system

        INTERNAL: Only accessible to specific Karmeleon user IDs

        **Permissions:** ðŸŸ¢ `permissions.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - key
                - name
              properties:
                key:
                  type: string
                  pattern: ^[a-z]+\.[a-z]+$
                  description: Dot notation permission key (e.g., resource.action)
                name:
                  type: string
                description:
                  type: string
                  nullable: true
                category:
                  type: string
                  nullable: true
        required: true
      x-internal: true
      responses:
        "201":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                      key:
                        type: string
                        example: inventory.read
                      name:
                        type: string
                        example: Read Inventory
                      description:
                        type: string
                        nullable: true
                      category:
                        type: string
                        nullable: true
                        example: Inventory
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/permissions/matrix:
    get:
      summary: Get permission matrix
      tags:
        - Permissions
      description: |-
        Get all permissions grouped by resource for display in a matrix

        **Permissions:** ðŸ”µ `permissions.read`
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: object
                    properties:
                      resources:
                        type: array
                        items:
                          type: object
                          properties:
                            resource:
                              type: string
                            permissions:
                              type: array
                              items:
                                type: object
                                properties:
                                  id:
                                    type: number
                                  key:
                                    type: string
                                    example: inventory.read
                                  name:
                                    type: string
                                    example: Read Inventory
                                  description:
                                    type: string
                                    nullable: true
                                  category:
                                    type: string
                                    nullable: true
                                    example: Inventory
                                  createdAt:
                                    type: string
                                    format: date-time
                                  updatedAt:
                                    type: string
                                    format: date-time
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/permissions/{id}:
    get:
      summary: Get permission
      tags:
        - Permissions
      description: |-
        Get a single permission by ID

        **Permissions:** ðŸ”µ `permissions.read`
      parameters:
        - schema:
            type: number
          in: path
          name: id
          required: true
          description: Permission ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                      key:
                        type: string
                        example: inventory.read
                      name:
                        type: string
                        example: Read Inventory
                      description:
                        type: string
                        nullable: true
                      category:
                        type: string
                        nullable: true
                        example: Inventory
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    put:
      summary: Update permission
      tags:
        - Permissions
      description: |-
        Update an existing permission

        INTERNAL: Only accessible to specific Karmeleon user IDs

        Note: Cannot update permission key

        **Permissions:** ðŸŸ  `permissions.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                  nullable: true
                category:
                  type: string
                  nullable: true
      parameters:
        - schema:
            type: number
          in: path
          name: id
          required: true
          description: Permission ID
      x-internal: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                      key:
                        type: string
                        example: inventory.read
                      name:
                        type: string
                        example: Read Inventory
                      description:
                        type: string
                        nullable: true
                      category:
                        type: string
                        nullable: true
                        example: Inventory
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    delete:
      summary: Delete permission
      tags:
        - Permissions
      description: |-
        Delete a permission

        INTERNAL: Only accessible to specific Karmeleon user IDs

        Note: Cannot delete permissions in use by roles or users

        **Permissions:** ðŸ”´ `permissions.delete`
      parameters:
        - schema:
            type: number
          in: path
          name: id
          required: true
          description: Permission ID
      x-internal: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                      id:
                        type: number
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/custom-tags/search:
    get:
      summary: Search custom tags
      tags:
        - Custom Tags
      description: |-
        Search for custom tags by query string

        **Permissions:** ðŸ”µ `custom_tags.read`
      parameters:
        - schema:
            type: string
            minLength: 3
          in: query
          name: query
          required: true
          description: Search string (minimum 3 characters)
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                          description: Unique tag ID
                        key:
                          type: string
                          description: Tag key/name
                        categoryHandle:
                          type: string
                          description: Category handle
                        categoryId:
                          type: number
                          description: Category ID
                        languageId:
                          type: number
                          description: Language ID
                      required:
                        - id
                        - key
                        - categoryHandle
                        - categoryId
                        - languageId
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/custom-tags:
    post:
      summary: Create custom tag
      tags:
        - Custom Tags
      description: |-
        Create a new custom tag and link it to an item

        **Permissions:** ðŸŸ¢ `custom_tags.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                itemId:
                  type: number
                  description: Item ID to tag
                categoryHandle:
                  type: string
                  description: Category handle
                key:
                  type: string
                  minLength: 1
                  description: Tag key/name
              required:
                - itemId
                - categoryHandle
                - key
        required: true
      responses:
        "201":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                        description: Unique tag ID
                      key:
                        type: string
                        description: Tag key/name
                      categoryHandle:
                        type: string
                        description: Category handle
                      categoryId:
                        type: number
                        description: Category ID
                      languageId:
                        type: number
                        description: Language ID
                    required:
                      - id
                      - key
                      - categoryHandle
                      - categoryId
                      - languageId
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/custom-tags/link:
    post:
      summary: Link custom tag
      tags:
        - Custom Tags
      description: |-
        Link an existing custom tag to an item

        **Permissions:** ðŸŸ  `custom_tags.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                itemId:
                  type: number
                  description: Item ID
                customTagId:
                  type: number
                  description: Custom tag ID to link
              required:
                - itemId
                - customTagId
        required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/custom-tags/unlink:
    post:
      summary: Unlink custom tag
      tags:
        - Custom Tags
      description: |-
        Unlink a custom tag from an item

        **Permissions:** ðŸŸ  `custom_tags.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                itemId:
                  type: number
                  description: Item ID
                customTagId:
                  type: number
                  description: Custom tag ID to unlink
              required:
                - itemId
                - customTagId
        required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/coursings:
    get:
      summary: List coursings
      tags:
        - Coursings
      description: |-
        List coursings with optional filtering

        **Permissions:** ðŸ”µ `coursings.read`
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: false
          description: Filter by location ID
        - schema:
            type: number
            minimum: 1
            default: 1
          in: query
          name: page
          required: false
          description: Page number
        - schema:
            type: number
            minimum: 1
            maximum: 100
            default: 20
          in: query
          name: limit
          required: false
          description: Items per page
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      coursings:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: Unique coursing ID (UUID)
                            locationId:
                              type: number
                              description: Location ID this coursing belongs to
                            title:
                              type: string
                              description: Coursing title (e.g., "Appetizer", "Main", "Dessert")
                            order:
                              type: number
                              minimum: 0
                              maximum: 100
                              description: Display order (0-100)
                            color:
                              type: string
                              nullable: true
                              description: "Hex color code (e.g., #FF5733) for visual differentiation"
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              description: Last update timestamp
                          required:
                            - id
                            - locationId
                            - title
                            - order
                            - color
                            - createdAt
                            - updatedAt
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                            minimum: 1
                          limit:
                            type: number
                            minimum: 1
                            maximum: 100
                          total:
                            type: number
                            minimum: 0
                          totalPages:
                            type: number
                            minimum: 0
                        required:
                          - page
                          - limit
                          - total
                          - totalPages
                    required:
                      - coursings
                      - pagination
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    post:
      summary: Create coursing
      tags:
        - Coursings
      description: |-
        Create a new coursing

        **Permissions:** ðŸŸ¢ `coursings.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                locationId:
                  type: number
                  description: Location ID
                title:
                  type: string
                  minLength: 1
                  description: Coursing title
                order:
                  type: number
                  minimum: 0
                  maximum: 100
                  description: Display order (0-100)
                color:
                  type: string
                  nullable: true
                  description: "Hex color code (e.g., #FF5733)"
              required:
                - locationId
                - title
                - order
        required: true
      responses:
        "201":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Unique coursing ID (UUID)
                      locationId:
                        type: number
                        description: Location ID this coursing belongs to
                      title:
                        type: string
                        description: Coursing title (e.g., "Appetizer", "Main", "Dessert")
                      order:
                        type: number
                        minimum: 0
                        maximum: 100
                        description: Display order (0-100)
                      color:
                        type: string
                        nullable: true
                        description: "Hex color code (e.g., #FF5733) for visual differentiation"
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Last update timestamp
                    required:
                      - id
                      - locationId
                      - title
                      - order
                      - color
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/coursings/{id}:
    get:
      summary: Get coursing
      tags:
        - Coursings
      description: |-
        Get a single coursing by ID

        **Permissions:** ðŸ”µ `coursings.read`
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: Coursing ID (UUID)
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Unique coursing ID (UUID)
                      locationId:
                        type: number
                        description: Location ID this coursing belongs to
                      title:
                        type: string
                        description: Coursing title (e.g., "Appetizer", "Main", "Dessert")
                      order:
                        type: number
                        minimum: 0
                        maximum: 100
                        description: Display order (0-100)
                      color:
                        type: string
                        nullable: true
                        description: "Hex color code (e.g., #FF5733) for visual differentiation"
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Last update timestamp
                    required:
                      - id
                      - locationId
                      - title
                      - order
                      - color
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    put:
      summary: Update coursing
      tags:
        - Coursings
      description: |-
        Update an existing coursing

        **Permissions:** ðŸŸ  `coursings.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                  minLength: 1
                order:
                  type: number
                  minimum: 0
                  maximum: 100
                color:
                  type: string
                  nullable: true
                  description: "Hex color code (e.g., #FF5733)"
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: Coursing ID (UUID)
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Unique coursing ID (UUID)
                      locationId:
                        type: number
                        description: Location ID this coursing belongs to
                      title:
                        type: string
                        description: Coursing title (e.g., "Appetizer", "Main", "Dessert")
                      order:
                        type: number
                        minimum: 0
                        maximum: 100
                        description: Display order (0-100)
                      color:
                        type: string
                        nullable: true
                        description: "Hex color code (e.g., #FF5733) for visual differentiation"
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Last update timestamp
                    required:
                      - id
                      - locationId
                      - title
                      - order
                      - color
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    delete:
      summary: Delete coursing
      tags:
        - Coursings
      description: |-
        Delete a coursing

        **Permissions:** ðŸ”´ `coursings.delete`
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: Coursing ID (UUID)
      responses:
        "200":
          description: Coursing successfully deleted
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      deleted:
                        type: boolean
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/terminals:
    get:
      summary: List payment terminals
      tags:
        - Terminals
      description: |-
        Get all payment terminals for a location

        **Permissions:** ðŸ”µ `terminals.read`
      parameters:
        - schema:
            type: string
          in: query
          name: locationId
          required: true
          description: Location ID to fetch terminals for
      responses:
        "200":
          description: Terminals fetched successfully
          content:
            application/json:
              schema:
                description: Terminals fetched successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                          description: Terminal UUID
                        externalId:
                          type: string
                          description: External terminal ID from payment provider
                        locationId:
                          type: integer
                          description: Location ID this terminal belongs to
                        createdAt:
                          type: string
                          format: date-time
                          description: Terminal creation timestamp
                        updatedAt:
                          type: string
                          format: date-time
                          description: Terminal last update timestamp
                        title:
                          type: string
                          description: Terminal display name
                        type:
                          oneOf:
                            - type: string
                              enum:
                                - p400plus
                                - s1f2
                                - s1u2
                                - s1e2l
                                - v400cplus
                                - v400m
                                - any
                              description: Terminal hardware type
                            - type: "null"
                          description: Terminal hardware type (null if not specified)
                      required:
                        - id
                        - externalId
                        - locationId
                        - createdAt
                        - updatedAt
                        - title
                        - type
                    description: Array of terminals
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/terminals/statuses:
    get:
      summary: Get terminal statuses
      tags:
        - Terminals
      description: |-
        Get real-time connection status for all terminals at a location

        **Permissions:** ðŸ”µ `terminals.read`
      parameters:
        - schema:
            type: string
          in: query
          name: locationId
          required: true
          description: Location ID to fetch terminal statuses for
      responses:
        "200":
          description: Terminal statuses fetched successfully
          content:
            application/json:
              schema:
                description: Terminal statuses fetched successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      terminals:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              format: uuid
                              description: Terminal UUID
                            externalId:
                              type: string
                              description: External terminal ID from payment provider
                            locationId:
                              type: integer
                              description: Location ID this terminal belongs to
                            createdAt:
                              type: string
                              format: date-time
                              description: Terminal creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              description: Terminal last update timestamp
                            title:
                              type: string
                              description: Terminal display name
                            type:
                              oneOf:
                                - type: string
                                  enum:
                                    - p400plus
                                    - s1f2
                                    - s1u2
                                    - s1e2l
                                    - v400cplus
                                    - v400m
                                    - any
                                  description: Terminal hardware type
                                - type: "null"
                              description: Terminal hardware type (null if not specified)
                          required:
                            - id
                            - externalId
                            - locationId
                            - createdAt
                            - updatedAt
                            - title
                            - type
                        description: Array of terminals
                      message:
                        type: string
                        description: Information about status updates
                    required:
                      - terminals
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/printers:
    get:
      tags:
        - Printers
      description: List all printers for a location with CloudPRNT URLs
      parameters:
        - schema:
            type: integer
          in: query
          name: locationId
          required: false
          description: Location ID to filter printers. If not provided, uses X-Location-Id
            header or default location.
      responses:
        "200":
          description: Successfully retrieved printers
          content:
            application/json:
              schema:
                description: Successfully retrieved printers
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      printers:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              format: uuid
                              description: Unique printer identifier
                            printerGroupId:
                              type: string
                              format: uuid
                              description: ID of the printer group this printer belongs to
                            locationId:
                              type: integer
                              description: Location ID where the printer is installed
                            name:
                              type: string
                              nullable: true
                              description: Name of the printer (from printer group)
                            type:
                              type: string
                              enum:
                                - tsp654
                                - any
                                - v400m
                                - v400cplus
                                - s1f2
                                - mcprint3
                              nullable: true
                              description: Hardware type of the printer
                            status:
                              type: string
                              nullable: true
                              description: Last reported status code from the printer
                            state:
                              type: string
                              enum:
                                - online
                                - offline
                              description: Current state of the printer (online if both printer is online and
                                group is published)
                            idle:
                              type: boolean
                              nullable: true
                              description: Whether the printer is currently idle (not processing jobs)
                            cloudPrntUrl:
                              type: string
                              format: uri
                              description: CloudPRNT polling URL to configure on the physical printer
                              example: https://printer.karma.life/api/cloudprnt/location/123/printer/abc-def-ghi
                            createdAt:
                              type: string
                              format: date-time
                              description: When the printer was created
                            updatedAt:
                              type: string
                              format: date-time
                              description: When the printer was last updated
                          required:
                            - id
                            - printerGroupId
                            - locationId
                            - state
                            - cloudPrntUrl
                            - createdAt
                            - updatedAt
                      total:
                        type: integer
                        description: Total number of printers
                    required:
                      - printers
                      - total
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/printers/{printerId}:
    get:
      tags:
        - Printers
      description: Get a single printer by ID
      parameters:
        - schema:
            type: integer
          in: query
          name: locationId
          required: false
          description: Location ID for access verification. If not provided, uses
            X-Location-Id header or default location.
        - schema:
            type: string
            format: uuid
          in: path
          name: printerId
          required: true
          description: Printer UUID
      responses:
        "200":
          description: Successfully retrieved printer
          content:
            application/json:
              schema:
                description: Successfully retrieved printer
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      printer:
                        type: object
                        properties:
                          id:
                            type: string
                            format: uuid
                            description: Unique printer identifier
                          printerGroupId:
                            type: string
                            format: uuid
                            description: ID of the printer group this printer belongs to
                          locationId:
                            type: integer
                            description: Location ID where the printer is installed
                          name:
                            type: string
                            nullable: true
                            description: Name of the printer (from printer group)
                          type:
                            type: string
                            enum:
                              - tsp654
                              - any
                              - v400m
                              - v400cplus
                              - s1f2
                              - mcprint3
                            nullable: true
                            description: Hardware type of the printer
                          status:
                            type: string
                            nullable: true
                            description: Last reported status code from the printer
                          state:
                            type: string
                            enum:
                              - online
                              - offline
                            description: Current state of the printer (online if both printer is online and
                              group is published)
                          idle:
                            type: boolean
                            nullable: true
                            description: Whether the printer is currently idle (not processing jobs)
                          cloudPrntUrl:
                            type: string
                            format: uri
                            description: CloudPRNT polling URL to configure on the physical printer
                            example: https://printer.karma.life/api/cloudprnt/location/123/printer/abc-def-ghi
                          createdAt:
                            type: string
                            format: date-time
                            description: When the printer was created
                          updatedAt:
                            type: string
                            format: date-time
                            description: When the printer was last updated
                        required:
                          - id
                          - printerGroupId
                          - locationId
                          - state
                          - cloudPrntUrl
                          - createdAt
                          - updatedAt
                    required:
                      - printer
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/printer-groups/{printerGroupId}:
    get:
      tags:
        - Printers
      description: Get a printer group by ID with its printers and CloudPRNT URLs
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: printerGroupId
          required: true
          description: Printer Group UUID
      responses:
        "200":
          description: Successfully retrieved printer group
          content:
            application/json:
              schema:
                description: Successfully retrieved printer group
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      printerGroup:
                        type: object
                        properties:
                          id:
                            type: string
                            format: uuid
                            description: Unique printer group identifier
                          name:
                            type: string
                            nullable: true
                            description: Name of the printer group
                          type:
                            type: string
                            nullable: true
                            description: Type of the printer group
                          locationId:
                            type: integer
                            description: Location ID where the printer group is configured
                          createdAt:
                            type: string
                            format: date-time
                            description: When the printer group was created
                          updatedAt:
                            type: string
                            format: date-time
                            description: When the printer group was last updated
                          metaData:
                            type: object
                            nullable: true
                            properties:
                              fontSize:
                                type: string
                                nullable: true
                                description: Font size setting for receipts
                              logotypeUrl:
                                type: string
                                nullable: true
                                description: URL of the logo to print on receipts
                              message:
                                type: string
                                nullable: true
                                description: Custom message to print on receipts
                              displayPayQRProforma:
                                type: boolean
                                nullable: true
                                description: Whether to display payment QR code on proforma
                              displayOrderQRReciept:
                                type: boolean
                                nullable: true
                                description: Whether to display order QR code on receipt
                          printers:
                            type: array
                            items:
                              type: object
                              properties:
                                id:
                                  type: string
                                  format: uuid
                                  description: Unique printer identifier
                                printerGroupId:
                                  type: string
                                  format: uuid
                                  description: ID of the printer group this printer belongs to
                                locationId:
                                  type: integer
                                  description: Location ID where the printer is installed
                                name:
                                  type: string
                                  nullable: true
                                  description: Name of the printer (from printer group)
                                type:
                                  type: string
                                  enum:
                                    - tsp654
                                    - any
                                    - v400m
                                    - v400cplus
                                    - s1f2
                                    - mcprint3
                                  nullable: true
                                  description: Hardware type of the printer
                                status:
                                  type: string
                                  nullable: true
                                  description: Last reported status code from the printer
                                state:
                                  type: string
                                  enum:
                                    - online
                                    - offline
                                  description: Current state of the printer (online if both printer is online and
                                    group is published)
                                idle:
                                  type: boolean
                                  nullable: true
                                  description: Whether the printer is currently idle (not processing jobs)
                                cloudPrntUrl:
                                  type: string
                                  format: uri
                                  description: CloudPRNT polling URL to configure on the physical printer
                                  example: https://printer.karma.life/api/cloudprnt/location/123/printer/abc-def-ghi
                                createdAt:
                                  type: string
                                  format: date-time
                                  description: When the printer was created
                                updatedAt:
                                  type: string
                                  format: date-time
                                  description: When the printer was last updated
                              required:
                                - id
                                - printerGroupId
                                - locationId
                                - state
                                - cloudPrntUrl
                                - createdAt
                                - updatedAt
                            description: Printers in this group with CloudPRNT URLs
                        required:
                          - id
                          - locationId
                          - createdAt
                          - updatedAt
                          - printers
                    required:
                      - printerGroup
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/print-templates:
    get:
      summary: List print templates
      tags:
        - Print Templates
      description: Get a list of all print templates with optional filtering
      parameters:
        - schema:
            type: string
            enum:
              - kitchen_ticket
              - purchase_receipt
              - pre_check
              - order_confirmation
              - custom
          in: query
          name: type
          required: false
          description: Filter by template type
        - schema:
            type: boolean
          in: query
          name: isActive
          required: false
          description: Filter by active status
        - schema:
            type: boolean
          in: query
          name: isSystem
          required: false
          description: Filter by system template status
        - schema:
            type: number
            minimum: 1
            maximum: 100
            default: 50
          in: query
          name: limit
          required: false
        - schema:
            type: number
            minimum: 0
            default: 0
          in: query
          name: offset
          required: false
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  data:
                    type: object
                    properties:
                      templates:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              format: uuid
                            type:
                              type: string
                              enum:
                                - kitchen_ticket
                                - purchase_receipt
                                - pre_check
                                - order_confirmation
                                - custom
                            name:
                              type: string
                            description:
                              type: string
                              nullable: true
                            version:
                              type: number
                            isActive:
                              type: boolean
                            isSystem:
                              type: boolean
                            content:
                              type: object
                              additionalProperties: true
                            createdAt:
                              type: string
                              format: date-time
                            updatedAt:
                              type: string
                              format: date-time
                            createdBy:
                              type: number
                              nullable: true
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                            minimum: 1
                          limit:
                            type: number
                            minimum: 1
                            maximum: 100
                          total:
                            type: number
                            minimum: 0
                          totalPages:
                            type: number
                            minimum: 0
                        required:
                          - page
                          - limit
                          - total
                          - totalPages
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    post:
      summary: Create print template
      tags:
        - Print Templates
      description: Create a new custom print template
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - type
                - name
                - content
              properties:
                type:
                  type: string
                  enum:
                    - kitchen_ticket
                    - purchase_receipt
                    - pre_check
                    - order_confirmation
                    - custom
                name:
                  type: string
                  minLength: 1
                  maxLength: 100
                description:
                  type: string
                  maxLength: 500
                content:
                  type: object
                  additionalProperties: true
        required: true
      responses:
        "201":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                      type:
                        type: string
                        enum:
                          - kitchen_ticket
                          - purchase_receipt
                          - pre_check
                          - order_confirmation
                          - custom
                      name:
                        type: string
                      description:
                        type: string
                        nullable: true
                      version:
                        type: number
                      isActive:
                        type: boolean
                      isSystem:
                        type: boolean
                      content:
                        type: object
                        additionalProperties: true
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
                      createdBy:
                        type: number
                        nullable: true
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/print-templates/{id}:
    get:
      summary: Get print template
      tags:
        - Print Templates
      description: Get a single print template by ID
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                      type:
                        type: string
                        enum:
                          - kitchen_ticket
                          - purchase_receipt
                          - pre_check
                          - order_confirmation
                          - custom
                      name:
                        type: string
                      description:
                        type: string
                        nullable: true
                      version:
                        type: number
                      isActive:
                        type: boolean
                      isSystem:
                        type: boolean
                      content:
                        type: object
                        additionalProperties: true
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
                      createdBy:
                        type: number
                        nullable: true
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    patch:
      summary: Update print template
      tags:
        - Print Templates
      description: Update an existing custom print template (system templates cannot
        be modified)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  minLength: 1
                  maxLength: 100
                description:
                  type: string
                  maxLength: 500
                content:
                  type: object
                  additionalProperties: true
                isActive:
                  type: boolean
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                      type:
                        type: string
                        enum:
                          - kitchen_ticket
                          - purchase_receipt
                          - pre_check
                          - order_confirmation
                          - custom
                      name:
                        type: string
                      description:
                        type: string
                        nullable: true
                      version:
                        type: number
                      isActive:
                        type: boolean
                      isSystem:
                        type: boolean
                      content:
                        type: object
                        additionalProperties: true
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
                      createdBy:
                        type: number
                        nullable: true
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    delete:
      summary: Delete print template
      tags:
        - Print Templates
      description: Delete a custom print template (system templates cannot be deleted)
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                      id:
                        type: string
                        format: uuid
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/print-templates/type/{type}:
    get:
      summary: Get active print template by type
      tags:
        - Print Templates
      description: Get the currently active print template for a specific type
      parameters:
        - schema:
            type: string
            enum:
              - kitchen_ticket
              - purchase_receipt
              - pre_check
              - order_confirmation
              - custom
          in: path
          name: type
          required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                      type:
                        type: string
                        enum:
                          - kitchen_ticket
                          - purchase_receipt
                          - pre_check
                          - order_confirmation
                          - custom
                      name:
                        type: string
                      description:
                        type: string
                        nullable: true
                      version:
                        type: number
                      isActive:
                        type: boolean
                      isSystem:
                        type: boolean
                      content:
                        type: object
                        additionalProperties: true
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
                      createdBy:
                        type: number
                        nullable: true
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/locations/{locationId}/print-settings:
    get:
      summary: Get location print settings
      tags:
        - Print Templates
      description: Get print settings for a specific location
      parameters:
        - schema:
            type: number
          in: path
          name: locationId
          required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                      locationId:
                        type: number
                      fontSize:
                        type: number
                        nullable: true
                        minimum: 1
                        maximum: 4
                      fontFamily:
                        type: string
                        nullable: true
                        enum:
                          - a
                          - b
                      lineSpacing:
                        type: number
                        nullable: true
                        minimum: 1
                        maximum: 5
                      logoUrl:
                        type: string
                        nullable: true
                      headerText:
                        type: string
                        nullable: true
                      footerText:
                        type: string
                        nullable: true
                      showLogo:
                        type: boolean
                        nullable: true
                      printQrCode:
                        type: boolean
                        nullable: true
                      printVatBreakdown:
                        type: boolean
                        nullable: true
                      kitchenTicketBeep:
                        type: boolean
                        nullable: true
                      language:
                        type: string
                        nullable: true
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    put:
      summary: Save location print settings
      tags:
        - Print Templates
      description: Create or update print settings for a location
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                fontSize:
                  type: number
                  minimum: 1
                  maximum: 4
                  nullable: true
                fontFamily:
                  type: string
                  enum:
                    - a
                    - b
                  nullable: true
                lineSpacing:
                  type: number
                  minimum: 1
                  maximum: 5
                  nullable: true
                logoUrl:
                  type: string
                  nullable: true
                headerText:
                  type: string
                  nullable: true
                footerText:
                  type: string
                  nullable: true
                showLogo:
                  type: boolean
                  nullable: true
                printQrCode:
                  type: boolean
                  nullable: true
                printVatBreakdown:
                  type: boolean
                  nullable: true
                kitchenTicketBeep:
                  type: boolean
                  nullable: true
                language:
                  type: string
                  nullable: true
      parameters:
        - schema:
            type: number
          in: path
          name: locationId
          required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                      locationId:
                        type: number
                      fontSize:
                        type: number
                        nullable: true
                        minimum: 1
                        maximum: 4
                      fontFamily:
                        type: string
                        nullable: true
                        enum:
                          - a
                          - b
                      lineSpacing:
                        type: number
                        nullable: true
                        minimum: 1
                        maximum: 5
                      logoUrl:
                        type: string
                        nullable: true
                      headerText:
                        type: string
                        nullable: true
                      footerText:
                        type: string
                        nullable: true
                      showLogo:
                        type: boolean
                        nullable: true
                      printQrCode:
                        type: boolean
                        nullable: true
                      printVatBreakdown:
                        type: boolean
                        nullable: true
                      kitchenTicketBeep:
                        type: boolean
                        nullable: true
                      language:
                        type: string
                        nullable: true
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    delete:
      summary: Delete location print settings
      tags:
        - Print Templates
      description: Delete print settings for a location (reset to defaults)
      parameters:
        - schema:
            type: number
          in: path
          name: locationId
          required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                      locationId:
                        type: number
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/locations/{locationId}/template-overrides:
    get:
      summary: List location template overrides
      tags:
        - Print Templates
      description: Get all template overrides for a specific location
      parameters:
        - schema:
            type: number
          in: path
          name: locationId
          required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  data:
                    type: object
                    properties:
                      overrides:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              format: uuid
                            locationId:
                              type: number
                            templateType:
                              type: string
                              enum:
                                - kitchen_ticket
                                - purchase_receipt
                                - pre_check
                                - order_confirmation
                                - custom
                            overrideScope:
                              type: string
                              enum:
                                - full
                                - section
                                - settings
                            customTemplateContent:
                              type: object
                              nullable: true
                              additionalProperties: true
                            sectionOverrides:
                              type: object
                              nullable: true
                              additionalProperties: true
                            settingsOverrides:
                              type: object
                              nullable: true
                              additionalProperties: true
                            isActive:
                              type: boolean
                            createdAt:
                              type: string
                              format: date-time
                            updatedAt:
                              type: string
                              format: date-time
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/locations/{locationId}/template-overrides/{templateType}:
    get:
      summary: Get location template override
      tags:
        - Print Templates
      description: Get a specific template override for a location
      parameters:
        - schema:
            type: number
          in: path
          name: locationId
          required: true
        - schema:
            type: string
            enum:
              - kitchen_ticket
              - purchase_receipt
              - pre_check
              - order_confirmation
              - custom
          in: path
          name: templateType
          required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                      locationId:
                        type: number
                      templateType:
                        type: string
                        enum:
                          - kitchen_ticket
                          - purchase_receipt
                          - pre_check
                          - order_confirmation
                          - custom
                      overrideScope:
                        type: string
                        enum:
                          - full
                          - section
                          - settings
                      customTemplateContent:
                        type: object
                        nullable: true
                        additionalProperties: true
                      sectionOverrides:
                        type: object
                        nullable: true
                        additionalProperties: true
                      settingsOverrides:
                        type: object
                        nullable: true
                        additionalProperties: true
                      isActive:
                        type: boolean
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    put:
      summary: Save location template override
      tags:
        - Print Templates
      description: Create or update a template override for a location
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - overrideScope
              properties:
                overrideScope:
                  type: string
                  enum:
                    - full
                    - section
                    - settings
                customTemplateContent:
                  type: object
                  nullable: true
                  additionalProperties: true
                sectionOverrides:
                  type: object
                  nullable: true
                  additionalProperties: true
                settingsOverrides:
                  type: object
                  nullable: true
                  additionalProperties: true
        required: true
      parameters:
        - schema:
            type: number
          in: path
          name: locationId
          required: true
        - schema:
            type: string
            enum:
              - kitchen_ticket
              - purchase_receipt
              - pre_check
              - order_confirmation
              - custom
          in: path
          name: templateType
          required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                      locationId:
                        type: number
                      templateType:
                        type: string
                        enum:
                          - kitchen_ticket
                          - purchase_receipt
                          - pre_check
                          - order_confirmation
                          - custom
                      overrideScope:
                        type: string
                        enum:
                          - full
                          - section
                          - settings
                      customTemplateContent:
                        type: object
                        nullable: true
                        additionalProperties: true
                      sectionOverrides:
                        type: object
                        nullable: true
                        additionalProperties: true
                      settingsOverrides:
                        type: object
                        nullable: true
                        additionalProperties: true
                      isActive:
                        type: boolean
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/template-overrides/{id}:
    patch:
      summary: Update location template override
      tags:
        - Print Templates
      description: Update an existing template override
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                overrideScope:
                  type: string
                  enum:
                    - full
                    - section
                    - settings
                customTemplateContent:
                  type: object
                  nullable: true
                  additionalProperties: true
                sectionOverrides:
                  type: object
                  nullable: true
                  additionalProperties: true
                settingsOverrides:
                  type: object
                  nullable: true
                  additionalProperties: true
                isActive:
                  type: boolean
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                      locationId:
                        type: number
                      templateType:
                        type: string
                        enum:
                          - kitchen_ticket
                          - purchase_receipt
                          - pre_check
                          - order_confirmation
                          - custom
                      overrideScope:
                        type: string
                        enum:
                          - full
                          - section
                          - settings
                      customTemplateContent:
                        type: object
                        nullable: true
                        additionalProperties: true
                      sectionOverrides:
                        type: object
                        nullable: true
                        additionalProperties: true
                      settingsOverrides:
                        type: object
                        nullable: true
                        additionalProperties: true
                      isActive:
                        type: boolean
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    delete:
      summary: Delete location template override
      tags:
        - Print Templates
      description: Delete a template override for a location
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                      id:
                        type: string
                        format: uuid
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/print-jobs/purchase-receipt:
    post:
      tags:
        - Printers
      description: >-
        Create a purchase receipt print job.


        This endpoint fetches the purchase data from the database and sends a
        complete print job to the printer service via Pub/Sub. The printer
        service will render the receipt using the appropriate template.


        **Flow:**

        1. Validates printer group belongs to location

        2. Fetches purchase data with line items, VAT breakdown, and location
        info

        3. Sends complete data to printer service via Pub/Sub

        4. Returns correlation ID for tracking
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                printerGroupId:
                  type: string
                  format: uuid
                  description: ID of the printer group to print to
                purchaseId:
                  type: string
                  description: ID of the purchase to print receipt for
              required:
                - printerGroupId
                - purchaseId
        required: true
      responses:
        "201":
          description: Print job created successfully
          content:
            application/json:
              schema:
                description: Print job created successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      correlationId:
                        type: string
                        format: uuid
                        description: Unique correlation ID for tracking the print job
                      type:
                        type: string
                        enum:
                          - purchase_receipt
                          - kitchen_ticket
                          - pre_check
                          - order_confirmation
                          - test_print
                          - custom
                        description: Type of print job
                      printerGroupId:
                        type: string
                        format: uuid
                        description: ID of the printer group the job was sent to
                      purchaseId:
                        type: string
                        description: ID of the purchase (for purchase_receipt type)
                    required:
                      - correlationId
                      - type
                      - printerGroupId
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/print-jobs/test:
    post:
      tags:
        - Printers
      description: >-
        Create a test print job.


        This endpoint sends a test page to the specified printer group. Use this
        to verify printer connectivity and configuration.


        **Test Page Contents:**

        - Service name and timestamp

        - Custom message (if provided)

        - Printer configuration info
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                printerGroupId:
                  type: string
                  format: uuid
                  description: ID of the printer group to send test print to
                message:
                  type: string
                  description: Optional custom message to include on the test print
                  maxLength: 500
              required:
                - printerGroupId
        required: true
      responses:
        "201":
          description: Test print job created successfully
          content:
            application/json:
              schema:
                description: Test print job created successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      correlationId:
                        type: string
                        format: uuid
                        description: Unique correlation ID for tracking the print job
                      type:
                        type: string
                        enum:
                          - test_print
                      printerGroupId:
                        type: string
                        format: uuid
                        description: ID of the printer group the job was sent to
                    required:
                      - correlationId
                      - type
                      - printerGroupId
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/print-jobs/custom:
    post:
      tags:
        - Printers
      description: >-
        Create a custom print job with Star Micronics Markdown.


        This endpoint allows sending raw Star Micronics Markdown content
        directly to a printer. Use this for custom receipt formats, promotional
        prints, or testing.


        **Star Micronics Markdown Reference:**

        - `[C]` - Center alignment

        - `[L]` - Left alignment

        - `[R]` - Right alignment

        - `[D:1]` to `[D:4]` - Font size (1 is normal, 4 is largest)

        - `[CUT]` - Cut paper

        - `---` - Horizontal line


        **Example:**

        ```

        [C][D:2]Welcome to Karma!

        [C][D:1]---

        [L]Your custom content here

        [CUT]

        ```
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                printerGroupId:
                  type: string
                  format: uuid
                  description: ID of the printer group to print to
                content:
                  type: string
                  description: Star Micronics Markdown content to print
                  minLength: 1
                  maxLength: 10000
              required:
                - printerGroupId
                - content
        required: true
      responses:
        "201":
          description: Custom print job created successfully
          content:
            application/json:
              schema:
                description: Custom print job created successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      correlationId:
                        type: string
                        format: uuid
                        description: Unique correlation ID for tracking the print job
                      type:
                        type: string
                        enum:
                          - custom
                      printerGroupId:
                        type: string
                        format: uuid
                        description: ID of the printer group the job was sent to
                    required:
                      - correlationId
                      - type
                      - printerGroupId
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/print-jobs/pre-check:
    post:
      tags:
        - Printers
      description: >-
        Create a pre-check (pro forma bill) print job for a table.


        This endpoint prints a pre-check showing all items on a table's tab with
        totals and a payment QR code. Used when guests want to see their bill
        before paying.


        **Flow:**

        1. Validates printer group belongs to location

        2. Fetches tab with all items, prices, and table info

        3. Generates QR code URL for payment

        4. Sends complete data to printer service via Pub/Sub
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                printerGroupId:
                  type: string
                  format: uuid
                  description: ID of the printer group to print to
                tabId:
                  type: string
                  format: uuid
                  description: ID of the tab (QR code/table) to print pre-check for
              required:
                - printerGroupId
                - tabId
        required: true
      responses:
        "201":
          description: Pre-check print job created successfully
          content:
            application/json:
              schema:
                description: Pre-check print job created successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      correlationId:
                        type: string
                        format: uuid
                        description: Unique correlation ID for tracking the print job
                      type:
                        type: string
                        enum:
                          - pre_check
                      printerGroupId:
                        type: string
                        format: uuid
                        description: ID of the printer group the job was sent to
                      tabId:
                        type: string
                        format: uuid
                        description: ID of the tab
                    required:
                      - correlationId
                      - type
                      - printerGroupId
                      - tabId
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/print-jobs/kitchen-ticket-reprint:
    post:
      tags:
        - Printers
      description: >-
        Reprint a kitchen ticket for an existing order.


        This endpoint reprints kitchen tickets for a kitchen dispatch (order).
        Items are automatically routed to the correct printer groups based on
        printer group item configuration.


        **Important:** Unlike the original print, this is a reprint operation
        that bypasses idempotency checks. Each call will create new print jobs.


        **Flow:**

        1. Fetches kitchen dispatch with items, events, and comments

        2. Fetches printer groups for the location

        3. Routes items to correct printer groups based on printer_group_items
        configuration

        4. Sends print jobs for each printer group with relevant items
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                kitchenDispatchId:
                  type: string
                  format: uuid
                  description: ID of the kitchen dispatch (order) to reprint tickets for
              required:
                - kitchenDispatchId
        required: true
      responses:
        "201":
          description: Kitchen ticket reprint jobs created successfully
          content:
            application/json:
              schema:
                description: Kitchen ticket reprint jobs created successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      correlationId:
                        type: string
                        format: uuid
                        description: Unique correlation ID for tracking the print jobs
                      type:
                        type: string
                        enum:
                          - kitchen_ticket
                      kitchenDispatchId:
                        type: string
                        format: uuid
                        description: ID of the kitchen dispatch
                      message:
                        type: string
                        description: Status message indicating the print request was submitted
                    required:
                      - correlationId
                      - type
                      - kitchenDispatchId
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/print-jobs/order-confirmation:
    post:
      tags:
        - Printers
      description: >-
        Create an order confirmation print job.


        This endpoint prints an order confirmation slip for a kitchen dispatch
        (order). Used by POS when "print order confirmation" is enabled.


        **Order Confirmation Contents:**

        - Order number (daily ordinal)

        - Order date/time

        - QR code for order tracking

        - Table name (if applicable)


        **Flow:**

        1. Validates printer group belongs to location

        2. Fetches kitchen dispatch data

        3. Sends print job to printer service via Pub/Sub
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                printerGroupId:
                  type: string
                  format: uuid
                  description: ID of the printer group to print to
                kitchenDispatchId:
                  type: string
                  format: uuid
                  description: ID of the kitchen dispatch (order) to print confirmation for
              required:
                - printerGroupId
                - kitchenDispatchId
        required: true
      responses:
        "201":
          description: Order confirmation print job created successfully
          content:
            application/json:
              schema:
                description: Order confirmation print job created successfully
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      correlationId:
                        type: string
                        format: uuid
                        description: Unique correlation ID for tracking the print job
                      type:
                        type: string
                        enum:
                          - order_confirmation
                      printerGroupId:
                        type: string
                        format: uuid
                        description: ID of the printer group the job was sent to
                      kitchenDispatchId:
                        type: string
                        format: uuid
                        description: ID of the kitchen dispatch
                    required:
                      - correlationId
                      - type
                      - printerGroupId
                      - kitchenDispatchId
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/schedules:
    get:
      summary: List schedules
      tags:
        - Schedules
      description: List schedules with optional filtering
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: false
          description: Filter by location ID
        - schema:
            type: string
            enum:
              - MENU
              - ITEM
              - LOCATION
              - MODIFIER
              - CATEGORY
              - MENU_LAYOUT
              - VARIANT_GROUP
              - VOUCHER
              - EARNING_RULE
          in: query
          name: entityType
          required: false
          description: Filter by entity type
        - schema:
            type: string
          in: query
          name: entityId
          required: false
          description: Filter by entity ID
        - schema:
            type: boolean
          in: query
          name: isActive
          required: false
          description: Filter by active status
        - schema:
            type: number
            minimum: 1
            default: 1
          in: query
          name: page
          required: false
          description: Page number
        - schema:
            type: number
            minimum: 1
            maximum: 100
            default: 20
          in: query
          name: limit
          required: false
          description: Items per page
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      schedules:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: Unique schedule ID
                            entityType:
                              type: string
                              enum:
                                - MENU
                                - ITEM
                                - LOCATION
                                - MODIFIER
                                - CATEGORY
                                - MENU_LAYOUT
                                - VARIANT_GROUP
                                - VOUCHER
                                - EARNING_RULE
                              description: Type of entity being scheduled
                            entityId:
                              type: string
                              description: ID of the entity being scheduled
                            locationId:
                              type: number
                              description: Location ID this schedule applies to
                            name:
                              type: string
                              nullable: true
                              description: Schedule name
                            description:
                              type: string
                              nullable: true
                              description: Schedule description
                            isActive:
                              type: boolean
                              description: Whether schedule is active
                            priority:
                              type: number
                              description: Priority for conflicting schedules (higher = more important)
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              description: Last update timestamp
                            rules:
                              type: array
                              items:
                                type: object
                                properties:
                                  id:
                                    type: string
                                    description: Unique rule ID
                                  scheduleId:
                                    type: string
                                    description: Schedule ID this rule belongs to
                                  ruleType:
                                    type: string
                                    enum:
                                      - WEEKDAY
                                      - DATE_RANGE
                                      - SPECIFIC_DATE
                                    description: Type of schedule rule
                                  weekday:
                                    type: number
                                    nullable: true
                                    minimum: 0
                                    maximum: 6
                                    description: Day of week (0=Sunday, 6=Saturday)
                                  startTime:
                                    type: string
                                    nullable: true
                                    pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$
                                    description: Start time in HH:MM or HH:MM:SS format (seconds are stripped)
                                  endTime:
                                    type: string
                                    nullable: true
                                    pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$
                                    description: End time in HH:MM or HH:MM:SS format (seconds are stripped)
                                  startDate:
                                    type: string
                                    nullable: true
                                    format: date
                                    description: Start date for date range rules
                                  endDate:
                                    type: string
                                    nullable: true
                                    format: date
                                    description: End date for date range rules
                                  validFrom:
                                    type: string
                                    nullable: true
                                    format: date
                                    description: Rule valid from date
                                  validTo:
                                    type: string
                                    nullable: true
                                    format: date
                                    description: Rule valid until date
                                  isAvailable:
                                    type: boolean
                                    description: Whether entity is available during this rule
                                  createdAt:
                                    type: string
                                    format: date-time
                                    description: Creation timestamp
                                required:
                                  - id
                                  - scheduleId
                                  - ruleType
                                  - isAvailable
                                  - createdAt
                              description: Schedule rules defining availability patterns
                          required:
                            - id
                            - entityType
                            - entityId
                            - locationId
                            - isActive
                            - priority
                            - createdAt
                            - updatedAt
                            - rules
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                            minimum: 1
                          limit:
                            type: number
                            minimum: 1
                            maximum: 100
                          total:
                            type: number
                            minimum: 0
                          totalPages:
                            type: number
                            minimum: 0
                        required:
                          - page
                          - limit
                          - total
                          - totalPages
                    required:
                      - schedules
                      - pagination
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    post:
      summary: Create schedule
      tags:
        - Schedules
      description: |-
        Create a new schedule with rules

        **Permissions:** ðŸŸ¢ `schedules.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                entityType:
                  type: string
                  enum:
                    - MENU
                    - ITEM
                    - LOCATION
                    - MODIFIER
                    - CATEGORY
                    - MENU_LAYOUT
                    - VARIANT_GROUP
                    - VOUCHER
                    - EARNING_RULE
                  description: Type of entity being scheduled
                entityId:
                  type: string
                  description: ID of the entity to schedule
                locationId:
                  type: number
                  description: Location ID
                name:
                  type: string
                  description: Schedule name
                description:
                  type: string
                  description: Schedule description
                isActive:
                  type: boolean
                  default: true
                  description: Whether schedule is active
                priority:
                  type: number
                  default: 0
                  description: Priority for conflicting schedules
                rules:
                  type: array
                  items:
                    type: object
                    properties:
                      ruleType:
                        type: string
                        enum:
                          - WEEKDAY
                          - DATE_RANGE
                          - SPECIFIC_DATE
                        description: Type of schedule rule
                      weekday:
                        type: number
                        minimum: 0
                        maximum: 6
                        description: Day of week (0=Sunday, 6=Saturday)
                      startTime:
                        type: string
                        pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$
                        description: Start time in HH:MM or HH:MM:SS format (seconds are stripped)
                      endTime:
                        type: string
                        pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$
                        description: End time in HH:MM or HH:MM:SS format (seconds are stripped)
                      startDate:
                        type: string
                        format: date
                        description: Start date for date range rules
                      endDate:
                        type: string
                        format: date
                        description: End date for date range rules
                      validFrom:
                        type: string
                        format: date
                        description: Rule valid from date
                      validTo:
                        type: string
                        format: date
                        description: Rule valid until date
                      isAvailable:
                        type: boolean
                        default: true
                        description: Whether entity is available during this rule
                    required:
                      - ruleType
                  description: Schedule rules defining availability patterns
              required:
                - entityType
                - entityId
                - locationId
                - rules
        required: true
      responses:
        "201":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Unique schedule ID
                      entityType:
                        type: string
                        enum:
                          - MENU
                          - ITEM
                          - LOCATION
                          - MODIFIER
                          - CATEGORY
                          - MENU_LAYOUT
                          - VARIANT_GROUP
                          - VOUCHER
                          - EARNING_RULE
                        description: Type of entity being scheduled
                      entityId:
                        type: string
                        description: ID of the entity being scheduled
                      locationId:
                        type: number
                        description: Location ID this schedule applies to
                      name:
                        type: string
                        nullable: true
                        description: Schedule name
                      description:
                        type: string
                        nullable: true
                        description: Schedule description
                      isActive:
                        type: boolean
                        description: Whether schedule is active
                      priority:
                        type: number
                        description: Priority for conflicting schedules (higher = more important)
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Last update timestamp
                      rules:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: Unique rule ID
                            scheduleId:
                              type: string
                              description: Schedule ID this rule belongs to
                            ruleType:
                              type: string
                              enum:
                                - WEEKDAY
                                - DATE_RANGE
                                - SPECIFIC_DATE
                              description: Type of schedule rule
                            weekday:
                              type: number
                              nullable: true
                              minimum: 0
                              maximum: 6
                              description: Day of week (0=Sunday, 6=Saturday)
                            startTime:
                              type: string
                              nullable: true
                              pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$
                              description: Start time in HH:MM or HH:MM:SS format (seconds are stripped)
                            endTime:
                              type: string
                              nullable: true
                              pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$
                              description: End time in HH:MM or HH:MM:SS format (seconds are stripped)
                            startDate:
                              type: string
                              nullable: true
                              format: date
                              description: Start date for date range rules
                            endDate:
                              type: string
                              nullable: true
                              format: date
                              description: End date for date range rules
                            validFrom:
                              type: string
                              nullable: true
                              format: date
                              description: Rule valid from date
                            validTo:
                              type: string
                              nullable: true
                              format: date
                              description: Rule valid until date
                            isAvailable:
                              type: boolean
                              description: Whether entity is available during this rule
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                          required:
                            - id
                            - scheduleId
                            - ruleType
                            - isAvailable
                            - createdAt
                        description: Schedule rules defining availability patterns
                    required:
                      - id
                      - entityType
                      - entityId
                      - locationId
                      - isActive
                      - priority
                      - createdAt
                      - updatedAt
                      - rules
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/schedules/{id}:
    get:
      summary: Get schedule
      tags:
        - Schedules
      description: Get a single schedule by ID with its rules
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: Schedule ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Unique schedule ID
                      entityType:
                        type: string
                        enum:
                          - MENU
                          - ITEM
                          - LOCATION
                          - MODIFIER
                          - CATEGORY
                          - MENU_LAYOUT
                          - VARIANT_GROUP
                          - VOUCHER
                          - EARNING_RULE
                        description: Type of entity being scheduled
                      entityId:
                        type: string
                        description: ID of the entity being scheduled
                      locationId:
                        type: number
                        description: Location ID this schedule applies to
                      name:
                        type: string
                        nullable: true
                        description: Schedule name
                      description:
                        type: string
                        nullable: true
                        description: Schedule description
                      isActive:
                        type: boolean
                        description: Whether schedule is active
                      priority:
                        type: number
                        description: Priority for conflicting schedules (higher = more important)
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Last update timestamp
                      rules:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: Unique rule ID
                            scheduleId:
                              type: string
                              description: Schedule ID this rule belongs to
                            ruleType:
                              type: string
                              enum:
                                - WEEKDAY
                                - DATE_RANGE
                                - SPECIFIC_DATE
                              description: Type of schedule rule
                            weekday:
                              type: number
                              nullable: true
                              minimum: 0
                              maximum: 6
                              description: Day of week (0=Sunday, 6=Saturday)
                            startTime:
                              type: string
                              nullable: true
                              pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$
                              description: Start time in HH:MM or HH:MM:SS format (seconds are stripped)
                            endTime:
                              type: string
                              nullable: true
                              pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$
                              description: End time in HH:MM or HH:MM:SS format (seconds are stripped)
                            startDate:
                              type: string
                              nullable: true
                              format: date
                              description: Start date for date range rules
                            endDate:
                              type: string
                              nullable: true
                              format: date
                              description: End date for date range rules
                            validFrom:
                              type: string
                              nullable: true
                              format: date
                              description: Rule valid from date
                            validTo:
                              type: string
                              nullable: true
                              format: date
                              description: Rule valid until date
                            isAvailable:
                              type: boolean
                              description: Whether entity is available during this rule
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                          required:
                            - id
                            - scheduleId
                            - ruleType
                            - isAvailable
                            - createdAt
                        description: Schedule rules defining availability patterns
                    required:
                      - id
                      - entityType
                      - entityId
                      - locationId
                      - isActive
                      - priority
                      - createdAt
                      - updatedAt
                      - rules
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    put:
      summary: Update schedule
      tags:
        - Schedules
      description: |-
        Update an existing schedule

        **Permissions:** ðŸŸ  `schedules.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                  nullable: true
                isActive:
                  type: boolean
                priority:
                  type: number
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: Schedule ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Unique schedule ID
                      entityType:
                        type: string
                        enum:
                          - MENU
                          - ITEM
                          - LOCATION
                          - MODIFIER
                          - CATEGORY
                          - MENU_LAYOUT
                          - VARIANT_GROUP
                          - VOUCHER
                          - EARNING_RULE
                        description: Type of entity being scheduled
                      entityId:
                        type: string
                        description: ID of the entity being scheduled
                      locationId:
                        type: number
                        description: Location ID this schedule applies to
                      name:
                        type: string
                        nullable: true
                        description: Schedule name
                      description:
                        type: string
                        nullable: true
                        description: Schedule description
                      isActive:
                        type: boolean
                        description: Whether schedule is active
                      priority:
                        type: number
                        description: Priority for conflicting schedules (higher = more important)
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Last update timestamp
                      rules:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: Unique rule ID
                            scheduleId:
                              type: string
                              description: Schedule ID this rule belongs to
                            ruleType:
                              type: string
                              enum:
                                - WEEKDAY
                                - DATE_RANGE
                                - SPECIFIC_DATE
                              description: Type of schedule rule
                            weekday:
                              type: number
                              nullable: true
                              minimum: 0
                              maximum: 6
                              description: Day of week (0=Sunday, 6=Saturday)
                            startTime:
                              type: string
                              nullable: true
                              pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$
                              description: Start time in HH:MM or HH:MM:SS format (seconds are stripped)
                            endTime:
                              type: string
                              nullable: true
                              pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$
                              description: End time in HH:MM or HH:MM:SS format (seconds are stripped)
                            startDate:
                              type: string
                              nullable: true
                              format: date
                              description: Start date for date range rules
                            endDate:
                              type: string
                              nullable: true
                              format: date
                              description: End date for date range rules
                            validFrom:
                              type: string
                              nullable: true
                              format: date
                              description: Rule valid from date
                            validTo:
                              type: string
                              nullable: true
                              format: date
                              description: Rule valid until date
                            isAvailable:
                              type: boolean
                              description: Whether entity is available during this rule
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                          required:
                            - id
                            - scheduleId
                            - ruleType
                            - isAvailable
                            - createdAt
                        description: Schedule rules defining availability patterns
                    required:
                      - id
                      - entityType
                      - entityId
                      - locationId
                      - isActive
                      - priority
                      - createdAt
                      - updatedAt
                      - rules
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    delete:
      summary: Delete schedule
      tags:
        - Schedules
      description: |-
        Delete a schedule and its rules

        **Permissions:** ðŸ”´ `schedules.delete`
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: Schedule ID
      responses:
        "200":
          description: Schedule successfully deleted
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      deleted:
                        type: boolean
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/schedules/{scheduleId}/rules:
    post:
      summary: Add schedule rule
      tags:
        - Schedules
      description: |-
        Add a new rule to an existing schedule

        **Permissions:** ðŸŸ¢ `schedules.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                ruleType:
                  type: string
                  enum:
                    - WEEKDAY
                    - DATE_RANGE
                    - SPECIFIC_DATE
                  description: Type of schedule rule
                weekday:
                  type: number
                  minimum: 0
                  maximum: 6
                  description: Day of week (0=Sunday, 6=Saturday)
                startTime:
                  type: string
                  pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$
                  description: Start time in HH:MM or HH:MM:SS format (seconds are stripped)
                endTime:
                  type: string
                  pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$
                  description: End time in HH:MM or HH:MM:SS format (seconds are stripped)
                startDate:
                  type: string
                  format: date
                  description: Start date for date range rules
                endDate:
                  type: string
                  format: date
                  description: End date for date range rules
                validFrom:
                  type: string
                  format: date
                  description: Rule valid from date
                validTo:
                  type: string
                  format: date
                  description: Rule valid until date
                isAvailable:
                  type: boolean
                  default: true
                  description: Whether entity is available during this rule
              required:
                - ruleType
        required: true
      parameters:
        - schema:
            type: string
          in: path
          name: scheduleId
          required: true
          description: Schedule ID
      responses:
        "201":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Unique rule ID
                      scheduleId:
                        type: string
                        description: Schedule ID this rule belongs to
                      ruleType:
                        type: string
                        enum:
                          - WEEKDAY
                          - DATE_RANGE
                          - SPECIFIC_DATE
                        description: Type of schedule rule
                      weekday:
                        type: number
                        nullable: true
                        minimum: 0
                        maximum: 6
                        description: Day of week (0=Sunday, 6=Saturday)
                      startTime:
                        type: string
                        nullable: true
                        pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$
                        description: Start time in HH:MM or HH:MM:SS format (seconds are stripped)
                      endTime:
                        type: string
                        nullable: true
                        pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$
                        description: End time in HH:MM or HH:MM:SS format (seconds are stripped)
                      startDate:
                        type: string
                        nullable: true
                        format: date
                        description: Start date for date range rules
                      endDate:
                        type: string
                        nullable: true
                        format: date
                        description: End date for date range rules
                      validFrom:
                        type: string
                        nullable: true
                        format: date
                        description: Rule valid from date
                      validTo:
                        type: string
                        nullable: true
                        format: date
                        description: Rule valid until date
                      isAvailable:
                        type: boolean
                        description: Whether entity is available during this rule
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                    required:
                      - id
                      - scheduleId
                      - ruleType
                      - isAvailable
                      - createdAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    put:
      summary: Replace schedule rules
      tags:
        - Schedules
      description: |-
        Replace all rules for a schedule in a single operation

        **Permissions:** ðŸŸ  `schedules.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                rules:
                  type: array
                  items:
                    type: object
                    properties:
                      ruleType:
                        type: string
                        enum:
                          - WEEKDAY
                          - DATE_RANGE
                          - SPECIFIC_DATE
                        description: Type of schedule rule
                      weekday:
                        type: number
                        minimum: 0
                        maximum: 6
                        description: Day of week (0=Sunday, 6=Saturday)
                      startTime:
                        type: string
                        pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$
                        description: Start time in HH:MM or HH:MM:SS format (seconds are stripped)
                      endTime:
                        type: string
                        pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$
                        description: End time in HH:MM or HH:MM:SS format (seconds are stripped)
                      startDate:
                        type: string
                        format: date
                        description: Start date for date range rules
                      endDate:
                        type: string
                        format: date
                        description: End date for date range rules
                      validFrom:
                        type: string
                        format: date
                        description: Rule valid from date
                      validTo:
                        type: string
                        format: date
                        description: Rule valid until date
                      isAvailable:
                        type: boolean
                        default: true
                        description: Whether entity is available during this rule
                    required:
                      - ruleType
                  description: New rules to replace existing rules
                  minItems: 1
              required:
                - rules
        required: true
      parameters:
        - schema:
            type: string
          in: path
          name: scheduleId
          required: true
          description: Schedule ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Unique schedule ID
                      entityType:
                        type: string
                        enum:
                          - MENU
                          - ITEM
                          - LOCATION
                          - MODIFIER
                          - CATEGORY
                          - MENU_LAYOUT
                          - VARIANT_GROUP
                          - VOUCHER
                          - EARNING_RULE
                        description: Type of entity being scheduled
                      entityId:
                        type: string
                        description: ID of the entity being scheduled
                      locationId:
                        type: number
                        description: Location ID this schedule applies to
                      name:
                        type: string
                        nullable: true
                        description: Schedule name
                      description:
                        type: string
                        nullable: true
                        description: Schedule description
                      isActive:
                        type: boolean
                        description: Whether schedule is active
                      priority:
                        type: number
                        description: Priority for conflicting schedules (higher = more important)
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Last update timestamp
                      rules:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: Unique rule ID
                            scheduleId:
                              type: string
                              description: Schedule ID this rule belongs to
                            ruleType:
                              type: string
                              enum:
                                - WEEKDAY
                                - DATE_RANGE
                                - SPECIFIC_DATE
                              description: Type of schedule rule
                            weekday:
                              type: number
                              nullable: true
                              minimum: 0
                              maximum: 6
                              description: Day of week (0=Sunday, 6=Saturday)
                            startTime:
                              type: string
                              nullable: true
                              pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$
                              description: Start time in HH:MM or HH:MM:SS format (seconds are stripped)
                            endTime:
                              type: string
                              nullable: true
                              pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$
                              description: End time in HH:MM or HH:MM:SS format (seconds are stripped)
                            startDate:
                              type: string
                              nullable: true
                              format: date
                              description: Start date for date range rules
                            endDate:
                              type: string
                              nullable: true
                              format: date
                              description: End date for date range rules
                            validFrom:
                              type: string
                              nullable: true
                              format: date
                              description: Rule valid from date
                            validTo:
                              type: string
                              nullable: true
                              format: date
                              description: Rule valid until date
                            isAvailable:
                              type: boolean
                              description: Whether entity is available during this rule
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                          required:
                            - id
                            - scheduleId
                            - ruleType
                            - isAvailable
                            - createdAt
                        description: Schedule rules defining availability patterns
                    required:
                      - id
                      - entityType
                      - entityId
                      - locationId
                      - isActive
                      - priority
                      - createdAt
                      - updatedAt
                      - rules
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/schedules/rules/{ruleId}:
    put:
      summary: Update schedule rule
      tags:
        - Schedules
      description: |-
        Update an existing schedule rule

        **Permissions:** ðŸŸ  `schedules.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                ruleType:
                  type: string
                  enum:
                    - WEEKDAY
                    - DATE_RANGE
                    - SPECIFIC_DATE
                weekday:
                  type: number
                  nullable: true
                  minimum: 0
                  maximum: 6
                startTime:
                  type: string
                  nullable: true
                  pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$
                endTime:
                  type: string
                  nullable: true
                  pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$
                startDate:
                  type: string
                  nullable: true
                  format: date
                endDate:
                  type: string
                  nullable: true
                  format: date
                validFrom:
                  type: string
                  nullable: true
                  format: date
                validTo:
                  type: string
                  nullable: true
                  format: date
                isAvailable:
                  type: boolean
      parameters:
        - schema:
            type: string
          in: path
          name: ruleId
          required: true
          description: Rule ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Unique rule ID
                      scheduleId:
                        type: string
                        description: Schedule ID this rule belongs to
                      ruleType:
                        type: string
                        enum:
                          - WEEKDAY
                          - DATE_RANGE
                          - SPECIFIC_DATE
                        description: Type of schedule rule
                      weekday:
                        type: number
                        nullable: true
                        minimum: 0
                        maximum: 6
                        description: Day of week (0=Sunday, 6=Saturday)
                      startTime:
                        type: string
                        nullable: true
                        pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$
                        description: Start time in HH:MM or HH:MM:SS format (seconds are stripped)
                      endTime:
                        type: string
                        nullable: true
                        pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$
                        description: End time in HH:MM or HH:MM:SS format (seconds are stripped)
                      startDate:
                        type: string
                        nullable: true
                        format: date
                        description: Start date for date range rules
                      endDate:
                        type: string
                        nullable: true
                        format: date
                        description: End date for date range rules
                      validFrom:
                        type: string
                        nullable: true
                        format: date
                        description: Rule valid from date
                      validTo:
                        type: string
                        nullable: true
                        format: date
                        description: Rule valid until date
                      isAvailable:
                        type: boolean
                        description: Whether entity is available during this rule
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                    required:
                      - id
                      - scheduleId
                      - ruleType
                      - isAvailable
                      - createdAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    delete:
      summary: Delete schedule rule
      tags:
        - Schedules
      description: |-
        Delete a schedule rule

        **Permissions:** ðŸ”´ `schedules.delete`
      parameters:
        - schema:
            type: string
          in: path
          name: ruleId
          required: true
          description: Rule ID
      responses:
        "200":
          description: Rule successfully deleted
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      deleted:
                        type: boolean
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/schedules/check-availability:
    get:
      summary: Check availability
      tags:
        - Schedules
      description: Check entity availability at a specific time based on schedules
      parameters:
        - schema:
            type: string
            enum:
              - MENU
              - ITEM
              - LOCATION
              - MODIFIER
              - CATEGORY
              - MENU_LAYOUT
              - VARIANT_GROUP
              - VOUCHER
              - EARNING_RULE
          in: query
          name: entityType
          required: true
          description: Type of entity to check
        - schema:
            type: string
          in: query
          name: entityId
          required: true
          description: ID of the entity to check
        - schema:
            type: number
          in: query
          name: locationId
          required: false
          description: Location ID
        - schema:
            type: string
            format: date-time
          in: query
          name: checkTime
          required: false
          description: Time to check availability (defaults to now)
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      isAvailable:
                        type: boolean
                        description: Whether entity is available at the specified time
                      matchingSchedules:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: Unique schedule ID
                            entityType:
                              type: string
                              enum:
                                - MENU
                                - ITEM
                                - LOCATION
                                - MODIFIER
                                - CATEGORY
                                - MENU_LAYOUT
                                - VARIANT_GROUP
                                - VOUCHER
                                - EARNING_RULE
                              description: Type of entity being scheduled
                            entityId:
                              type: string
                              description: ID of the entity being scheduled
                            locationId:
                              type: number
                              description: Location ID this schedule applies to
                            name:
                              type: string
                              nullable: true
                              description: Schedule name
                            description:
                              type: string
                              nullable: true
                              description: Schedule description
                            isActive:
                              type: boolean
                              description: Whether schedule is active
                            priority:
                              type: number
                              description: Priority for conflicting schedules (higher = more important)
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              description: Last update timestamp
                            rules:
                              type: array
                              items:
                                type: object
                                properties:
                                  id:
                                    type: string
                                    description: Unique rule ID
                                  scheduleId:
                                    type: string
                                    description: Schedule ID this rule belongs to
                                  ruleType:
                                    type: string
                                    enum:
                                      - WEEKDAY
                                      - DATE_RANGE
                                      - SPECIFIC_DATE
                                    description: Type of schedule rule
                                  weekday:
                                    type: number
                                    nullable: true
                                    minimum: 0
                                    maximum: 6
                                    description: Day of week (0=Sunday, 6=Saturday)
                                  startTime:
                                    type: string
                                    nullable: true
                                    pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$
                                    description: Start time in HH:MM or HH:MM:SS format (seconds are stripped)
                                  endTime:
                                    type: string
                                    nullable: true
                                    pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$
                                    description: End time in HH:MM or HH:MM:SS format (seconds are stripped)
                                  startDate:
                                    type: string
                                    nullable: true
                                    format: date
                                    description: Start date for date range rules
                                  endDate:
                                    type: string
                                    nullable: true
                                    format: date
                                    description: End date for date range rules
                                  validFrom:
                                    type: string
                                    nullable: true
                                    format: date
                                    description: Rule valid from date
                                  validTo:
                                    type: string
                                    nullable: true
                                    format: date
                                    description: Rule valid until date
                                  isAvailable:
                                    type: boolean
                                    description: Whether entity is available during this rule
                                  createdAt:
                                    type: string
                                    format: date-time
                                    description: Creation timestamp
                                required:
                                  - id
                                  - scheduleId
                                  - ruleType
                                  - isAvailable
                                  - createdAt
                              description: Schedule rules defining availability patterns
                          required:
                            - id
                            - entityType
                            - entityId
                            - locationId
                            - isActive
                            - priority
                            - createdAt
                            - updatedAt
                            - rules
                        description: Schedules that apply to this entity
                    required:
                      - isAvailable
                      - matchingSchedules
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/channels:
    get:
      summary: List channels
      tags:
        - Channels
      description: List channels with optional filtering
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: false
          description: Filter by location ID
        - schema:
            type: string
            enum:
              - MENU
              - ITEM
              - LOCATION
              - MODIFIER
              - CATEGORY
              - MENU_LAYOUT
              - VARIANT_GROUP
          in: query
          name: entityType
          required: false
          description: Filter by entity type
        - schema:
            type: string
          in: query
          name: entityId
          required: false
          description: Filter by entity ID
        - schema:
            type: string
            enum:
              - KIOSK
              - POS
              - ONLINE
              - TAKEAWAY
          in: query
          name: channelType
          required: false
          description: Filter by specific channel type
        - schema:
            type: boolean
          in: query
          name: isActive
          required: false
          description: Filter by active status
        - schema:
            type: number
            minimum: 1
            default: 1
          in: query
          name: page
          required: false
          description: Page number
        - schema:
            type: number
            minimum: 1
            maximum: 100
            default: 20
          in: query
          name: limit
          required: false
          description: Items per page
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      channels:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: Unique channel ID
                            entityType:
                              type: string
                              enum:
                                - MENU
                                - ITEM
                                - LOCATION
                                - MODIFIER
                                - CATEGORY
                                - MENU_LAYOUT
                                - VARIANT_GROUP
                              description: Type of entity this channel applies to
                            entityId:
                              type: string
                              description: ID of the entity
                            locationId:
                              type: number
                              nullable: true
                              description: Location ID this channel applies to
                            isActive:
                              type: boolean
                              description: Whether channel is active
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              description: Last update timestamp
                            assignments:
                              type: array
                              items:
                                type: object
                                properties:
                                  id:
                                    type: string
                                    description: Unique assignment ID
                                  channelId:
                                    type: string
                                    description: Channel ID this assignment belongs to
                                  channelType:
                                    type: string
                                    enum:
                                      - KIOSK
                                      - POS
                                      - ONLINE
                                      - TAKEAWAY
                                    description: Type of channel (KIOSK, POS, ONLINE, TAKEAWAY)
                                  isEnabled:
                                    type: boolean
                                    description: Whether this channel type is enabled
                                  createdAt:
                                    type: string
                                    format: date-time
                                    description: Creation timestamp
                                required:
                                  - id
                                  - channelId
                                  - channelType
                                  - isEnabled
                                  - createdAt
                              description: Channel type assignments
                          required:
                            - id
                            - entityType
                            - entityId
                            - isActive
                            - createdAt
                            - updatedAt
                            - assignments
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                            minimum: 1
                          limit:
                            type: number
                            minimum: 1
                            maximum: 100
                          total:
                            type: number
                            minimum: 0
                          totalPages:
                            type: number
                            minimum: 0
                        required:
                          - page
                          - limit
                          - total
                          - totalPages
                    required:
                      - channels
                      - pagination
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    post:
      summary: Create channel
      tags:
        - Channels
      description: Create a new channel with assignments
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                entityType:
                  type: string
                  enum:
                    - MENU
                    - ITEM
                    - LOCATION
                    - MODIFIER
                    - CATEGORY
                    - MENU_LAYOUT
                    - VARIANT_GROUP
                  description: Type of entity
                entityId:
                  type: string
                  description: ID of the entity
                locationId:
                  type: number
                  nullable: true
                  description: Location ID
                isActive:
                  type: boolean
                  default: true
                  description: Whether channel is active
                assignments:
                  type: array
                  items:
                    type: object
                    properties:
                      channelType:
                        type: string
                        enum:
                          - KIOSK
                          - POS
                          - ONLINE
                          - TAKEAWAY
                        description: Type of channel
                      isEnabled:
                        type: boolean
                        default: true
                        description: Whether channel type is enabled
                    required:
                      - channelType
                  description: Channel type assignments
              required:
                - entityType
                - entityId
                - assignments
        required: true
      responses:
        "201":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Unique channel ID
                      entityType:
                        type: string
                        enum:
                          - MENU
                          - ITEM
                          - LOCATION
                          - MODIFIER
                          - CATEGORY
                          - MENU_LAYOUT
                          - VARIANT_GROUP
                        description: Type of entity this channel applies to
                      entityId:
                        type: string
                        description: ID of the entity
                      locationId:
                        type: number
                        nullable: true
                        description: Location ID this channel applies to
                      isActive:
                        type: boolean
                        description: Whether channel is active
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Last update timestamp
                      assignments:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: Unique assignment ID
                            channelId:
                              type: string
                              description: Channel ID this assignment belongs to
                            channelType:
                              type: string
                              enum:
                                - KIOSK
                                - POS
                                - ONLINE
                                - TAKEAWAY
                              description: Type of channel (KIOSK, POS, ONLINE, TAKEAWAY)
                            isEnabled:
                              type: boolean
                              description: Whether this channel type is enabled
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                          required:
                            - id
                            - channelId
                            - channelType
                            - isEnabled
                            - createdAt
                        description: Channel type assignments
                    required:
                      - id
                      - entityType
                      - entityId
                      - isActive
                      - createdAt
                      - updatedAt
                      - assignments
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/channels/{id}:
    get:
      summary: Get channel
      tags:
        - Channels
      description: Get a single channel by ID with its assignments
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: Channel ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Unique channel ID
                      entityType:
                        type: string
                        enum:
                          - MENU
                          - ITEM
                          - LOCATION
                          - MODIFIER
                          - CATEGORY
                          - MENU_LAYOUT
                          - VARIANT_GROUP
                        description: Type of entity this channel applies to
                      entityId:
                        type: string
                        description: ID of the entity
                      locationId:
                        type: number
                        nullable: true
                        description: Location ID this channel applies to
                      isActive:
                        type: boolean
                        description: Whether channel is active
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Last update timestamp
                      assignments:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: Unique assignment ID
                            channelId:
                              type: string
                              description: Channel ID this assignment belongs to
                            channelType:
                              type: string
                              enum:
                                - KIOSK
                                - POS
                                - ONLINE
                                - TAKEAWAY
                              description: Type of channel (KIOSK, POS, ONLINE, TAKEAWAY)
                            isEnabled:
                              type: boolean
                              description: Whether this channel type is enabled
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                          required:
                            - id
                            - channelId
                            - channelType
                            - isEnabled
                            - createdAt
                        description: Channel type assignments
                    required:
                      - id
                      - entityType
                      - entityId
                      - isActive
                      - createdAt
                      - updatedAt
                      - assignments
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    put:
      summary: Update channel
      tags:
        - Channels
      description: |-
        Update an existing channel

        **Permissions:** ðŸŸ  `channels.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                isActive:
                  type: boolean
                  description: Whether channel is active
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: Channel ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Unique channel ID
                      entityType:
                        type: string
                        enum:
                          - MENU
                          - ITEM
                          - LOCATION
                          - MODIFIER
                          - CATEGORY
                          - MENU_LAYOUT
                          - VARIANT_GROUP
                        description: Type of entity this channel applies to
                      entityId:
                        type: string
                        description: ID of the entity
                      locationId:
                        type: number
                        nullable: true
                        description: Location ID this channel applies to
                      isActive:
                        type: boolean
                        description: Whether channel is active
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Last update timestamp
                      assignments:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: Unique assignment ID
                            channelId:
                              type: string
                              description: Channel ID this assignment belongs to
                            channelType:
                              type: string
                              enum:
                                - KIOSK
                                - POS
                                - ONLINE
                                - TAKEAWAY
                              description: Type of channel (KIOSK, POS, ONLINE, TAKEAWAY)
                            isEnabled:
                              type: boolean
                              description: Whether this channel type is enabled
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                          required:
                            - id
                            - channelId
                            - channelType
                            - isEnabled
                            - createdAt
                        description: Channel type assignments
                    required:
                      - id
                      - entityType
                      - entityId
                      - isActive
                      - createdAt
                      - updatedAt
                      - assignments
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    delete:
      summary: Delete channel
      tags:
        - Channels
      description: Delete a channel and its assignments
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: Channel ID
      responses:
        "200":
          description: Channel successfully deleted
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      deleted:
                        type: boolean
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/channels/{channelId}/assignments:
    post:
      summary: Add channel assignment
      tags:
        - Channels
      description: Add a new channel type assignment to an existing channel
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                channelType:
                  type: string
                  enum:
                    - KIOSK
                    - POS
                    - ONLINE
                    - TAKEAWAY
                  description: Type of channel
                isEnabled:
                  type: boolean
                  default: true
                  description: Whether channel type is enabled
              required:
                - channelType
        required: true
      parameters:
        - schema:
            type: string
          in: path
          name: channelId
          required: true
          description: Channel ID
      responses:
        "201":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Unique assignment ID
                      channelId:
                        type: string
                        description: Channel ID this assignment belongs to
                      channelType:
                        type: string
                        enum:
                          - KIOSK
                          - POS
                          - ONLINE
                          - TAKEAWAY
                        description: Type of channel (KIOSK, POS, ONLINE, TAKEAWAY)
                      isEnabled:
                        type: boolean
                        description: Whether this channel type is enabled
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                    required:
                      - id
                      - channelId
                      - channelType
                      - isEnabled
                      - createdAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/channels/assignments/{assignmentId}:
    put:
      summary: Update channel assignment
      tags:
        - Channels
      description: Update an existing channel assignment
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                isEnabled:
                  type: boolean
                  description: Whether channel type is enabled
      parameters:
        - schema:
            type: string
          in: path
          name: assignmentId
          required: true
          description: Assignment ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Unique assignment ID
                      channelId:
                        type: string
                        description: Channel ID this assignment belongs to
                      channelType:
                        type: string
                        enum:
                          - KIOSK
                          - POS
                          - ONLINE
                          - TAKEAWAY
                        description: Type of channel (KIOSK, POS, ONLINE, TAKEAWAY)
                      isEnabled:
                        type: boolean
                        description: Whether this channel type is enabled
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                    required:
                      - id
                      - channelId
                      - channelType
                      - isEnabled
                      - createdAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    delete:
      summary: Delete channel assignment
      tags:
        - Channels
      description: |-
        Delete a channel assignment

        **Permissions:** ðŸ”´ `channels.delete`
      parameters:
        - schema:
            type: string
          in: path
          name: assignmentId
          required: true
          description: Assignment ID
      responses:
        "200":
          description: Assignment successfully deleted
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      deleted:
                        type: boolean
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/alerts:
    get:
      summary: List alerts
      tags:
        - Alerts
      description: |-
        List alerts with optional filtering

        **Permissions:** ðŸ”µ `alerts.read`
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: false
          description: Filter by location ID
        - schema:
            type: string
            enum:
              - info
              - warning
              - error
              - critical
          in: query
          name: severity
          required: false
          description: Filter by severity
        - schema:
            type: string
            enum:
              - active
              - acknowledged
              - resolved
          in: query
          name: status
          required: false
          description: Filter by status
        - schema:
            type: string
          in: query
          name: alertType
          required: false
          description: Filter by alert type
        - schema:
            type: number
            minimum: 1
            default: 1
          in: query
          name: page
          required: false
          description: Page number
        - schema:
            type: number
            minimum: 1
            maximum: 100
            default: 20
          in: query
          name: limit
          required: false
          description: Items per page
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      alerts:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: Unique alert ID (UUID)
                            locationId:
                              type: number
                              description: Location ID where alert occurred
                            alertType:
                              type: string
                              description: Type of alert (e.g., "printer_offline", "payment_failed")
                            severity:
                              type: string
                              enum:
                                - info
                                - warning
                                - error
                                - critical
                              description: Alert severity level
                            title:
                              type: string
                              description: Alert title
                            message:
                              type: string
                              nullable: true
                              description: Detailed alert message
                            details:
                              type: object
                              nullable: true
                              description: Additional alert details
                            stackTrace:
                              type: string
                              nullable: true
                              description: Stack trace (for errors)
                            context:
                              type: object
                              nullable: true
                              description: Contextual information
                            latestStatus:
                              type: string
                              enum:
                                - active
                                - acknowledged
                                - resolved
                              description: Current alert status
                            resolvedAt:
                              type: string
                              format: date-time
                              nullable: true
                              description: Resolution timestamp
                            resolvedBy:
                              type: number
                              nullable: true
                              description: User ID who resolved alert
                            acknowledgedAt:
                              type: string
                              format: date-time
                              nullable: true
                              description: Acknowledgement timestamp
                            acknowledgedBy:
                              type: number
                              nullable: true
                              description: User ID who acknowledged alert
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              description: Last update timestamp
                          required:
                            - id
                            - locationId
                            - alertType
                            - severity
                            - title
                            - latestStatus
                            - createdAt
                            - updatedAt
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                            minimum: 1
                          limit:
                            type: number
                            minimum: 1
                            maximum: 100
                          total:
                            type: number
                            minimum: 0
                          totalPages:
                            type: number
                            minimum: 0
                        required:
                          - page
                          - limit
                          - total
                          - totalPages
                    required:
                      - alerts
                      - pagination
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/alerts/{id}:
    get:
      summary: Get alert
      tags:
        - Alerts
      description: |-
        Get a single alert by ID

        **Permissions:** ðŸ”µ `alerts.read`
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: Alert ID (UUID)
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Unique alert ID (UUID)
                      locationId:
                        type: number
                        description: Location ID where alert occurred
                      alertType:
                        type: string
                        description: Type of alert (e.g., "printer_offline", "payment_failed")
                      severity:
                        type: string
                        enum:
                          - info
                          - warning
                          - error
                          - critical
                        description: Alert severity level
                      title:
                        type: string
                        description: Alert title
                      message:
                        type: string
                        nullable: true
                        description: Detailed alert message
                      details:
                        type: object
                        nullable: true
                        description: Additional alert details
                      stackTrace:
                        type: string
                        nullable: true
                        description: Stack trace (for errors)
                      context:
                        type: object
                        nullable: true
                        description: Contextual information
                      latestStatus:
                        type: string
                        enum:
                          - active
                          - acknowledged
                          - resolved
                        description: Current alert status
                      resolvedAt:
                        type: string
                        format: date-time
                        nullable: true
                        description: Resolution timestamp
                      resolvedBy:
                        type: number
                        nullable: true
                        description: User ID who resolved alert
                      acknowledgedAt:
                        type: string
                        format: date-time
                        nullable: true
                        description: Acknowledgement timestamp
                      acknowledgedBy:
                        type: number
                        nullable: true
                        description: User ID who acknowledged alert
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Last update timestamp
                    required:
                      - id
                      - locationId
                      - alertType
                      - severity
                      - title
                      - latestStatus
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    patch:
      summary: Update alert status
      tags:
        - Alerts
      description: |-
        Update alert status (acknowledge or resolve)

        **Permissions:** ðŸŸ  `alerts.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: string
                  enum:
                    - acknowledged
                    - resolved
                  description: New status (cannot reopen once resolved)
              required:
                - status
        required: true
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: Alert ID (UUID)
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Unique alert ID (UUID)
                      locationId:
                        type: number
                        description: Location ID where alert occurred
                      alertType:
                        type: string
                        description: Type of alert (e.g., "printer_offline", "payment_failed")
                      severity:
                        type: string
                        enum:
                          - info
                          - warning
                          - error
                          - critical
                        description: Alert severity level
                      title:
                        type: string
                        description: Alert title
                      message:
                        type: string
                        nullable: true
                        description: Detailed alert message
                      details:
                        type: object
                        nullable: true
                        description: Additional alert details
                      stackTrace:
                        type: string
                        nullable: true
                        description: Stack trace (for errors)
                      context:
                        type: object
                        nullable: true
                        description: Contextual information
                      latestStatus:
                        type: string
                        enum:
                          - active
                          - acknowledged
                          - resolved
                        description: Current alert status
                      resolvedAt:
                        type: string
                        format: date-time
                        nullable: true
                        description: Resolution timestamp
                      resolvedBy:
                        type: number
                        nullable: true
                        description: User ID who resolved alert
                      acknowledgedAt:
                        type: string
                        format: date-time
                        nullable: true
                        description: Acknowledgement timestamp
                      acknowledgedBy:
                        type: number
                        nullable: true
                        description: User ID who acknowledged alert
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Last update timestamp
                    required:
                      - id
                      - locationId
                      - alertType
                      - severity
                      - title
                      - latestStatus
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/analytics/sales:
    get:
      tags:
        - analytics
      description: Get sales metrics with hourly breakdown
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: true
          description: Location ID
        - schema:
            type: string
            format: date-time
          in: query
          name: startDate
          required: false
          description: Start date (ISO 8601)
        - schema:
            type: string
            format: date-time
          in: query
          name: endDate
          required: false
          description: End date (ISO 8601)
        - schema:
            type: boolean
            default: false
          in: query
          name: includeChildren
          required: false
          description: Include child locations
        - schema:
            type: string
            enum:
              - hour
              - day
              - week
            default: hour
          in: query
          name: granularity
          required: false
          description: Time granularity
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      totalSales:
                        type: number
                        description: Total sales in cents
                      totalOrders:
                        type: number
                        description: Total order count
                      totalItemsSold:
                        type: number
                        description: Total items sold count
                      averageOrderValue:
                        type: number
                        description: Average order value in cents
                      hourlySales:
                        type: array
                        items:
                          type: object
                          properties:
                            label:
                              type: string
                              description: Data point label
                            value:
                              type: number
                              description: Numeric value (prices in cents)
                            timestamp:
                              type: string
                              format: date-time
                              description: Optional timestamp
                            metadata:
                              type: object
                              additionalProperties: true
                              properties:
                                orderCount:
                                  type: number
                                  description: Number of orders
                                orders:
                                  type: number
                                  description: Number of orders (alias)
                                itemId:
                                  type: number
                                  description: Item ID
                                unitsSold:
                                  type: number
                                  description: Units sold
                              description: Additional metadata
                          required:
                            - label
                            - value
                        description: Hourly/daily sales breakdown
                      topItems:
                        type: array
                        items:
                          type: object
                          properties:
                            label:
                              type: string
                              description: Data point label
                            value:
                              type: number
                              description: Numeric value (prices in cents)
                            timestamp:
                              type: string
                              format: date-time
                              description: Optional timestamp
                            metadata:
                              type: object
                              additionalProperties: true
                              properties:
                                orderCount:
                                  type: number
                                  description: Number of orders
                                orders:
                                  type: number
                                  description: Number of orders (alias)
                                itemId:
                                  type: number
                                  description: Item ID
                                unitsSold:
                                  type: number
                                  description: Units sold
                              description: Additional metadata
                          required:
                            - label
                            - value
                        description: Top selling items
                      channelBreakdown:
                        type: array
                        items:
                          type: object
                          properties:
                            label:
                              type: string
                              description: Data point label
                            value:
                              type: number
                              description: Numeric value (prices in cents)
                            timestamp:
                              type: string
                              format: date-time
                              description: Optional timestamp
                            metadata:
                              type: object
                              additionalProperties: true
                              properties:
                                orderCount:
                                  type: number
                                  description: Number of orders
                                orders:
                                  type: number
                                  description: Number of orders (alias)
                                itemId:
                                  type: number
                                  description: Item ID
                                unitsSold:
                                  type: number
                                  description: Units sold
                              description: Additional metadata
                          required:
                            - label
                            - value
                        description: Sales breakdown by channel
                    required:
                      - totalSales
                      - totalOrders
                      - totalItemsSold
                      - averageOrderValue
                      - hourlySales
                      - topItems
                      - channelBreakdown
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                      cacheHit:
                        type: boolean
                        description: Whether result was cached
                      bytesProcessed:
                        type: number
                        description: BigQuery bytes processed
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/analytics/channels:
    get:
      tags:
        - analytics
      description: Get channel behavior metrics (POS, App, Kiosk, Delivery, QR)
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: true
          description: Location ID
        - schema:
            type: string
            format: date-time
          in: query
          name: startDate
          required: false
          description: Start date (ISO 8601)
        - schema:
            type: string
            format: date-time
          in: query
          name: endDate
          required: false
          description: End date (ISO 8601)
        - schema:
            type: boolean
            default: false
          in: query
          name: includeChildren
          required: false
          description: Include child locations
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        orderChannel:
                          type: string
                          description: Channel name (POS, App, QR, etc.)
                        orderCount:
                          type: number
                          description: Number of orders
                        revenue:
                          type: number
                          description: Total revenue in cents
                        averageOrderValue:
                          type: number
                          description: Average order value in cents
                        uniqueCustomers:
                          type: number
                          description: Unique customer count
                        conversionRate:
                          type: number
                          nullable: true
                          description: Conversion rate (null if unavailable)
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                      cacheHit:
                        type: boolean
                      bytesProcessed:
                        type: number
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/analytics/locations:
    get:
      tags:
        - analytics
      description: Get location performance with hierarchy
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: true
          description: Parent location ID
        - schema:
            type: string
            format: date-time
          in: query
          name: startDate
          required: false
          description: Start date (ISO 8601)
        - schema:
            type: string
            format: date-time
          in: query
          name: endDate
          required: false
          description: End date (ISO 8601)
        - schema:
            type: boolean
            default: false
          in: query
          name: includeChildren
          required: false
          description: Include child locations
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        locationId:
                          type: number
                          description: Location ID
                        locationName:
                          type: string
                          description: Location name
                        totalSales:
                          type: number
                          description: Total sales in cents
                        totalOrders:
                          type: number
                          description: Total orders
                        averageOrderValue:
                          type: number
                          description: Average order value in cents
                        hourlyBreakdown:
                          type: array
                          items:
                            type: object
                            properties:
                              label:
                                type: string
                                description: Data point label
                              value:
                                type: number
                                description: Numeric value (prices in cents)
                              timestamp:
                                type: string
                                format: date-time
                                description: Optional timestamp
                              metadata:
                                type: object
                                additionalProperties: true
                                properties:
                                  orderCount:
                                    type: number
                                    description: Number of orders
                                  orders:
                                    type: number
                                    description: Number of orders (alias)
                                  itemId:
                                    type: number
                                    description: Item ID
                                  unitsSold:
                                    type: number
                                    description: Units sold
                                description: Additional metadata
                            required:
                              - label
                              - value
                          description: Hourly sales breakdown
                        alerts:
                          type: array
                          items:
                            type: string
                          description: Performance alerts
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                      cacheHit:
                        type: boolean
                      bytesProcessed:
                        type: number
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/analytics/drilldown:
    get:
      tags:
        - analytics
      description: Get drill-down analytics (Location â†’ Hour â†’ Item)
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: true
          description: Location ID
        - schema:
            type: string
            format: date-time
          in: query
          name: startDate
          required: false
          description: Start date (ISO 8601)
        - schema:
            type: string
            format: date-time
          in: query
          name: endDate
          required: false
          description: End date (ISO 8601)
        - schema:
            type: number
            minimum: 0
            maximum: 23
          in: query
          name: hour
          required: false
          description: Hour of day (0-23)
        - schema:
            type: number
          in: query
          name: itemId
          required: false
          description: Item ID for detailed orders
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      level:
                        type: string
                        enum:
                          - location
                          - hour
                          - item
                        description: Current drill-down level
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            label:
                              type: string
                              description: Data point label
                            value:
                              type: number
                              description: Numeric value (prices in cents)
                            timestamp:
                              type: string
                              format: date-time
                              description: Optional timestamp
                            metadata:
                              type: object
                              additionalProperties: true
                              properties:
                                orderCount:
                                  type: number
                                  description: Number of orders
                                orders:
                                  type: number
                                  description: Number of orders (alias)
                                itemId:
                                  type: number
                                  description: Item ID
                                unitsSold:
                                  type: number
                                  description: Units sold
                              description: Additional metadata
                          required:
                            - label
                            - value
                        description: Drill-down data points
                      metadata:
                        type: object
                        properties:
                          parentLocationId:
                            type: number
                            description: Parent location ID
                          parentLocationName:
                            type: string
                            description: Parent location name
                          hour:
                            type: number
                            description: Hour of day (if drilling into hour)
                          itemId:
                            type: number
                            description: Item ID (if drilling into item)
                    required:
                      - level
                      - data
                      - metadata
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/analytics/datastream-latency:
    get:
      tags:
        - analytics
      description: Get DataStream latency metrics
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: true
          description: Location ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      avgLatencyMs:
                        type: number
                        description: Average latency in milliseconds
                      p50LatencyMs:
                        type: number
                        description: P50 latency in milliseconds
                      p95LatencyMs:
                        type: number
                        description: P95 latency in milliseconds
                      p99LatencyMs:
                        type: number
                        description: P99 latency in milliseconds
                      lastOrderLatencyMs:
                        type: number
                        nullable: true
                        description: Last order latency in milliseconds
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                      cacheHit:
                        type: boolean
                      bytesProcessed:
                        type: number
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/analytics/batch:
    post:
      tags:
        - analytics
      description: Execute multiple analytics queries in parallel
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                queries:
                  type: array
                  items:
                    type: object
                    properties:
                      queryType:
                        type: string
                        enum:
                          - sales_hourly
                          - channels
                          - top_items
                          - location_performance
                        description: Query type
                      locationId:
                        type: number
                        description: Location ID
                      startDate:
                        type: string
                        format: date-time
                        description: Start date
                      endDate:
                        type: string
                        format: date-time
                        description: End date
                      granularity:
                        type: string
                        enum:
                          - hour
                          - day
                          - week
                        description: Time granularity
                      includeChildren:
                        type: boolean
                        description: Include child locations
                      filters:
                        type: object
                        description: Additional filters
                    required:
                      - queryType
                      - locationId
              required:
                - queries
        required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      charts:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: Unique chart ID
                            title:
                              type: string
                              description: Chart title
                            type:
                              type: string
                              enum:
                                - line
                                - bar
                                - area
                                - pie
                                - metric
                                - table
                              description: Chart visualization type
                            data:
                              type: array
                              items:
                                type: object
                                properties:
                                  label:
                                    type: string
                                    description: Data point label
                                  value:
                                    type: number
                                    description: Numeric value (prices in cents)
                                  timestamp:
                                    type: string
                                    format: date-time
                                    description: Optional timestamp
                                  metadata:
                                    type: object
                                    additionalProperties: true
                                    properties:
                                      orderCount:
                                        type: number
                                        description: Number of orders
                                      orders:
                                        type: number
                                        description: Number of orders (alias)
                                      itemId:
                                        type: number
                                        description: Item ID
                                      unitsSold:
                                        type: number
                                        description: Units sold
                                    description: Additional metadata
                                required:
                                  - label
                                  - value
                              description: Chart data points
                            metadata:
                              type: object
                              properties:
                                total:
                                  type: number
                                  description: Total value (cents)
                                change:
                                  type: number
                                  description: Change from previous period
                                changePercent:
                                  type: number
                                  description: Percentage change
                                unit:
                                  type: string
                                  description: Unit of measurement
                                currency:
                                  type: string
                                  description: Currency code (e.g., SEK)
                                lastUpdated:
                                  type: string
                                  format: date-time
                                  description: Last update timestamp
                          required:
                            - id
                            - title
                            - type
                            - data
                        description: Successful query results
                      errors:
                        type: array
                        items:
                          type: object
                          properties:
                            queryIndex:
                              type: number
                            queryType:
                              type: string
                            error:
                              type: string
                        description: Failed queries (if any)
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                      totalQueries:
                        type: number
                        description: Total queries requested
                      successfulQueries:
                        type: number
                        description: Successful queries
                      failedQueries:
                        type: number
                        description: Failed queries
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/analytics/overview:
    get:
      tags:
        - analytics
      description: Get overview dashboard with summary and charts
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: true
          description: Location ID
        - schema:
            type: string
            format: date-time
          in: query
          name: startDate
          required: false
          description: Start date (ISO 8601)
        - schema:
            type: string
            format: date-time
          in: query
          name: endDate
          required: false
          description: End date (ISO 8601)
        - schema:
            type: boolean
            default: false
          in: query
          name: includeChildren
          required: false
          description: Include child locations
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      summary:
                        type: object
                        properties:
                          totalSales:
                            type: number
                            description: Total sales in cents
                          totalOrders:
                            type: number
                            description: Total orders
                          averageOrderValue:
                            type: number
                            description: Average order value in cents
                          topChannel:
                            type: string
                            description: Top performing channel
                          lastUpdated:
                            type: string
                            format: date-time
                            description: Last update
                      charts:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: Unique chart ID
                            title:
                              type: string
                              description: Chart title
                            type:
                              type: string
                              enum:
                                - line
                                - bar
                                - area
                                - pie
                                - metric
                                - table
                              description: Chart visualization type
                            data:
                              type: array
                              items:
                                type: object
                                properties:
                                  label:
                                    type: string
                                    description: Data point label
                                  value:
                                    type: number
                                    description: Numeric value (prices in cents)
                                  timestamp:
                                    type: string
                                    format: date-time
                                    description: Optional timestamp
                                  metadata:
                                    type: object
                                    additionalProperties: true
                                    properties:
                                      orderCount:
                                        type: number
                                        description: Number of orders
                                      orders:
                                        type: number
                                        description: Number of orders (alias)
                                      itemId:
                                        type: number
                                        description: Item ID
                                      unitsSold:
                                        type: number
                                        description: Units sold
                                    description: Additional metadata
                                required:
                                  - label
                                  - value
                              description: Chart data points
                            metadata:
                              type: object
                              properties:
                                total:
                                  type: number
                                  description: Total value (cents)
                                change:
                                  type: number
                                  description: Change from previous period
                                changePercent:
                                  type: number
                                  description: Percentage change
                                unit:
                                  type: string
                                  description: Unit of measurement
                                currency:
                                  type: string
                                  description: Currency code (e.g., SEK)
                                lastUpdated:
                                  type: string
                                  format: date-time
                                  description: Last update timestamp
                          required:
                            - id
                            - title
                            - type
                            - data
                        description: Dashboard charts
                      dataStreamLatency:
                        type: number
                        nullable: true
                        description: DataStream latency in milliseconds
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/statistics/time-series:
    get:
      tags:
        - statistics
      description: >-
        Retrieve time series data for a specific metric across locations and
        date range.


        **Query Routing**: Automatically routes to BigQuery for historical data
        (>24 hours) or PostgreSQL for recent data.


        **Available Metrics**:

        - `gmv` - Gross Merchandise Value

        - `orders_count` - Number of orders

        - `sold_count` - Number of items sold

        - `tips_amount` - Total tips amount

        - `saved_co2` - CO2 saved (grams)

        - `pushes_sent` - Push notifications sent


        **Target Options**:

        - `aggregated` - Combine all locations into single series

        - `locations` - Return separate series per location


        **Permissions:** ðŸ”µ `statistics.read`
      parameters:
        - schema:
            type: string
          in: query
          name: locationIds
          required: true
          description: Comma-separated list of location IDs (e.g., "100,101,102")
        - schema:
            type: string
            format: date
          in: query
          name: startDate
          required: true
          description: Start date (YYYY-MM-DD)
        - schema:
            type: string
            format: date
          in: query
          name: endDate
          required: true
          description: End date (YYYY-MM-DD)
        - schema:
            type: string
            enum:
              - gmv
              - orders_count
              - sold_count
              - tips_amount
              - saved_co2
              - pushes_sent
          in: query
          name: metric
          required: true
          description: Metric to retrieve
        - schema:
            type: string
            enum:
              - aggregated
              - locations
            default: aggregated
          in: query
          name: target
          required: false
          description: Aggregation target
      responses:
        "200":
          description: Time series data
          content:
            application/json:
              schema:
                description: Time series data
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      metric:
                        type: string
                      target:
                        type: string
                        enum:
                          - aggregated
                          - locations
                      points:
                        type: array
                        items:
                          type: object
                          properties:
                            locationId:
                              type: number
                              nullable: true
                            date:
                              type: string
                              format: date
                            value:
                              type: number
                          required:
                            - date
                            - value
                      summary:
                        type: object
                        properties:
                          total:
                            type: number
                          average:
                            type: number
                          min:
                            type: number
                          max:
                            type: number
                        required:
                          - total
                          - average
                          - min
                          - max
                    required:
                      - metric
                      - target
                      - points
                      - summary
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                      source:
                        type: string
                        enum:
                          - bigquery
                          - postgres
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                      - source
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/statistics/time-series-batch:
    get:
      tags:
        - statistics
      description: |-
        Retrieve time series data for MULTIPLE metrics in a single request. Much more efficient than calling the single-metric endpoint multiple times.

        **Query Routing**: Automatically routes to BigQuery for historical data (>24 hours) or PostgreSQL for recent data.

        **Available Metrics** (comma-separated):
        - `gmv` - Gross Merchandise Value
        - `orders_count` - Number of orders
        - `sold_count` - Number of items sold
        - `tips_amount` - Total tips amount
        - `saved_co2` - CO2 saved (grams)
        - `pushes_sent` - Push notifications sent

        **Target Options**:
        - `aggregated` - Combine all locations into single series
        - `locations` - Return separate series per location

        **Example**: `/api/v1/statistics/time-series-batch?metrics=gmv,orders_count,sold_count&locationIds=100,101&startDate=2025-01-01&endDate=2025-01-31`

        **Permissions:** ðŸ”µ `statistics.read`
      parameters:
        - schema:
            type: string
          in: query
          name: locationIds
          required: true
          description: Comma-separated list of location IDs (e.g., "100,101,102")
        - schema:
            type: string
            format: date
          in: query
          name: startDate
          required: true
          description: Start date (YYYY-MM-DD)
        - schema:
            type: string
            format: date
          in: query
          name: endDate
          required: true
          description: End date (YYYY-MM-DD)
        - schema:
            type: string
          in: query
          name: metrics
          required: true
          description: Comma-separated list of metrics (e.g., "gmv,orders_count,sold_count")
        - schema:
            type: string
            enum:
              - aggregated
              - locations
            default: aggregated
          in: query
          name: target
          required: false
          description: Aggregation target
      responses:
        "200":
          description: Time series data for multiple metrics
          content:
            application/json:
              schema:
                description: Time series data for multiple metrics
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      target:
                        type: string
                        enum:
                          - aggregated
                          - locations
                      metrics:
                        type: object
                        additionalProperties:
                          type: object
                          properties:
                            metric:
                              type: string
                              enum:
                                - gmv
                                - orders_count
                                - sold_count
                                - tips_amount
                                - saved_co2
                                - pushes_sent
                            points:
                              type: array
                              items:
                                type: object
                                properties:
                                  locationId:
                                    type: number
                                    nullable: true
                                  date:
                                    type: string
                                    format: date
                                  value:
                                    type: number
                                required:
                                  - date
                                  - value
                            summary:
                              type: object
                              properties:
                                total:
                                  type: number
                                average:
                                  type: number
                                min:
                                  type: number
                                max:
                                  type: number
                              required:
                                - total
                                - average
                                - min
                                - max
                          required:
                            - metric
                            - points
                            - summary
                        description: Object with metric names as keys and their data as values
                    required:
                      - target
                      - metrics
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                      source:
                        type: string
                        enum:
                          - bigquery
                          - postgres
                      metricsRequested:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                      - source
                      - metricsRequested
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/statistics/sale-summary:
    get:
      tags:
        - statistics
      description: >-
        Retrieve sale summary with items, extras (modifications), and tips for a
        date range.


        **Query Routing**: Automatically routes to BigQuery for historical data
        (>24 hours) or PostgreSQL for recent data.


        **Response includes**:

        - Items sold with VAT breakdown

        - Item modifications (extras) with VAT breakdown

        - Total tips

        - Summary totals


        **Permissions:** ðŸ”µ `statistics.read`
      parameters:
        - schema:
            type: string
          in: query
          name: locationIds
          required: true
          description: Comma-separated list of location IDs
        - schema:
            type: string
            format: date
          in: query
          name: startDate
          required: true
          description: Start date (YYYY-MM-DD)
        - schema:
            type: string
            format: date
          in: query
          name: endDate
          required: true
          description: End date (YYYY-MM-DD)
      responses:
        "200":
          description: Sale summary data
          content:
            application/json:
              schema:
                description: Sale summary data
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            itemId:
                              type: number
                              nullable: true
                            soldCount:
                              type: number
                            amountIncVat:
                              type: number
                            vatAmount:
                              type: number
                            vatRate:
                              type: number
                              nullable: true
                          required:
                            - soldCount
                            - amountIncVat
                            - vatAmount
                      extras:
                        type: array
                        items:
                          type: object
                          properties:
                            itemId:
                              type: number
                              nullable: true
                            soldCount:
                              type: number
                            amountIncVat:
                              type: number
                            vatAmount:
                              type: number
                            vatRate:
                              type: number
                              nullable: true
                          required:
                            - soldCount
                            - amountIncVat
                            - vatAmount
                      totalTips:
                        type: number
                      summary:
                        type: object
                        properties:
                          totalAmountIncVat:
                            type: number
                          totalVatAmount:
                            type: number
                          totalSoldCount:
                            type: number
                        required:
                          - totalAmountIncVat
                          - totalVatAmount
                          - totalSoldCount
                    required:
                      - items
                      - extras
                      - totalTips
                      - summary
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                      source:
                        type: string
                        enum:
                          - bigquery
                          - postgres
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                      - source
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/statistics/items-aggregated:
    get:
      tags:
        - statistics
      description: >-
        Retrieve aggregated items and modifications with pagination.


        **Query Routing**: Automatically routes to BigQuery for historical data
        (>24 hours) or PostgreSQL for recent data.


        **Item Types**:

        - `regular_item` - Normal menu items

        - Other types - Item modifications (extras)


        **Use Cases**:

        - Item sales reports

        - Menu performance analysis

        - VAT reporting


        **Permissions:** ðŸ”µ `statistics.read`
      parameters:
        - schema:
            type: string
          in: query
          name: locationIds
          required: true
          description: Comma-separated list of location IDs
        - schema:
            type: string
            format: date
          in: query
          name: startDate
          required: true
          description: Start date (YYYY-MM-DD)
        - schema:
            type: string
            format: date
          in: query
          name: endDate
          required: true
          description: End date (YYYY-MM-DD)
        - schema:
            type: string
            default: "1"
          in: query
          name: page
          required: false
          description: Page number
        - schema:
            type: string
            default: "50"
          in: query
          name: limit
          required: false
          description: Items per page (max 1000)
      responses:
        "200":
          description: Aggregated items data
          content:
            application/json:
              schema:
                description: Aggregated items data
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            title:
                              type: string
                              nullable: true
                            locationName:
                              type: string
                              nullable: true
                            locationId:
                              type: number
                            itemId:
                              type: number
                              nullable: true
                            articleNumber:
                              type: string
                              nullable: true
                            itemType:
                              type: string
                            discountPercentage:
                              type: number
                            amountIncVat:
                              type: number
                            vatAmount:
                              type: number
                            amountExVat:
                              type: number
                            vatRate:
                              type: number
                              nullable: true
                            soldCount:
                              type: number
                          required:
                            - locationId
                            - itemType
                            - amountIncVat
                            - vatAmount
                            - amountExVat
                            - soldCount
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                          limit:
                            type: number
                          total:
                            type: number
                          totalPages:
                            type: number
                        required:
                          - page
                          - limit
                          - total
                          - totalPages
                    required:
                      - items
                      - pagination
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                      source:
                        type: string
                        enum:
                          - bigquery
                          - postgres
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                      - source
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/statistics/tips:
    get:
      tags:
        - statistics
      description: >-
        Retrieve tips for a location and date range.


        **Query Routing**: Automatically routes to BigQuery for historical data
        (>24 hours) or PostgreSQL for recent data.


        **Response includes**:

        - Tips by date with VAT breakdown

        - Total amounts and counts


        **Permissions:** ðŸ”µ `statistics.read`
      parameters:
        - schema:
            type: string
          in: query
          name: locationId
          required: true
          description: Location ID
        - schema:
            type: string
            format: date
          in: query
          name: startDate
          required: true
          description: Start date (YYYY-MM-DD)
        - schema:
            type: string
            format: date
          in: query
          name: endDate
          required: true
          description: End date (YYYY-MM-DD)
      responses:
        "200":
          description: Tips data
          content:
            application/json:
              schema:
                description: Tips data
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      tips:
                        type: array
                        items:
                          type: object
                          properties:
                            locationId:
                              type: number
                            date:
                              type: string
                              format: date
                            amountIncVat:
                              type: number
                            vat:
                              type: number
                              nullable: true
                            vatRate:
                              type: number
                              nullable: true
                            count:
                              type: number
                            title:
                              type: string
                              nullable: true
                          required:
                            - locationId
                            - date
                            - amountIncVat
                            - count
                      summary:
                        type: object
                        properties:
                          totalAmount:
                            type: number
                          totalCount:
                            type: number
                        required:
                          - totalAmount
                          - totalCount
                    required:
                      - tips
                      - summary
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                      source:
                        type: string
                        enum:
                          - bigquery
                          - postgres
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                      - source
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/reporting/purchase-summary:
    get:
      summary: Get aggregated purchase data for accounting export
      tags:
        - Reporting
      parameters:
        - schema:
            type: integer
          in: query
          name: locationId
          required: true
          description: Location ID to get purchase summary for
        - schema:
            type: string
            pattern: ^\d{4}-\d{2}-\d{2}$
          in: query
          name: startDate
          required: true
          description: Start date in YYYY-MM-DD format
        - schema:
            type: string
            pattern: ^\d{4}-\d{2}-\d{2}$
          in: query
          name: endDate
          required: true
          description: End date in YYYY-MM-DD format (inclusive)
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      purchaseSummary:
                        type: object
                        properties:
                          items:
                            type: array
                            description: Line items grouped by accounting account
                            items:
                              type: object
                              properties:
                                account:
                                  type: string
                                  description: Account number or "no_account" for unmapped items
                                description:
                                  type: string
                                  nullable: true
                                  description: Account description
                                amount:
                                  type: integer
                                  description: Total amount in cents (excluding VAT)
                                comment:
                                  type: array
                                  description: List of items without account mapping (only for no_account)
                                  items:
                                    type: object
                                    properties:
                                      id:
                                        type: integer
                                      name:
                                        type: string
                              required:
                                - account
                                - amount
                          vats:
                            type: array
                            description: VAT amounts grouped by rate
                            items:
                              type: object
                              properties:
                                vat:
                                  type: integer
                                  description: VAT rate as percentage (e.g., 25, 12, 6)
                                amount:
                                  type: integer
                                  description: Total VAT amount in cents
                              required:
                                - vat
                                - amount
                          psp:
                            type: array
                            description: Totals grouped by payment service provider
                            items:
                              type: object
                              properties:
                                psp:
                                  type: string
                                  description: PSP name (e.g., adyen, swish)
                                amount:
                                  type: integer
                                  description: Total amount in cents (including VAT and tips)
                                tips:
                                  type: integer
                                  description: Tips amount in cents
                              required:
                                - psp
                                - amount
                                - tips
                          fees:
                            type: array
                            description: Karma fees grouped by PSP
                            items:
                              type: object
                              properties:
                                psp:
                                  type: string
                                  description: PSP name
                                vat:
                                  type: integer
                                  description: VAT on fees in cents
                                amount:
                                  type: integer
                                  description: Fee amount in cents (excluding VAT)
                              required:
                                - psp
                                - vat
                                - amount
                        required:
                          - items
                          - vats
                          - psp
                          - fees
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                      executionTimeMs:
                        type: integer
        "400":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                      executionTimeMs:
                        type: integer
        "500":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                      executionTimeMs:
                        type: integer
  /api/v1/webhooks/subscriptions:
    get:
      summary: List webhook subscriptions
      tags:
        - Webhooks
      description: |-
        List webhook subscriptions with optional filtering

        **Permissions:** ðŸ”µ `webhooks.read`
      parameters:
        - schema:
            type: number
            minimum: 1
            default: 1
          in: query
          name: page
          required: false
          description: Page number
        - schema:
            type: number
            minimum: 1
            maximum: 100
            default: 20
          in: query
          name: limit
          required: false
          description: Items per page
        - schema:
            type: boolean
          in: query
          name: active
          required: false
          description: Filter by active status
        - schema:
            type: string
          in: query
          name: event
          required: false
          description: Filter by event type
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      subscriptions:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: Unique subscription ID
                            url:
                              type: string
                              format: uri
                              description: Webhook URL endpoint
                            events:
                              type: array
                              items:
                                type: string
                              description: List of event types to subscribe to (e.g., "inventory.created",
                                "order.completed")
                            secret:
                              type: string
                              description: Webhook secret for signature verification
                            active:
                              type: boolean
                              description: Whether subscription is active
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                            updatedAt:
                              type: string
                              format: date-time
                              description: Last update timestamp
                          required:
                            - id
                            - url
                            - events
                            - active
                            - createdAt
                            - updatedAt
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                            minimum: 1
                          limit:
                            type: number
                            minimum: 1
                            maximum: 100
                          total:
                            type: number
                            minimum: 0
                          totalPages:
                            type: number
                            minimum: 0
                        required:
                          - page
                          - limit
                          - total
                          - totalPages
                    required:
                      - subscriptions
                      - pagination
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    post:
      summary: Create webhook subscription
      tags:
        - Webhooks
      description: |-
        Create a new webhook subscription

        **Permissions:** ðŸŸ¢ `webhooks.create`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                url:
                  type: string
                  format: uri
                  pattern: ^https://
                  description: Webhook URL (must be HTTPS)
                events:
                  type: array
                  items:
                    type: string
                  minItems: 1
                  description: List of event types to subscribe to
                secret:
                  type: string
                  minLength: 16
                  description: Webhook secret for signature verification (min 16 characters)
                active:
                  type: boolean
                  default: true
                  description: Whether subscription is active
              required:
                - url
                - events
                - secret
        required: true
      responses:
        "201":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Unique subscription ID
                      url:
                        type: string
                        format: uri
                        description: Webhook URL endpoint
                      events:
                        type: array
                        items:
                          type: string
                        description: List of event types to subscribe to (e.g., "inventory.created",
                          "order.completed")
                      secret:
                        type: string
                        description: Webhook secret for signature verification
                      active:
                        type: boolean
                        description: Whether subscription is active
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Last update timestamp
                    required:
                      - id
                      - url
                      - events
                      - active
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/webhooks/subscriptions/{id}:
    get:
      summary: Get webhook subscription
      tags:
        - Webhooks
      description: |-
        Get a single webhook subscription by ID

        **Permissions:** ðŸ”µ `webhooks.read`
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: Webhook subscription ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Unique subscription ID
                      url:
                        type: string
                        format: uri
                        description: Webhook URL endpoint
                      events:
                        type: array
                        items:
                          type: string
                        description: List of event types to subscribe to (e.g., "inventory.created",
                          "order.completed")
                      secret:
                        type: string
                        description: Webhook secret for signature verification
                      active:
                        type: boolean
                        description: Whether subscription is active
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Last update timestamp
                    required:
                      - id
                      - url
                      - events
                      - active
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    put:
      summary: Update webhook subscription
      tags:
        - Webhooks
      description: |-
        Update an existing webhook subscription

        **Permissions:** ðŸŸ  `webhooks.update`
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                url:
                  type: string
                  format: uri
                  pattern: ^https://
                events:
                  type: array
                  items:
                    type: string
                  minItems: 1
                secret:
                  type: string
                  minLength: 16
                active:
                  type: boolean
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: Webhook subscription ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Unique subscription ID
                      url:
                        type: string
                        format: uri
                        description: Webhook URL endpoint
                      events:
                        type: array
                        items:
                          type: string
                        description: List of event types to subscribe to (e.g., "inventory.created",
                          "order.completed")
                      secret:
                        type: string
                        description: Webhook secret for signature verification
                      active:
                        type: boolean
                        description: Whether subscription is active
                      createdAt:
                        type: string
                        format: date-time
                        description: Creation timestamp
                      updatedAt:
                        type: string
                        format: date-time
                        description: Last update timestamp
                    required:
                      - id
                      - url
                      - events
                      - active
                      - createdAt
                      - updatedAt
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
    delete:
      summary: Delete webhook subscription
      tags:
        - Webhooks
      description: |-
        Delete a webhook subscription

        **Permissions:** ðŸ”´ `webhooks.delete`
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
          description: Webhook subscription ID
      responses:
        "200":
          description: Subscription successfully deleted
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      deleted:
                        type: boolean
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/webhooks/logs:
    get:
      summary: List webhook logs
      tags:
        - Webhooks
      description: List webhook delivery logs with optional filtering
      parameters:
        - schema:
            type: number
            minimum: 1
            default: 1
          in: query
          name: page
          required: false
          description: Page number
        - schema:
            type: number
            minimum: 1
            maximum: 100
            default: 20
          in: query
          name: limit
          required: false
          description: Items per page
        - schema:
            type: string
          in: query
          name: subscriptionId
          required: false
          description: Filter by subscription ID
        - schema:
            type: string
          in: query
          name: event
          required: false
          description: Filter by event type
        - schema:
            type: string
            enum:
              - pending
              - success
              - failed
              - retrying
          in: query
          name: status
          required: false
          description: Filter by delivery status
        - schema:
            type: string
          in: query
          name: resourceId
          required: false
          description: Filter by resource ID
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      logs:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: Unique log ID
                            subscriptionId:
                              type: string
                              description: Subscription ID
                            event:
                              type: string
                              description: Event type that triggered webhook
                            resourceId:
                              type: string
                              description: ID of the resource that changed
                            status:
                              type: string
                              enum:
                                - pending
                                - success
                                - failed
                                - retrying
                              description: Delivery status
                            attempts:
                              type: number
                              description: Number of delivery attempts
                            responseCode:
                              type: number
                              nullable: true
                              description: HTTP response code from webhook endpoint
                            errorMessage:
                              type: string
                              nullable: true
                              description: Error message if delivery failed
                            deliveredAt:
                              type: string
                              format: date-time
                              nullable: true
                              description: Successful delivery timestamp
                            createdAt:
                              type: string
                              format: date-time
                              description: Creation timestamp
                          required:
                            - id
                            - subscriptionId
                            - event
                            - resourceId
                            - status
                            - attempts
                            - createdAt
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                            minimum: 1
                          limit:
                            type: number
                            minimum: 1
                            maximum: 100
                          total:
                            type: number
                            minimum: 0
                          totalPages:
                            type: number
                            minimum: 0
                        required:
                          - page
                          - limit
                          - total
                          - totalPages
                    required:
                      - logs
                      - pagination
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - data
                  - meta
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/data-streaming/connection:
    get:
      summary: Get connection details including BigQuery credentials and available
        datasets
      tags:
        - data-streaming
      description: Get data streaming connection for current company
      responses:
        "200":
          description: Data streaming connection details
          content:
            application/json:
              schema:
                description: Data streaming connection details
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                      companyId:
                        type: integer
                      status:
                        type: string
                        enum:
                          - pending
                          - active
                          - suspended
                          - inactive
                      bqProjectId:
                        type: string
                        nullable: true
                      bqDatasetId:
                        type: string
                        nullable: true
                      gcpServiceAccountEmail:
                        type: string
                        nullable: true
                      availableDatasets:
                        type: array
                        items:
                          type: string
                      currentMonthBytesScanned:
                        type: integer
                      lastUsageSyncAt:
                        type: string
                        format: date-time
                        nullable: true
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
                      activatedAt:
                        type: string
                        format: date-time
                        nullable: true
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/data-streaming/usage:
    get:
      summary: Get monthly usage history including bytes scanned and estimated costs
      tags:
        - data-streaming
      description: Get usage statistics for data streaming connection
      parameters:
        - schema:
            type: integer
            minimum: 1
            maximum: 24
            default: 3
          in: query
          name: months
          required: false
          description: Number of months of usage history to return
      responses:
        "200":
          description: Usage statistics
          content:
            application/json:
              schema:
                description: Usage statistics
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      months:
                        type: array
                        items:
                          type: object
                          properties:
                            month:
                              type: string
                              description: Month in YYYY-MM format
                            bytesScanned:
                              type: integer
                            queryCount:
                              type: integer
                            estimatedCostSek:
                              type: number
                      totalBytesScanned:
                        type: integer
                      totalQueryCount:
                        type: integer
                      totalCostSek:
                        type: number
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tokens/balance:
    get:
      tags:
        - tokens
      description: Get token balance and limits for a location
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: true
          description: Location ID to get token balance for
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      locationId:
                        type: number
                      balance:
                        type: number
                        description: Current token balance
                      monthlyLimit:
                        type: number
                        nullable: true
                        description: Monthly token limit (null = unlimited)
                      dailyLimit:
                        type: number
                        nullable: true
                        description: Daily token limit (null = unlimited)
                      totalUsed:
                        type: number
                        description: Total tokens used (lifetime)
                      usageToday:
                        type: number
                        description: Tokens used today
                      usageThisMonth:
                        type: number
                        description: Tokens used this month
                      lastResetAt:
                        type: string
                        format: date-time
                        nullable: true
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
  /api/v1/tokens/usage:
    get:
      tags:
        - tokens
      description: Get token usage history with filtering and pagination
      parameters:
        - schema:
            type: number
          in: query
          name: locationId
          required: true
          description: Location ID to get usage for
        - schema:
            type: string
            format: date-time
          in: query
          name: startDate
          required: false
          description: Filter from this date (ISO 8601)
        - schema:
            type: string
            format: date-time
          in: query
          name: endDate
          required: false
          description: Filter to this date (ISO 8601)
        - schema:
            type: string
            enum:
              - llm_input
              - llm_output
              - bigquery
              - image_gen
              - content_gen
          in: query
          name: transactionType
          required: false
          description: Filter by transaction type
        - schema:
            type: number
            default: 1
            minimum: 1
          in: query
          name: page
          required: false
          description: Page number
        - schema:
            type: number
            default: 50
            minimum: 1
            maximum: 1000
          in: query
          name: limit
          required: false
          description: Items per page (max 1000)
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      transactions:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                            transactionType:
                              type: string
                            tokensUsed:
                              type: number
                            costCents:
                              type: number
                              nullable: true
                            serviceName:
                              type: string
                              nullable: true
                            metadata:
                              type: object
                              nullable: true
                            createdAt:
                              type: string
                              format: date-time
                            createdBy:
                              type: object
                              nullable: true
                              properties:
                                id:
                                  type: number
                                name:
                                  type: string
                      pagination:
                        type: object
                        properties:
                          page:
                            type: number
                          limit:
                            type: number
                          totalItems:
                            type: number
                          totalPages:
                            type: number
                      summary:
                        type: object
                        properties:
                          totalTokens:
                            type: number
                          totalCostCents:
                            type: number
                          byType:
                            type: object
                            additionalProperties:
                              type: number
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
        "400":
          description: Bad Request - Invalid input parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_INPUT
                  message: Invalid request parameters
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 5
        "401":
          description: Unauthorized - Missing or invalid API key
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INVALID_API_KEY
                  message: Invalid API key provided
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 3
        "403":
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INSUFFICIENT_PERMISSIONS
                  message: You do not have permission to access this resource
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 4
        "404":
          description: Not Found - Resource does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RESOURCE_NOT_FOUND
                  message: The requested resource was not found
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 2
        "429":
          description: Too Many Requests - Rate limit exceeded
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: RATE_LIMIT_EXCEEDED
                  message: Rate limit exceeded. Please try again later.
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 1
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
                      details:
                        type: object
                        additionalProperties: true
                    required:
                      - code
                      - message
                  meta:
                    type: object
                    properties:
                      requestId:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
                      executionTimeMs:
                        type: number
                    required:
                      - requestId
                      - timestamp
                      - executionTimeMs
                required:
                  - status
                  - error
                  - meta
              example:
                status: error
                error:
                  code: INTERNAL_SERVER_ERROR
                  message: An unexpected error occurred
                meta:
                  requestId: req_123456
                  timestamp: 2025-01-15T10:30:00.000Z
                  executionTimeMs: 10
servers:
  - url: https://common-api.karma.life
    description: Production
  - url: https://common-api.beta.karma.life
    description: Beta
  - url: https://common-api.development.karma.life
    description: Development
security:
  - ApiKeyAuth: []
tags:
  - name: Retailer Authentication
    description: Login and authentication for retailer/merchant users
  - name: Inventory
    description: Menu items, products, and modifiers
  - name: stores
    description: Store information for storefront applications
  - name: translations
    description: Multi-language translations for inventory and menus
  - name: Locations
    description: Location management and hierarchy
  - name: Orders
    description: Customer orders and order management
  - name: Purchases
    description: Purchase history and transactions
  - name: Menu Layouts
    description: Menu structure and organization
  - name: Variant Groups
    description: Product options and modifiers
  - name: Tables
    description: Restaurant table management
  - name: Table Groups
    description: Table grouping and floor plans
  - name: Location Maps
    description: Floor plans and seating layouts
  - name: Tabs
    description: Customer tabs and running bills
  - name: Tab Payments
    description: Tab payment processing and settlement
  - name: Settlements
    description: Tab settlements and payment groupings
  - name: tab-items
    description: Tab item claiming and selection for individual payment
  - name: checkout
    description: Checkout summary and payment preparation
  - name: tab-discounts
    description: Manual discounts and price adjustments on tab items
  - name: kitchen-dispatch-items
    description: Kitchen dispatch items and order splitting
  - name: Payment Methods
    description: Saved payment methods and cards
  - name: Vouchers
    description: Discount vouchers and promotions
  - name: Loyalty Programs
    description: Customer loyalty programs, points, tiers, and rewards
  - name: Invoices
    description: Invoice management, recipients, and location settings
  - name: Users
    description: User management and permissions
  - name: Roles
    description: Role management with permission assignment
  - name: Permissions
    description: Permission registry and management
  - name: Custom Tags
    description: Labels and categorization
  - name: Coursings
    description: Multi-course meal sequencing
  - name: Terminals
    description: Payment terminal management
  - name: Printers
    description: Receipt and ticket printer management with CloudPRNT URLs
  - name: Print Templates
    description: Receipt and ticket templates
  - name: Print Jobs
    description: Print job queue management
  - name: Schedules
    description: Operating hours and special schedules
  - name: Channels
    description: Sales channels (dine-in, takeaway, delivery)
  - name: Alerts
    description: System notifications and warnings
  - name: Analytics
    description: Enterprise real-time analytics with BigQuery
  - name: analytics-dashboards
    description: Analytics dashboards and visualizations with smart caching
  - name: Statistics
    description: Sales statistics and reports
  - name: Reporting
    description: Business reports and exports
  - name: Webhooks
    description: Webhook subscriptions and event notifications
  - name: API Keys
    description: Authentication keys and permissions
  - name: Data Streaming
    description: Real-time data streaming and sync
  - name: Health
    description: Service health and readiness checks
  - name: Internal
    description: Internal tools and utilities (development only)
